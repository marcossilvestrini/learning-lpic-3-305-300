<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <link rel="icon" href="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22%3E%3Ctext%20y=%22.9em%22%20font-size=%2290%22%3Eüåê%3C/text%3E%3C/svg%3E" type="image/x-icon">
    <style>
[data-color-mode*='light'], [data-color-mode*='light'] body, .markdown-style[theme*='light'] { --color-prettylights-syntax-comment: #6e7781; --color-prettylights-syntax-constant: #0550ae; --color-prettylights-syntax-entity: #8250df; --color-prettylights-syntax-storage-modifier-import: #24292f; --color-prettylights-syntax-entity-tag: #116329; --color-prettylights-syntax-keyword: #cf222e; --color-prettylights-syntax-string: #0a3069; --color-prettylights-syntax-variable: #953800; --color-prettylights-syntax-brackethighlighter-unmatched: #82071e; --color-prettylights-syntax-invalid-illegal-text: #f6f8fa; --color-prettylights-syntax-invalid-illegal-bg: #82071e; --color-prettylights-syntax-carriage-return-text: #f6f8fa; --color-prettylights-syntax-carriage-return-bg: #cf222e; --color-prettylights-syntax-string-regexp: #116329; --color-prettylights-syntax-markup-list: #3b2300; --color-prettylights-syntax-markup-heading: #0550ae; --color-prettylights-syntax-markup-italic: #24292f; --color-prettylights-syntax-markup-bold: #24292f; --color-prettylights-syntax-markup-deleted-text: #82071e; --color-prettylights-syntax-markup-deleted-bg: #FFEBE9; --color-prettylights-syntax-markup-inserted-text: #116329; --color-prettylights-syntax-markup-inserted-bg: #dafbe1; --color-prettylights-syntax-markup-changed-text: #953800; --color-prettylights-syntax-markup-changed-bg: #ffd8b5; --color-prettylights-syntax-markup-ignored-text: #eaeef2; --color-prettylights-syntax-markup-ignored-bg: #0550ae; --color-prettylights-syntax-meta-diff-range: #8250df; --color-prettylights-syntax-brackethighlighter-angle: #57606a; --color-prettylights-syntax-sublimelinter-gutter-mark: #8c959f; --color-prettylights-syntax-constant-other-reference-link: #0a3069; --color-fg-default: #24292f; --color-fg-muted: #57606a; --color-fg-subtle: #6e7781; --color-canvas-default: #ffffff; --color-canvas-subtle: #f6f8fa; --color-border-default: #d0d7de; --color-border-muted: hsla(210,18%,87%,1); --color-neutral-muted: rgba(175,184,193,0.2); --color-accent-fg: #0969da; --color-accent-emphasis: #0969da; --color-attention-subtle: #fff8c5; --color-danger-fg: #cf222e; }
[data-color-mode*='dark'], [data-color-mode*='dark'] body, .markdown-style[theme*='dark'] { --color-prettylights-syntax-comment: #8b949e; --color-prettylights-syntax-constant: #79c0ff; --color-prettylights-syntax-entity: #d2a8ff; --color-prettylights-syntax-storage-modifier-import: #c9d1d9; --color-prettylights-syntax-entity-tag: #7ee787; --color-prettylights-syntax-keyword: #ff7b72; --color-prettylights-syntax-string: #a5d6ff; --color-prettylights-syntax-variable: #ffa657; --color-prettylights-syntax-brackethighlighter-unmatched: #f85149; --color-prettylights-syntax-invalid-illegal-text: #f0f6fc; --color-prettylights-syntax-invalid-illegal-bg: #8e1519; --color-prettylights-syntax-carriage-return-text: #f0f6fc; --color-prettylights-syntax-carriage-return-bg: #b62324; --color-prettylights-syntax-string-regexp: #7ee787; --color-prettylights-syntax-markup-list: #f2cc60; --color-prettylights-syntax-markup-heading: #1f6feb; --color-prettylights-syntax-markup-italic: #c9d1d9; --color-prettylights-syntax-markup-bold: #c9d1d9; --color-prettylights-syntax-markup-deleted-text: #ffdcd7; --color-prettylights-syntax-markup-deleted-bg: #67060c; --color-prettylights-syntax-markup-inserted-text: #aff5b4; --color-prettylights-syntax-markup-inserted-bg: #033a16; --color-prettylights-syntax-markup-changed-text: #ffdfb6; --color-prettylights-syntax-markup-changed-bg: #5a1e02; --color-prettylights-syntax-markup-ignored-text: #c9d1d9; --color-prettylights-syntax-markup-ignored-bg: #1158c7; --color-prettylights-syntax-meta-diff-range: #d2a8ff; --color-prettylights-syntax-brackethighlighter-angle: #8b949e; --color-prettylights-syntax-sublimelinter-gutter-mark: #484f58; --color-prettylights-syntax-constant-other-reference-link: #a5d6ff; --color-fg-default: #c9d1d9; --color-fg-muted: #8b949e; --color-fg-subtle: #484f58; --color-canvas-default: #0d1117; --color-canvas-subtle: #161b22; --color-border-default: #30363d; --color-border-muted: #21262d; --color-neutral-muted: rgba(110,118,129,0.4); --color-accent-fg: #58a6ff; --color-accent-emphasis: #1f6feb; --color-attention-subtle: rgba(187,128,9,0.15); --color-danger-fg: #f85149; }
.markdown-style { display: block; -webkit-text-size-adjust: 100%; font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"; font-size: 16px; line-height: 1.5; word-wrap: break-word; color: var(--color-fg-default); background-color: var(--color-canvas-default); } .markdown-style details, .markdown-style figcaption, .markdown-style figure { display: block; } .markdown-style summary { display: list-item; } .markdown-style [hidden] { display: none !important; } .markdown-style a { background-color: transparent; color: var(--color-accent-fg); text-decoration: none; } .markdown-style a:active, .markdown-style a:hover { outline-width: 0; } .markdown-style abbr[title] { border-bottom: none; text-decoration: underline dotted; } .markdown-style b, .markdown-style strong { font-weight: 600; } .markdown-style dfn { font-style: italic; } .markdown-style h1 { margin: .67em 0; font-weight: 600; padding-bottom: .3em; font-size: 2em; border-bottom: 1px solid var(--color-border-muted); } .markdown-style mark { background-color: var(--color-attention-subtle); color: var(--color-text-primary); } .markdown-style small { font-size: 90%; } .markdown-style sub, .markdown-style sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; } .markdown-style sub { bottom: -0.25em; } .markdown-style sup { top: -0.5em; } .markdown-style img { border-style: none; max-width: 100%; box-sizing: content-box; background-color: var(--color-canvas-default); } .markdown-style code, .markdown-style kbd, .markdown-style pre, .markdown-style samp { font-family: monospace,monospace; font-size: 1em; } .markdown-style figure { margin: 1em 40px; } .markdown-style hr { box-sizing: content-box; overflow: hidden; background: transparent; border-bottom: 1px solid var(--color-border-muted); height: .25em; padding: 0; margin: 24px 0; background-color: var(--color-border-default); border: 0; } .markdown-style input { font: inherit; margin: 0; overflow: visible; font-family: inherit; font-size: inherit; line-height: inherit; } .markdown-style [type=button], .markdown-style [type=reset], .markdown-style [type=submit] { -webkit-appearance: button; } .markdown-style [type=button]::-moz-focus-inner, .markdown-style [type=reset]::-moz-focus-inner, .markdown-style [type=submit]::-moz-focus-inner { border-style: none; padding: 0; } .markdown-style [type=button]:-moz-focusring, .markdown-style [type=reset]:-moz-focusring, .markdown-style [type=submit]:-moz-focusring { outline: 1px dotted ButtonText; } .markdown-style [type=checkbox], .markdown-style [type=radio] { box-sizing: border-box; padding: 0; } .markdown-style [type=number]::-webkit-inner-spin-button, .markdown-style [type=number]::-webkit-outer-spin-button { height: auto; } .markdown-style [type=search] { -webkit-appearance: textfield; outline-offset: -2px; } .markdown-style [type=search]::-webkit-search-cancel-button, .markdown-style [type=search]::-webkit-search-decoration { -webkit-appearance: none; } .markdown-style ::-webkit-input-placeholder { color: inherit; opacity: .54; } .markdown-style ::-webkit-file-upload-button { -webkit-appearance: button; font: inherit; } .markdown-style a:hover { text-decoration: underline; } .markdown-style hr::before { display: table; content: ""; } .markdown-style hr::after { display: table; clear: both; content: ""; } .markdown-style table { border-spacing: 0; border-collapse: collapse; display: block; width: max-content; max-width: 100%; overflow: auto; } .markdown-style td, .markdown-style th { padding: 0; } .markdown-style details summary { cursor: pointer; } .markdown-style details:not([open])>*:not(summary) { display: none !important; } .markdown-style kbd { display: inline-block; padding: 3px 5px; font: 11px ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace; line-height: 10px; color: var(--color-fg-default); vertical-align: middle; background-color: var(--color-canvas-subtle); border: solid 1px var(--color-neutral-muted); border-bottom-color: var(--color-neutral-muted); border-radius: 6px; box-shadow: inset 0 -1px 0 var(--color-neutral-muted); } .markdown-style h1, .markdown-style h2, .markdown-style h3, .markdown-style h4, .markdown-style h5, .markdown-style h6 { margin-top: 24px; margin-bottom: 16px; font-weight: 600; line-height: 1.25; } .markdown-style h2 { font-weight: 600; padding-bottom: .3em; font-size: 1.5em; border-bottom: 1px solid var(--color-border-muted); } .markdown-style h3 { font-weight: 600; font-size: 1.25em; } .markdown-style h4 { font-weight: 600; font-size: 1em; } .markdown-style h5 { font-weight: 600; font-size: .875em; } .markdown-style h6 { font-weight: 600; font-size: .85em; color: var(--color-fg-muted); } .markdown-style p { margin-top: 0; margin-bottom: 10px; } .markdown-style blockquote { margin: 0; padding: 0 1em; color: var(--color-fg-muted); border-left: .25em solid var(--color-border-default); } .markdown-style ul, .markdown-style ol { margin-top: 0; margin-bottom: 0; padding-left: 2em; } .markdown-style ol ol, .markdown-style ul ol { list-style-type: lower-roman; } .markdown-style ul ul ol, .markdown-style ul ol ol, .markdown-style ol ul ol, .markdown-style ol ol ol { list-style-type: lower-alpha; } .markdown-style dd { margin-left: 0; } .markdown-style tt, .markdown-style code { font-family: ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace; font-size: 12px; } .markdown-style pre { margin-top: 0; margin-bottom: 0; font-family: ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace; font-size: 12px; word-wrap: normal; } .markdown-style .octicon { display: inline-block; overflow: visible !important; vertical-align: text-bottom; fill: currentColor; } .markdown-style ::placeholder { color: var(--color-fg-subtle); opacity: 1; } .markdown-style input::-webkit-outer-spin-button, .markdown-style input::-webkit-inner-spin-button { margin: 0; -webkit-appearance: none; appearance: none; }
.markdown-style .token.comment, .markdown-style .token.prolog, .markdown-style .token.doctype, .markdown-style .token.cdata { color: var(--color-prettylights-syntax-comment); } .markdown-style .token.namespace { opacity: 0.7; } .markdown-style .token.tag, .markdown-style .token.selector, .markdown-style .token.constant, .markdown-style .token.symbol, .markdown-style .token.deleted { color: var(--color-prettylights-syntax-entity-tag); } .markdown-style .token.maybe-class-name { color: var(--color-prettylights-syntax-variable); } .markdown-style .token.property-access, .markdown-style .token.operator, .markdown-style .token.boolean, .markdown-style .token.number, .markdown-style .token.selector .markdown-style .token.class, .markdown-style .token.attr-name, .markdown-style .token.string, .markdown-style .token.char, .markdown-style .token.builtin { color: var(--color-prettylights-syntax-constant); } .markdown-style .token.deleted { color: var(--color-prettylights-syntax-markup-deleted-text); } .markdown-style .token.property { color: var(--color-prettylights-syntax-constant); } .markdown-style .token.punctuation { color: var(--color-prettylights-syntax-markup-bold); } .markdown-style .token.function { color: var(--color-prettylights-syntax-entity); } .markdown-style .code-line .token.deleted { background-color: var(--color-prettylights-syntax-markup-deleted-bg); } .markdown-style .token.inserted { color: var(--color-prettylights-syntax-markup-inserted-text); } .markdown-style .code-line .token.inserted { background-color: var(--color-prettylights-syntax-markup-inserted-bg); } .markdown-style .token.variable { color: var(--color-prettylights-syntax-constant); } .markdown-style .token.entity, .markdown-style .token.url, .language-css .markdown-style .token.string, .style .markdown-style .token.string { color: var(--color-prettylights-syntax-string); } .markdown-style .token.color, .markdown-style .token.atrule, .markdown-style .token.attr-value, .markdown-style .token.function, .markdown-style .token.class-name { color: var(--color-prettylights-syntax-string); } .markdown-style .token.rule, .markdown-style .token.regex, .markdown-style .token.important, .markdown-style .token.keyword { color: var(--color-prettylights-syntax-keyword); } .markdown-style .token.coord { color: var(--color-prettylights-syntax-meta-diff-range); } .markdown-style .token.important, .markdown-style .token.bold { font-weight: bold; } .markdown-style .token.italic { font-style: italic; } .markdown-style .token.entity { cursor: help; }
.markdown-style [data-catalyst] { display: block; } .markdown-style g-emoji { font-family: "Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"; font-size: 1em; font-style: normal !important; font-weight: 400; line-height: 1; vertical-align: -0.075em; } .markdown-style g-emoji img { width: 1em; height: 1em; } .markdown-style::before { display: table; content: ""; } .markdown-style::after { display: table; clear: both; content: ""; } .markdown-style>*:first-child { margin-top: 0 !important; } .markdown-style>*:last-child { margin-bottom: 0 !important; } .markdown-style a:not([href]) { color: inherit; text-decoration: none; } .markdown-style .absent { color: var(--color-danger-fg); } .markdown-style a.anchor { float: left; padding-right: 4px; margin-left: -20px; line-height: 1; } .markdown-style a.anchor:focus { outline: none; } .markdown-style p, .markdown-style blockquote, .markdown-style ul, .markdown-style ol, .markdown-style dl, .markdown-style table, .markdown-style pre, .markdown-style details { margin-top: 0; margin-bottom: 16px; } .markdown-style blockquote>:first-child { margin-top: 0; } .markdown-style blockquote>:last-child { margin-bottom: 0; } .markdown-style sup>a::before { content: "["; } .markdown-style sup>a::after { content: "]"; }
.markdown-style .octicon-video { border: 1px solid #d0d7de !important; border-radius: 6px !important; display: block; } .markdown-style .octicon-video summary { border-bottom: 1px solid #d0d7de !important; padding: 8px 16px !important; cursor: pointer; } .markdown-style .octicon-video > video { display: block !important; max-width: 100% !important; padding: 2px; box-sizing: border-box; border-bottom-right-radius: 6px !important; border-bottom-left-radius: 6px !important; } .markdown-style details.octicon-video:not([open])>*:not(summary) { display: none !important; } .markdown-style details.octicon-video:not([open]) > summary { border-bottom: 0 !important; } .markdown-style h1 .octicon-link, .markdown-style h2 .octicon-link, .markdown-style h3 .octicon-link, .markdown-style h4 .octicon-link, .markdown-style h5 .octicon-link, .markdown-style h6 .octicon-link { color: var(--color-fg-default); vertical-align: middle; visibility: hidden; } .markdown-style h1:hover .anchor, .markdown-style h2:hover .anchor, .markdown-style h3:hover .anchor, .markdown-style h4:hover .anchor, .markdown-style h5:hover .anchor, .markdown-style h6:hover .anchor { text-decoration: none; } .markdown-style h1:hover .anchor .octicon-link, .markdown-style h2:hover .anchor .octicon-link, .markdown-style h3:hover .anchor .octicon-link, .markdown-style h4:hover .anchor .octicon-link, .markdown-style h5:hover .anchor .octicon-link, .markdown-style h6:hover .anchor .octicon-link { visibility: visible; } .markdown-style h1 tt, .markdown-style h1 code, .markdown-style h2 tt, .markdown-style h2 code, .markdown-style h3 tt, .markdown-style h3 code, .markdown-style h4 tt, .markdown-style h4 code, .markdown-style h5 tt, .markdown-style h5 code, .markdown-style h6 tt, .markdown-style h6 code { padding: 0 .2em; font-size: inherit; } .markdown-style ul.no-list, .markdown-style ol.no-list { padding: 0; list-style-type: none; } .markdown-style ol[type="1"] { list-style-type: decimal; } .markdown-style ol[type=a] { list-style-type: lower-alpha; } .markdown-style ol[type=i] { list-style-type: lower-roman; } .markdown-style div>ol:not([type]) { list-style-type: decimal; } .markdown-style ul ul, .markdown-style ul ol, .markdown-style ol ol, .markdown-style ol ul { margin-top: 0; margin-bottom: 0; } .markdown-style li>p { margin-top: 16px; } .markdown-style li+li { margin-top: .25em; } .markdown-style dl { padding: 0; } .markdown-style dl dt { padding: 0; margin-top: 16px; font-size: 1em; font-style: italic; font-weight: 600; } .markdown-style dl dd { padding: 0 16px; margin-bottom: 16px; } .markdown-style table th { font-weight: 600; } .markdown-style table th, .markdown-style table td { padding: 6px 13px; border: 1px solid var(--color-border-default); } .markdown-style table tr { background-color: var(--color-canvas-default); border-top: 1px solid var(--color-border-muted); } .markdown-style table tr:nth-child(2n) { background-color: var(--color-canvas-subtle); } .markdown-style table img { background-color: transparent; vertical-align: middle; } .markdown-style img[align=right] { padding-left: 20px; } .markdown-style img[align=left] { padding-right: 20px; } .markdown-style .emoji { max-width: none; vertical-align: text-top; background-color: transparent; } .markdown-style span.frame { display: block; overflow: hidden; } .markdown-style span.frame>span { display: block; float: left; width: auto; padding: 7px; margin: 13px 0 0; overflow: hidden; border: 1px solid var(--color-border-default); } .markdown-style span.frame span img { display: block; float: left; } .markdown-style span.frame span span { display: block; padding: 5px 0 0; clear: both; color: var(--color-fg-default); } .markdown-style span.align-center { display: block; overflow: hidden; clear: both; } .markdown-style span.align-center>span { display: block; margin: 13px auto 0; overflow: hidden; text-align: center; } .markdown-style span.align-center span img { margin: 0 auto; text-align: center; } .markdown-style span.align-right { display: block; overflow: hidden; clear: both; } .markdown-style span.align-right>span { display: block; margin: 13px 0 0; overflow: hidden; text-align: right; } .markdown-style span.align-right span img { margin: 0; text-align: right; } .markdown-style span.float-left { display: block; float: left; margin-right: 13px; overflow: hidden; } .markdown-style span.float-left span { margin: 13px 0 0; } .markdown-style span.float-right { display: block; float: right; margin-left: 13px; overflow: hidden; } .markdown-style span.float-right>span { display: block; margin: 13px auto 0; overflow: hidden; text-align: right; } .markdown-style code, .markdown-style tt { padding: .2em .4em; margin: 0; font-size: 85%; background-color: var(--color-neutral-muted); border-radius: 6px; } .markdown-style code br, .markdown-style tt br { display: none; } .markdown-style del code { text-decoration: inherit; } .markdown-style pre code { font-size: 100%; } .markdown-style pre>code { padding: 0; margin: 0; word-break: normal; white-space: pre; background: transparent; border: 0; } .markdown-style pre { position: relative; font-size: 85%; line-height: 1.45; background-color: var(--color-canvas-subtle); border-radius: 6px; } .markdown-style pre code, .markdown-style pre tt { display: inline; max-width: auto; padding: 0; margin: 0; overflow: visible; line-height: inherit; word-wrap: normal; background-color: transparent; border: 0; } .markdown-style pre > code { padding: 16px; overflow: auto; display: block; } .markdown-style .csv-data td, .markdown-style .csv-data th { padding: 5px; overflow: hidden; font-size: 12px; line-height: 1; text-align: left; white-space: nowrap; } .markdown-style .csv-data .blob-num { padding: 10px 8px 9px; text-align: right; background: var(--color-canvas-default); border: 0; } .markdown-style .csv-data tr { border-top: 0; } .markdown-style .csv-data th { font-weight: 600; background: var(--color-canvas-subtle); border-top: 0; } .markdown-style .footnotes { font-size: 12px; color: var(--color-fg-muted); border-top: 1px solid var(--color-border-default); } .markdown-style .footnotes ol { padding-left: 16px; } .markdown-style .footnotes li { position: relative; } .markdown-style .footnotes li:target::before { position: absolute; top: -8px; right: -8px; bottom: -8px; left: -24px; pointer-events: none; content: ""; border: 2px solid var(--color-accent-emphasis); border-radius: 6px; } .markdown-style .footnotes li:target { color: var(--color-fg-default); } .markdown-style .footnotes .data-footnote-backref g-emoji { font-family: monospace; } .markdown-style .task-list-item { list-style-type: none; } .markdown-style .task-list-item label { font-weight: 400; } .markdown-style .task-list-item.enabled label { cursor: pointer; } .markdown-style .task-list-item+.task-list-item { margin-top: 3px; } .markdown-style .task-list-item .handle { display: none; } .markdown-style .task-list-item-checkbox, .markdown-style input[type="checkbox"] { margin: 0 .2em .25em -1.6em; vertical-align: middle; } .markdown-style .contains-task-list:dir(rtl) .task-list-item-checkbox, .markdown-style .contains-task-list:dir(rtl) input[type="checkbox"] { margin: 0 -1.6em .25em .2em; } .markdown-style ::-webkit-calendar-picker-indicator { filter: invert(50%); }

/** copy button style **/
.markdown-style pre .copied {
  display: flex;
  position: absolute;
  cursor: pointer;
  color: #a5afbb;
  top: 6px;
  right: 6px;
  border-radius: 5px;
  background: #82828226;
  padding: 6px;
  font-size: 12px;
  transition: all .3s;
}
.markdown-style pre .copied:not(.active) { visibility: hidden; }
.markdown-style pre:hover .copied { visibility: visible; }
.markdown-style pre:hover .copied:hover { background: #4caf50; color: #fff; }
.markdown-style pre:hover .copied:active,
.markdown-style pre .copied.active { background: #2e9b33; color: #fff; }
.markdown-style pre .copied svg { position: relative; }
.markdown-style pre .copied .octicon-copy { display: block; }
.markdown-style pre .copied .octicon-check { display: none; }
.markdown-style pre .active .octicon-copy { display: none; }
.markdown-style pre .active .octicon-check { display: block; }

/** octicon style **/
.markdown-style h1:hover a.anchor .octicon-link:before,
.markdown-style h2:hover a.anchor .octicon-link:before,
.markdown-style h3:hover a.anchor .octicon-link:before,
.markdown-style h4:hover a.anchor .octicon-link:before,
.markdown-style h5:hover a.anchor .octicon-link:before,
.markdown-style h6:hover a.anchor .octicon-link:before {
  width: 16px;
  height: 16px;
  content: ' ';
  display: inline-block;
  background-color: currentColor;
  -webkit-mask-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>");
  mask-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>");
}

.markdown-style ::-webkit-scrollbar {
  background: transparent;
  width: 8px;
  height: 8px;
}

.markdown-style ::-webkit-scrollbar-thumb {
  background: var(--color-fg-muted);
  border-radius: 10px;
}
</style>
    <style>
a:hover .octo-arm { animation: octocat-wave 560ms ease-in-out; }
svg { z-index: 99; position: fixed; border: 0px; top: 0px; right: 0; }
@media (max-width:500px) {
  a:hover .octo-arm { animation: none; }
  .octo-arm { animation: octocat-wave 560ms ease-in-out; }
}

@keyframes octocat-wave {
  0%, 100% { transform: rotate(0); }
  20%, 60% { transform: rotate(-25deg); }
  40%, 80% { transform: rotate(10deg); }
}
</style>
  </head>
  <body><svg width="80" height="80" viewBox="0 0 250 250"><a xlink:href="https://github.com/marcossilvestrini/learning-lpic-3-305-300" target="_blank" rel="nofollow sponsored" style="fill: rgb(21, 21, 19); color: rgb(255, 255, 255);"><g><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" class="octo-arm" style="transform-origin: 130px 106px;"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></g></a></svg><dark-mode style="position: fixed; top: 8px; left: 10px; z-index: 999;" dark="Dark" light="Light" permanent="true"></dark-mode><script>const t=document;const e="_dark_mode_theme_";const s="permanent";const o="colorschemechange";const i="permanentcolorscheme";const h="light";const r="dark";const n=(t,e,s=e)=>{Object.defineProperty(t,s,{enumerable:true,get(){const t=this.getAttribute(e);return t===null?"":t},set(t){this.setAttribute(e,t)}})};const c=(t,e,s=e)=>{Object.defineProperty(t,s,{enumerable:true,get(){return this.hasAttribute(e)},set(t){if(t){this.setAttribute(e,"")}else{this.removeAttribute(e)}}})};class a extends HTMLElement{static get observedAttributes(){return["mode",h,r,s]}LOCAL_NANE=e;constructor(){super();this.t()}connectedCallback(){n(this,"mode");n(this,r);n(this,h);c(this,s);const a=localStorage.getItem(e);if(a&&[h,r].includes(a)){this.mode=a;this.permanent=true}if(this.permanent&&!a){localStorage.setItem(e,this.mode)}const l=[h,r].includes(a);if(this.permanent&&a){this.o()}else{if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches){this.mode=r;this.o()}if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches){this.mode=h;this.o()}}if(!this.permanent&&!l){window.matchMedia("(prefers-color-scheme: light)").onchange=t=>{this.mode=t.matches?h:r;this.o()};window.matchMedia("(prefers-color-scheme: dark)").onchange=t=>{this.mode=t.matches?r:h;this.o()}}const d=new MutationObserver(((s,h)=>{this.mode=t.documentElement.dataset.colorMode;if(this.permanent&&l){localStorage.setItem(e,this.mode);this.i(i,{permanent:this.permanent})}this.h();this.i(o,{colorScheme:this.mode})}));d.observe(t.documentElement,{attributes:true});this.i(o,{colorScheme:this.mode});this.h()}attributeChangedCallback(t,s,o){if(t==="mode"&&s!==o&&[h,r].includes(o)){const t=localStorage.getItem(e);if(this.mode===t){this.mode=o;this.h();this.o()}else if(this.mode&&this.mode!==t){this.h();this.o()}}else if((t===h||t===r)&&s!==o){this.h()}if(t==="permanent"&&typeof this.permanent==="boolean"){this.permanent?localStorage.setItem(e,this.mode):localStorage.removeItem(e)}}o(){t.documentElement.setAttribute("data-color-mode",this.mode)}h(){this.icon.textContent=this.mode===h?"üåí":"üåû";this.text.textContent=this.mode===h?this.getAttribute(r):this.getAttribute(h);if(!this.text.textContent&&this.text.parentElement&&this.text){this.text.parentElement.removeChild(this.text)}}t(){var s=this.attachShadow({mode:"open"});this.label=t.createElement("span");this.label.setAttribute("class","wrapper");this.label.onclick=()=>{this.mode=this.mode===h?r:h;if(this.permanent){localStorage.setItem(e,this.mode)}this.o();this.h()};s.appendChild(this.label);this.icon=t.createElement("span");this.icon.part="icon";this.label.appendChild(this.icon);this.text=t.createElement("span");this.text.part="text";this.label.appendChild(this.text);const o=`
[data-color-mode*='dark'], [data-color-mode*='dark'] body {
  color-scheme: dark;
  --color-theme-bg: #0d1117;
  --color-theme-text: #c9d1d9;
  background-color: var(--color-theme-bg);
  color: var(--color-theme-text);
}

[data-color-mode*='light'], [data-color-mode*='light'] body {
  color-scheme: light;
  --color-theme-bg: #fff;
  --color-theme-text: #24292f;
  background-color: var(--color-theme-bg);
  color: var(--color-theme-text);
}`;const i="_dark_mode_style_";const n=t.getElementById(i);if(!n){var c=t.createElement("style");c.id=i;c.textContent=o;t.head.appendChild(c)}var a=t.createElement("style");a.textContent=`
    .wrapper { cursor: pointer; user-select: none; position: relative; }
    .wrapper > span + span { margin-left: .4rem; }
    `;s.appendChild(a)}i(t,e){this.dispatchEvent(new CustomEvent(t,{bubbles:true,composed:true,detail:e}))}}customElements.define("dark-mode",a);</script><div style="max-width: 960px; margin: 0 auto 60px auto; padding: 8px;" class="markdown-style">
    <h1 id=""><a class="anchor" name="readme-top"><span class="octicon octicon-link"></span></a></h1>
    <p>
      <a href="https://github.com/marcossilvestrini/learning-lpic-3-305-300/actions/workflows/release.yml"><img src="https://github.com/marcossilvestrini/learning-lpic-3-305-300/actions/workflows/release.yml/badge.svg" alt="Create Release"></a>
      <a href="https://github.com/marcossilvestrini/learning-lpic-3-305-300/actions/workflows/translate.yml"><img src="https://github.com/marcossilvestrini/learning-lpic-3-305-300/actions/workflows/translate.yml/badge.svg" alt="Translate README"></a>
      <a href="https://github.com/marcossilvestrini/learning-lpic-3-305-300/actions/workflows/generate-html.yml"><img src="https://github.com/marcossilvestrini/learning-lpic-3-305-300/actions/workflows/generate-html.yml/badge.svg" alt="Generate HTML and PDF"></a>
      <a href="https://github.com/marcossilvestrini/learning-lpic-3-305-300/actions/workflows/deploy-webpage.yml"><img src="https://github.com/marcossilvestrini/learning-lpic-3-305-300/actions/workflows/deploy-webpage.yml/badge.svg" alt="Deploy Webpage"></a>
      <a href="https://github.com/marcossilvestrini/learning-lpic-3-305-300/actions/workflows/generate-docs.yml"><img src="https://github.com/marcossilvestrini/learning-lpic-3-305-300/actions/workflows/generate-docs.yml/badge.svg" alt="Generate GitBook Docs"></a>
      <a href="https://github.com/marcossilvestrini/learning-lpic-3-305-300/actions/workflows/powershell.yml"><img src="https://github.com/marcossilvestrini/learning-lpic-3-305-300/actions/workflows/powershell.yml/badge.svg" alt="PSScriptAnalyzer"></a>
      <a href="https://github.com/marcossilvestrini/learning-lpic-3-305-300/actions/workflows/slack.yml"><img src="https://github.com/marcossilvestrini/learning-lpic-3-305-300/actions/workflows/slack.yml/badge.svg" alt="Slack Notification"></a>
    </p>
    <hr>
    <h2 id="mit-licenseforksstargazerscontributorsissueslinkedin">
      <a aria-hidden="true" tabindex="-1" href="#mit-licenseforksstargazerscontributorsissueslinkedin"><span class="icon icon-link"></span></a><a href="https://github.com/marcossilvestrini/learning-lpic-3-305-300/blob/main/LICENSE">MIT License</a>
      <a href="https://github.com/marcossilvestrini/learning-lpic-3-305-300/network/members">Forks</a>
      <a href="https://github.com/marcossilvestrini/learning-lpic-3-305-300/stargazers">Stargazers</a>
      <a href="https://github.com/marcossilvestrini/learning-lpic-3-305-300/graphs/contributors">Contributors</a>
      <a href="https://github.com/marcossilvestrini/learning-lpic-3-305-300/issues">Issues</a>
      <a href="https://linkedin.com/in/marcossilvestrini">LinkedIn</a>
    </h2>
    <h1 id="-learning-lpic-3-305-300"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-learning-lpic-3-305-300"><span class="octicon octicon-link"></span></a>üìö LEARNING LPIC-3 305-300</h1>
    <p>
      <a href="./README.md"><img src="https://img.shields.io/badge/lang-English-blue?logo=readme&#x26;logoColor=white" alt="English"></a>
      <a href="README_pt.md"><img src="https://img.shields.io/badge/lang-Portugu%C3%AAs-green?logo=readme&#x26;logoColor=white" alt="Portugu√™s"></a>
    </p>
    <p>
      <img src="images/lpic3-305-300.jpg" alt="LPIC3-305-300">
    </p>
    <p align="center">
      <strong>Explore the docs ¬ª</strong><br><a href="https://marcossilvestrini.github.io/learning-lpic-3-305-300/">Web Site</a>
      -
      <a href="https://github.com/marcossilvestrini/learning-lpic-3-305-300">Code Page</a>
      -
      <a href="https://skynet-8.gitbook.io/learning-lpic-3-305-300">Gitbook</a>
      -
      <a href="https://github.com/marcossilvestrini/learning-lpic-3-305-300/issues">Report Bug</a>
      -
      <a href="https://github.com/marcossilvestrini/learning-lpic-3-305-300/issues">Request Feature</a>
    </p>
    <hr>
    <h2 id="Ô∏è-summary"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-summary"><span class="octicon octicon-link"></span></a>üóÇÔ∏è Summary</h2>
    <details>
      <summary><b>TABLE OF CONTENT</b></summary>
      <ol>
        <li><a href="#about-the-project">About The Project</a></li>
        <li><a href="#getting-started">Getting Started</a>
          <ul>
            <li><a href="#prerequisites">Prerequisites</a></li>
            <li><a href="#installation">installation</a></li>
          </ul>
        </li>
        <li><a href="#usage">Usage</a></li>
        <li><a href="#roadmap">Roadmap</a></li>
        <li><a href="#freedoms">Four Essential Freedoms</a></li>
        <li><a href="#topic-351">Topic 351: Full Virtualization</a>
          <ul>
            <li><a href="#topic-351.1">351.1 Virtualization Concepts and Theory</a></li>
            <li><a href="#topic-351.2">351.2 Xen</a></li>
            <li><a href="#topic-351.3">351.3 QEMU</a></li>
            <li><a href="#topic-351.4">351.4 Libvirt Virtual Machine</a></li>
            <li><a href="#topic-351.5">351.5 Virtual Machine Disk Image Management</a></li>
          </ul>
        </li>
        <li><a href="#topic-352">Topic 352: container Virtualization</a>
          <ul>
            <li><a href="#topic-352.1">352.1 container Virtualization Concepts</a></li>
            <li><a href="#topic-352.2">352.2 LXC</a></li>
            <li><a href="#topic-352.3">352.3 Docker</a></li>
            <li><a href="#topic-352.4">352.4 container Orchestration Platforms</a></li>
          </ul>
        </li>
        <li><a href="#topic-353">Topic 353: VM Deployment and Provisioning</a>
          <ul>
            <li><a href="#topic-353.1">353.1 Cloud Management Tools</a></li>
            <li><a href="#topic-353.2">353.2 Packer</a></li>
            <li><a href="#topic-353.3">353.3 cloud-init</a></li>
            <li><a href="#topic-353.4">353.4 Vagrant</a></li>
          </ul>
        </li>
        <li><a href="#license">License</a></li>
        <li><a href="#contact">Contact</a></li>
        <li><a href="#acknowledgments">Acknowledgments</a></li>
      </ol>
    </details><br>
    <hr>
    <p><a name="about-the-project"></a></p>
    <h2 id="-about-project"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-about-project"><span class="octicon octicon-link"></span></a>üìñ About Project</h2>
    <blockquote>
      <p>
        This project aims to help students or professionals to learn the main concepts of GNULinux
        and free software
        Some GNULinux distributions like Debian and RPM will be covered
        Installation and configuration of some packages will also be covered
        By doing this you can give the whole community a chance to benefit from your changes.
        Access to the source code is a precondition for this.
        Use vagrant for up machines and execute labs and practice content in this article.
        I have published in folder Vagrant a Vagrantfile with what is necessary
        for you to upload an environment for studies
      </p>
    </blockquote>
    <hr>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <p><a name="getting-started"></a></p>
    <h2 id="-getting-started"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-getting-started"><span class="octicon octicon-link"></span></a>üöÄ Getting Started</h2>
    <p>For starting the learning, see the documentation above.</p>
    <p><a name="prerequisites"></a></p>
    <h3 id="Ô∏è-prerequisites"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-prerequisites"><span class="octicon octicon-link"></span></a>üõ†Ô∏è Prerequisites</h3>
    <ul>
      <li><a href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git">Git</a></li>
      <li><a href="https://blogs.vmware.com/workstation/2024/05/vmware-workstation-pro-now-available-free-for-personal-use.html">VMware Workstation</a></li>
      <li><a href="https://developer.hashicorp.com/vagrant/install/vmware">Vagrant VMWare Utility</a></li>
      <li><a href="https://developer.hashicorp.com/vagrant/install">Vagrant</a></li>
    </ul>
    <p><a name="installation"></a></p>
    <h3 id="-installation"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-installation"><span class="octicon octicon-link"></span></a>üíæ Installation</h3>
    <p>Clone the repo</p>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token function">git</span> clone https://github.com/marcossilvestrini/learning-lpic-3-305-300.git
</span><span class="code-line line-number" line="2"><span class="token builtin class-name">cd</span> learning-lpic-3-305-300
</span></code><div onclick="copied(this)" data-code="git clone https://github.com/marcossilvestrini/learning-lpic-3-305-300.git
cd learning-lpic-3-305-300
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>Customize a template <em>Vagrantfile-topic-XXX</em>. This file contains a vms configuration for labs. Example:</p>
    <ul>
      <li>File <a href="vagrant/Vagrantfile-topic-351">Vagrantfile-topic-351</a>
        <ul>
          <li>
            vm.clone_directory = "&#x3C;your_driver_letter>:\<code>&#x3C;folder></code>\&#x3C;to_machine>\#{VM_NAME}-instance-1"
            Example: vm.clone_directory = "E:\Servers\VMWare\#{VM_NAME}-instance-1"
          </li>
          <li>vm.vmx["memsize"] = ""</li>
          <li>vm.vmx["numvcpus"] = ""</li>
          <li>vm.vmx["cpuid.coresPerSocket"] = ""</li>
        </ul>
      </li>
    </ul>
    <p>Customize network configuration in files <a href="configs/network/">configs/network</a>.</p>
    <hr>
    <p><a name="usage"></a></p>
    <h2 id="-usage"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-usage"><span class="octicon octicon-link"></span></a>üìù Usage</h2>
    <p>Use this repository for get learning about LPIC-3 305-300 exam</p>
    <h3 id="Ô∏èÔ∏è-for-up-and-down"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏èÔ∏è-for-up-and-down"><span class="octicon octicon-link"></span></a>‚¨ÜÔ∏è‚¨áÔ∏è For up and down</h3>
    <p>Switch a <em>Vagrantfile-topic-xxx</em> template and copy for a new file with name <em>Vagrantfile</em></p>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token builtin class-name">cd</span> vagrant <span class="token operator">&#x26;&#x26;</span> vagrant up
</span><span class="code-line line-number" line="2"><span class="token builtin class-name">cd</span> vagrant <span class="token operator">&#x26;&#x26;</span> vagrant destroy <span class="token parameter variable">-f</span>
</span></code><div onclick="copied(this)" data-code="cd vagrant &#x26;&#x26; vagrant up
cd vagrant &#x26;&#x26; vagrant destroy -f
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h3 id="-for-reboot-vms"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-for-reboot-vms"><span class="octicon octicon-link"></span></a>üîÑ For reboot VMs</h3>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token builtin class-name">cd</span> vagrant <span class="token operator">&#x26;&#x26;</span> vagrant reload
</span></code><div onclick="copied(this)" data-code="cd vagrant &#x26;&#x26; vagrant reload
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>
      <strong>Important:</strong>
      <em>If you reboot vms without vagrant, shared folder not mount after boot.</em>
    </p>
    <h3 id="-use-powershell-for-up-and-down"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-use-powershell-for-up-and-down"><span class="octicon octicon-link"></span></a>üíª Use PowerShell for up and down</h3>
    <p>If you use Windows platform, I create a powershell script for up and down vms.</p>
    <pre class="language-powershell"><code class="language-powershell code-highlight"><span class="code-line line-number" line="1">vagrant/up<span class="token punctuation">.</span>ps1
</span><span class="code-line line-number" line="2">vagrant/destroy<span class="token punctuation">.</span>ps1
</span></code><div onclick="copied(this)" data-code="vagrant/up.ps1
vagrant/destroy.ps1
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h3 id="Ô∏è-infrastructure-schema-topic-351"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-infrastructure-schema-topic-351"><span class="octicon octicon-link"></span></a>üó∫Ô∏è Infrastructure Schema Topic 351</h3>
    <p>
      <img src="images/infrastructure-topic-351.png" alt="topic-351">
    </p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr>
    <p><a name="roadmap"></a></p>
    <h2 id="Ô∏è-roadmap"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-roadmap"><span class="octicon octicon-link"></span></a>üõ£Ô∏è Roadmap</h2>
    <ul class="contains-task-list">
      <li class="task-list-item"><input type="checkbox" checked disabled> Create repository</li>
      <li class="task-list-item"><input type="checkbox" checked disabled> Create scripts for provisioning labs</li>
      <li class="task-list-item"><input type="checkbox" checked disabled> Create examples about Topic 351</li>
      <li class="task-list-item"><input type="checkbox" checked disabled> Create examples about Topic 352</li>
      <li class="task-list-item"><input type="checkbox" disabled> Create examples about Topic 353</li>
      <li class="task-list-item"><input type="checkbox" disabled> Upload simulated itexam</li>
    </ul>
    <hr>
    <p><a name="freedoms"></a></p>
    <h2 id="-four-essential-freedoms"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-four-essential-freedoms"><span class="octicon octicon-link"></span></a>üóΩ Four Essential Freedoms</h2>
    <blockquote>
      <p>
        0.The freedom to run the program as you wish, for any purpose (freedom 0).
        1.The freedom to study how the program works, and change it so it does
        your computing as you wish (freedom 1).
        Access to the source code is a precondition for this.
        2.The freedom to redistribute copies so you can help others (freedom 2).
        3.freedom to distribute copies of your modified versions to others (freedom 3).
      </p>
    </blockquote>
    <hr>
    <h2 id="-inspect-commands"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-inspect-commands"><span class="octicon octicon-link"></span></a>üîç Inspect commands</h2>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token builtin class-name">type</span> COMMAND
</span><span class="code-line line-number" line="2"><span class="token function">apropos</span> COMMAND
</span><span class="code-line line-number" line="3">whatis COMMAND <span class="token parameter variable">--long</span>
</span><span class="code-line line-number" line="4"><span class="token function">whereis</span> COMMAND
</span><span class="code-line line-number" line="5">COMMAND --help, <span class="token parameter variable">--h</span>
</span><span class="code-line line-number" line="6"><span class="token function">man</span> COMMAND
</span></code><div onclick="copied(this)" data-code="type COMMAND
apropos COMMAND
whatis COMMAND --long
whereis COMMAND
COMMAND --help, --h
man COMMAND
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr>
    <p><a name="topic-351"></a></p>
    <h2 id="Ô∏è-topic-351-full-virtualization"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-topic-351-full-virtualization"><span class="octicon octicon-link"></span></a>üñ•Ô∏è Topic 351: Full Virtualization</h2>
    <p>
      <img src="images/virtualization-351.png" alt="Virtualization">
    </p>
    <hr>
    <p><a name="topic-351.1"></a></p>
    <h3 id="-3511-virtualization-concepts-and-theory"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-3511-virtualization-concepts-and-theory"><span class="octicon octicon-link"></span></a>üß† 351.1 Virtualization Concepts and Theory</h3>
    <p><strong>Weight:</strong> 6</p>
    <p><strong>Description:</strong> Candidates should know and understand the general concepts, theory and terminology of virtualization. This includes Xen, QEMU and libvirt terminology.</p>
    <p><strong>Key Knowledge Areas:</strong></p>
    <ul>
      <li>üñ•Ô∏è Understand virtualization terminology</li>
      <li>‚öñÔ∏è Understand the pros and cons of virtualization</li>
      <li>üõ†Ô∏è Understand the various variations of Hypervisors and Virtual Machine Monitors</li>
      <li>üîÑ Understand the major aspects of migrating physical to virtual machines</li>
      <li>üöÄ Understand the major aspects of migrating virtual machines between host systems</li>
      <li>üì∏ Understand the features and implications of virtualization for a virtual machine, such as snapshotting, pausing, cloning and resource limits</li>
      <li>üåê Awareness of oVirt, Proxmox, systemd-machined and VirtualBox</li>
      <li>üîó Awareness of Open vSwitch</li>
    </ul>
    <h4 id="-3511-cited-objects"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-3511-cited-objects"><span class="octicon octicon-link"></span></a>üìã 351.1 Cited Objects</h4>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">Hypervisor
</span><span class="code-line line-number" line="2">Hardware Virtual Machine <span class="token punctuation">(</span>HVM<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="3">Paravirtualization <span class="token punctuation">(</span>PV<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="4">Emulation and Simulation
</span><span class="code-line line-number" line="5">CPU flags
</span><span class="code-line line-number" line="6">/proc/cpuinfo
</span><span class="code-line line-number" line="7">Migration <span class="token punctuation">(</span>P2V, V2V<span class="token punctuation">)</span>
</span></code><div onclick="copied(this)" data-code="Hypervisor
Hardware Virtual Machine (HVM)
Paravirtualization (PV)
Emulation and Simulation
CPU flags
/proc/cpuinfo
Migration (P2V, V2V)
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="Ô∏è-hypervisors"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-hypervisors"><span class="octicon octicon-link"></span></a>üñ•Ô∏è Hypervisors</h4>
    <h5 id="-type-1-hypervisor-bare-metal-hypervisor"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-type-1-hypervisor-bare-metal-hypervisor"><span class="octicon octicon-link"></span></a>üè¢ Type 1 Hypervisor (Bare-Metal Hypervisor)</h5>
    <h6 id="-type-1-definition"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-type-1-definition"><span class="octicon octicon-link"></span></a>üìÑ Type 1 Definition</h6>
    <p>Runs directly on the host's physical hardware, providing a base layer to manage VMs without the need for a host operating system.</p>
    <h6 id="-type-1-characteristics"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-type-1-characteristics"><span class="octicon octicon-link"></span></a>üìù Type 1 Characteristics</h6>
    <ul>
      <li>‚ö° High performance and efficiency.</li>
      <li>‚è±Ô∏è Lower latency and overhead.</li>
      <li>üè¢ Often used in enterprise environments and data centers.</li>
    </ul>
    <h6 id="-type-1-examples"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-type-1-examples"><span class="octicon octicon-link"></span></a>üí° Type 1 Examples</h6>
    <ul>
      <li>VMware ESXi: A robust and widely used hypervisor in enterprise settings.</li>
      <li>Microsoft Hyper-V: Integrated with Windows Server, offering strong performance and management features.</li>
      <li>Xen: An open-source hypervisor used by many cloud service providers.</li>
      <li>KVM (Kernel-based Virtual Machine): Integrated into the Linux kernel, providing high performance for Linux-based systems.</li>
    </ul>
    <h5 id="-type-2-hypervisor-hosted-hypervisor"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-type-2-hypervisor-hosted-hypervisor"><span class="octicon octicon-link"></span></a>üè† Type 2 Hypervisor (Hosted Hypervisor)</h5>
    <h6 id="-type-2-definition"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-type-2-definition"><span class="octicon octicon-link"></span></a>üìÑ Type 2 Definition</h6>
    <p>Runs on top of a conventional operating system, relying on the host OS for resource management and device support.</p>
    <h6 id="-type-2-characteristics"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-type-2-characteristics"><span class="octicon octicon-link"></span></a>üìù Type 2 Characteristics</h6>
    <ul>
      <li>üõ†Ô∏è Easier to set up and use, especially on personal computers.</li>
      <li>üîß More flexible for development, testing, and smaller-scale deployments.</li>
      <li>üê¢ Typically less efficient than Type 1 hypervisors due to additional overhead from the host OS.</li>
    </ul>
    <h6 id="-type-2-examples"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-type-2-examples"><span class="octicon octicon-link"></span></a>üí° Type 2 Examples</h6>
    <ul>
      <li>VMware Workstation: A powerful hypervisor for running multiple operating systems on a single desktop.</li>
      <li>Oracle VirtualBox: An open-source hypervisor known for its flexibility and ease of use.</li>
      <li>Parallels Desktop: Designed for Mac users to run Windows and other operating systems alongside macOS.</li>
      <li>QEMU (Quick EMUlator): An open-source emulator and virtualizer, often used in conjunction with KVM.</li>
    </ul>
    <h5 id="Ô∏è-key-differences-between-type-1-and-type-2-hypervisors"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-key-differences-between-type-1-and-type-2-hypervisors"><span class="octicon octicon-link"></span></a>‚öñÔ∏è Key Differences Between Type 1 and Type 2 Hypervisors</h5>
    <ul>
      <li>Deployment Environment:
        <ul>
          <li>Type 1 hypervisors are commonly deployed in data centers and enterprise environments due to their direct interaction with hardware and high performance.</li>
          <li>Type 2 hypervisors are more suitable for personal use, development, testing, and small-scale virtualization tasks.</li>
        </ul>
      </li>
      <li>Performance:
        <ul>
          <li>Type 1 hypervisors generally offer better performance and lower latency because they do not rely on a host OS.</li>
          <li>Type 2 hypervisors may experience some performance degradation due to the overhead of running on top of a host OS.</li>
        </ul>
      </li>
      <li>Management and Ease of Use:
        <ul>
          <li>Type 1 hypervisors require more complex setup and management but provide advanced features and scalability for large-scale deployments.</li>
          <li>Type 2 hypervisors are easier to install and use, making them ideal for individual users and smaller projects.</li>
        </ul>
      </li>
    </ul>
    <h5 id="-migration-types"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-migration-types"><span class="octicon octicon-link"></span></a>üîÑ Migration Types</h5>
    <p>
      In the context of hypervisors, which are technologies used to create and manage virtual machines, the terms P2V migration and V2V migration are common in virtualization environments.
      They refer to processes of migrating systems between different types of platforms.
    </p>
    <h5 id="Ô∏èÔ∏èÔ∏è-p2v---physical-to-virtual-migration"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏èÔ∏èÔ∏è-p2v---physical-to-virtual-migration"><span class="octicon octicon-link"></span></a>üñ•Ô∏è‚û°Ô∏èüñ•Ô∏è P2V - Physical to Virtual Migration</h5>
    <p>P2V migration refers to the process of migrating a physical server to a virtual machine.In other words, an operating system and its applications, running on dedicated physical hardware, are "converted" and moved to a virtual machine that runs on a hypervisor (such as VMware, Hyper-V, KVM, etc.).</p>
    <ul>
      <li>
        Example: You have a physical server running a Windows or Linux system, and you want to move it to a virtual environment, like a cloud infrastructure or an internal virtualization server.
        The process involves copying the entire system state, including the operating system, drivers, and data, to create an equivalent virtual machine that can run as if it were on the physical hardware.
      </li>
    </ul>
    <h5 id="Ô∏èÔ∏è-v2v----virtual-to-virtual-migration"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏èÔ∏è-v2v----virtual-to-virtual-migration"><span class="octicon octicon-link"></span></a>üñ•Ô∏èüîÅüñ•Ô∏è V2V - Virtual to Virtual Migration</h5>
    <p>V2V migration refers to the process of migrating a virtual machine from one hypervisor to another.In this case, you already have a virtual machine running in a virtualized environment (like VMware), and you want to move it to another virtualized environment (for example, to Hyper-V or to a new VMware server).</p>
    <ul>
      <li>Example: You have a virtual machine running on a VMware virtualization server, but you decide to migrate it to a Hyper-V platform. In this case, the V2V migration converts the virtual machine from one format or hypervisor to another, ensuring it can continue running correctly.</li>
    </ul>
    <h4 id="-hvm-and-paravirtualization"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-hvm-and-paravirtualization"><span class="octicon octicon-link"></span></a>üß© HVM and Paravirtualization</h4>
    <h5 id="Ô∏è-hardware-assisted-virtualization-hvm"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-hardware-assisted-virtualization-hvm"><span class="octicon octicon-link"></span></a>‚öôÔ∏è Hardware-assisted Virtualization (HVM)</h5>
    <h6 id="-hvm-definition"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-hvm-definition"><span class="octicon octicon-link"></span></a>üìÑ HVM Definition</h6>
    <p>HVM leverages hardware extensions provided by modern CPUs to virtualize hardware, enabling the creation and management of VMs with minimal performance overhead.</p>
    <h6 id="-hvm-key-characteristics"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-hvm-key-characteristics"><span class="octicon octicon-link"></span></a>üìù HVM Key Characteristics</h6>
    <ul>
      <li>üñ•Ô∏è <strong>Hardware Support</strong>: Requires CPU support for virtualization extensions such as Intel VT-x or AMD-V.</li>
      <li>üõ†Ô∏è <strong>Full Virtualization:</strong> VMs can run unmodified guest operating systems, as the hypervisor provides a complete emulation of the hardware environment.</li>
      <li>‚ö° <strong>Performance:</strong> Typically offers near-native performance because of direct execution of guest code on the CPU.</li>
      <li>üîí <strong>Isolation:</strong> Provides strong isolation between VMs since each VM operates as if it has its own dedicated hardware.</li>
    </ul>
    <h6 id="-hvm-examples"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-hvm-examples"><span class="octicon octicon-link"></span></a>üí° HVM Examples</h6>
    <p>VMware ESXi, Microsoft Hyper-V, KVM (Kernel-based Virtual Machine).</p>
    <h6 id="-hvm-advantages"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-hvm-advantages"><span class="octicon octicon-link"></span></a>‚úÖ HVM Advantages</h6>
    <ul>
      <li>‚úÖ <strong>Compatibility:</strong> Can run any operating system without modification.</li>
      <li>‚ö° <strong>Performance:</strong> High performance due to hardware support.</li>
      <li>üîí <strong>Security:</strong> Enhanced isolation and security features provided by hardware.</li>
    </ul>
    <h6 id="-hvm-disadvantages"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-hvm-disadvantages"><span class="octicon octicon-link"></span></a>‚ùå HVM Disadvantages</h6>
    <ul>
      <li>üõ†Ô∏è <strong>Hardware Dependency:</strong> Requires specific hardware features, limiting compatibility with older systems.</li>
      <li>üîß <strong>Complexity:</strong> May involve more complex configuration and management.</li>
    </ul>
    <h5 id="-paravirtualization"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-paravirtualization"><span class="octicon octicon-link"></span></a>üß© Paravirtualization</h5>
    <h6 id="-paravirtualization-definition"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-paravirtualization-definition"><span class="octicon octicon-link"></span></a>üìÑ Paravirtualization Definition</h6>
    <p>Paravirtualization involves modifying the guest operating system to be aware of the virtual environment, allowing it to interact more efficiently with the hypervisor.</p>
    <h6 id="-paravirtualization-key-characteristics"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-paravirtualization-key-characteristics"><span class="octicon octicon-link"></span></a>üìù Paravirtualization Key Characteristics</h6>
    <ul>
      <li>üõ†Ô∏è <strong>Guest Modification:</strong> Requires changes to the guest operating system to communicate directly with the hypervisor using hypercalls.</li>
      <li>‚ö° <strong>Performance:</strong> Can be more efficient than traditional full virtualization because it reduces the overhead associated with emulating hardware.</li>
      <li>üîó <strong>Compatibility:</strong> Limited to operating systems that have been modified for paravirtualization.</li>
    </ul>
    <h6 id="-paravirtualization-examples"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-paravirtualization-examples"><span class="octicon octicon-link"></span></a>üí° Paravirtualization Examples</h6>
    <p>Xen with paravirtualized guests, VMware tools in certain configurations, and some KVM configurations.</p>
    <h6 id="-paravirtualization-advantages"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-paravirtualization-advantages"><span class="octicon octicon-link"></span></a>‚úÖ Paravirtualization Advantages</h6>
    <ul>
      <li>‚ö° <strong>Efficiency:</strong> Reduces the overhead of virtualizing hardware, potentially offering better performance for certain workloads.</li>
      <li>‚úÖ <strong>Resource Utilization:</strong> More efficient use of system resources due to direct communication between the guest OS and hypervisor.</li>
    </ul>
    <h6 id="-paravirtualization-disadvantages"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-paravirtualization-disadvantages"><span class="octicon octicon-link"></span></a>‚ùå Paravirtualization Disadvantages</h6>
    <ul>
      <li>üõ†Ô∏è <strong>Guest OS Modification:</strong> Requires modifications to the guest OS, limiting compatibility to supported operating systems.</li>
      <li>üîß <strong>Complexity:</strong> Requires additional complexity in the guest OS for hypercall implementations.</li>
    </ul>
    <h5 id="Ô∏è-key-differences"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-key-differences"><span class="octicon octicon-link"></span></a>‚öñÔ∏è Key Differences</h5>
    <h6 id="Ô∏è-guest-os-requirements"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-guest-os-requirements"><span class="octicon octicon-link"></span></a>üñ•Ô∏è Guest OS Requirements</h6>
    <ul>
      <li><strong>HVM:</strong> Can run unmodified guest operating systems.</li>
      <li><strong>Paravirtualization:</strong> Requires guest operating systems to be modified to work with the hypervisor.</li>
    </ul>
    <h6 id="-performance"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-performance"><span class="octicon octicon-link"></span></a>‚ö° Performance</h6>
    <ul>
      <li><strong>HVM:</strong> Typically provides near-native performance due to hardware-assisted execution.</li>
      <li><strong>Paravirtualization:</strong> Can offer efficient performance by reducing the overhead of hardware emulation, but relies on modified guest OS.</li>
    </ul>
    <h6 id="-hardware-dependency"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-hardware-dependency"><span class="octicon octicon-link"></span></a>üß∞ Hardware Dependency</h6>
    <ul>
      <li><strong>HVM:</strong> Requires specific CPU features (Intel VT-x, AMD-V).</li>
      <li><strong>Paravirtualization:</strong> Does not require specific CPU features but needs modified guest OS.</li>
    </ul>
    <h6 id="-isolation"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-isolation"><span class="octicon octicon-link"></span></a>üîí Isolation</h6>
    <ul>
      <li><strong>HVM:</strong> Provides strong isolation using hardware features.</li>
      <li><strong>Paravirtualization:</strong> Relies on software-based isolation, which may not be as robust as hardware-based isolation.</li>
    </ul>
    <h6 id="-complexity"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-complexity"><span class="octicon octicon-link"></span></a>üß© Complexity</h6>
    <ul>
      <li><strong>HVM:</strong> Generally more straightforward to deploy since it supports unmodified OS.</li>
      <li><strong>Paravirtualization:</strong> Requires additional setup and modifications to the guest OS, increasing complexity.</li>
    </ul>
    <h4 id="-numa-non-uniform-memory-access"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-numa-non-uniform-memory-access"><span class="octicon octicon-link"></span></a>üß† NUMA (Non-Uniform Memory Access)</h4>
    <p>
      NUMA (Non-Uniform Memory Access) is a memory architecture used in multiprocessor systems to optimize memory access by processors.
      In a NUMA system, memory is distributed unevenly among processors, meaning that each processor has faster access to a portion of memory (its "local memory") than to memory that is physically further away (referred to as "remote memory") and associated with other processors.
    </p>
    <h5 id="-key-features-of-numa-architecture"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-key-features-of-numa-architecture"><span class="octicon octicon-link"></span></a>üìù Key Features of NUMA Architecture</h5>
    <ol>
      <li><strong>Local and Remote Memory</strong>: Each processor has its own local memory, which it can access more quickly. However, it can also access the memory of other processors, although this takes longer.</li>
      <li><strong>Differentiated Latency</strong>: The latency of memory access varies depending on whether the processor is accessing its local memory or the memory of another node. Local memory access is faster, while accessing another node‚Äôs memory (remote) is slower.</li>
      <li><strong>Scalability</strong>: NUMA architecture is designed to improve scalability in systems with many processors. As more processors are added, memory is also distributed, avoiding the bottleneck that would occur in a uniform memory access (UMA) architecture.</li>
    </ol>
    <h5 id="-advantages-of-numa"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-advantages-of-numa"><span class="octicon octicon-link"></span></a>‚úÖ Advantages of NUMA</h5>
    <ul>
      <li>‚ö° Better Performance in Large Systems: Since each processor has local memory, it can work more efficiently without competing as much with other processors for memory access.</li>
      <li>üìà Scalability: NUMA allows systems with many processors and large amounts of memory to scale more effectively compared to a UMA architecture.</li>
    </ul>
    <h5 id="-disadvantages"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-disadvantages"><span class="octicon octicon-link"></span></a>‚ùå Disadvantages</h5>
    <ul>
      <li>üõ†Ô∏è Programming Complexity: Programmers need to be aware of which regions of memory are local or remote, optimizing the use of local memory to achieve better performance.</li>
      <li>
        üê¢ Potential Performance Penalties: If a processor frequently accesses remote memory, performance may suffer due to higher latency.
        This architecture is common in high-performance multiprocessor systems, such as servers and supercomputers, where scalability and memory optimization are critical.
      </li>
    </ul>
    <h4 id="-opensource-solutions"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-opensource-solutions"><span class="octicon octicon-link"></span></a>üÜì Opensource Solutions</h4>
    <ul>
      <li>üåê oVirt: <a href="https://www.ovirt.org/">https://www.ovirt.org/</a></li>
      <li>üåê Proxmox: <a href="https://www.proxmox.com/en/proxmox-virtual-environment/overview">https://www.proxmox.com/en/proxmox-virtual-environment/overview</a></li>
      <li>üåê Oracle VirtualBox: <a href="https://www.virtualbox.org/">https://www.virtualbox.org/</a></li>
      <li>üåê Open vSwitch: <a href="https://www.openvswitch.org/">https://www.openvswitch.org/</a></li>
    </ul>
    <h4 id="Ô∏è-types-of-virtualization"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-types-of-virtualization"><span class="octicon octicon-link"></span></a>üóÇÔ∏è Types of Virtualization</h4>
    <h5 id="Ô∏è-hardware-virtualization-server-virtualization"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-hardware-virtualization-server-virtualization"><span class="octicon octicon-link"></span></a>üñ•Ô∏è Hardware Virtualization (Server Virtualization)</h5>
    <h6 id="-hv-definition"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-hv-definition"><span class="octicon octicon-link"></span></a>üìÑ HV Definition</h6>
    <p>Abstracts physical hardware to create virtual machines (VMs) that run separate operating systems and applications.</p>
    <h6 id="Ô∏è-hv-use-cases"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-hv-use-cases"><span class="octicon octicon-link"></span></a>üõ†Ô∏è HV Use Cases</h6>
    <p>Data centers, cloud computing, server consolidation.</p>
    <h6 id="-hv-examples"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-hv-examples"><span class="octicon octicon-link"></span></a>üí° HV Examples</h6>
    <p>VMware ESXi, Microsoft Hyper-V, KVM.</p>
    <h5 id="-operating-system-virtualization-containerization"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-operating-system-virtualization-containerization"><span class="octicon octicon-link"></span></a>üì¶ Operating System Virtualization (containerization)</h5>
    <h6 id="-containerization-definition"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-containerization-definition"><span class="octicon octicon-link"></span></a>üìÑ containerization Definition</h6>
    <p>Allows multiple isolated user-space instances (containers) to run on a single OS kernel.</p>
    <h6 id="Ô∏è-containerization-use-cases"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-containerization-use-cases"><span class="octicon octicon-link"></span></a>üõ†Ô∏è containerization Use Cases</h6>
    <p>Microservices architecture, development and testing environments.</p>
    <h6 id="-containerization-examples"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-containerization-examples"><span class="octicon octicon-link"></span></a>üí° containerization Examples</h6>
    <p>Docker, Kubernetes, LXC.</p>
    <h5 id="-network-virtualization"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-network-virtualization"><span class="octicon octicon-link"></span></a>üåê Network Virtualization</h5>
    <h6 id="-network-virtualization-definition"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-network-virtualization-definition"><span class="octicon octicon-link"></span></a>üìÑ Network Virtualization Definition</h6>
    <p>Combines hardware and software network resources into a single, software-based administrative entity.</p>
    <h6 id="Ô∏è-network-virtualization-use-cases"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-network-virtualization-use-cases"><span class="octicon octicon-link"></span></a>üõ†Ô∏è Network Virtualization Use Cases</h6>
    <p>Software-defined networking (SDN), network function virtualization (NFV).</p>
    <h6 id="-network-virtualization-examples"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-network-virtualization-examples"><span class="octicon octicon-link"></span></a>üí° Network Virtualization Examples</h6>
    <p>VMware NSX, Cisco ACI, OpenStack Neutron.</p>
    <h5 id="-storage-virtualization"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-storage-virtualization"><span class="octicon octicon-link"></span></a>üíæ Storage Virtualization</h5>
    <h6 id="-storage-virtualization-definition"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-storage-virtualization-definition"><span class="octicon octicon-link"></span></a>üìÑ Storage Virtualization Definition</h6>
    <p>Pools physical storage from multiple devices into a single virtual storage unit that can be managed centrally.</p>
    <h6 id="Ô∏è-storage-virtualization-use-cases"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-storage-virtualization-use-cases"><span class="octicon octicon-link"></span></a>üõ†Ô∏è Storage Virtualization Use Cases</h6>
    <p>Data management, storage optimization, disaster recovery.</p>
    <h6 id="-storage-virtualization-examples"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-storage-virtualization-examples"><span class="octicon octicon-link"></span></a>üí° Storage Virtualization Examples</h6>
    <p>IBM SAN Volume Controller, VMware vSAN, NetApp ONTAP.</p>
    <h5 id="Ô∏è-desktop-virtualization"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-desktop-virtualization"><span class="octicon octicon-link"></span></a>üñ•Ô∏è Desktop Virtualization</h5>
    <h6 id="-desktop-virtualization-definition"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-desktop-virtualization-definition"><span class="octicon octicon-link"></span></a>üìÑ Desktop Virtualization Definition</h6>
    <p>Allows a desktop operating system to run on a virtual machine hosted on a server.</p>
    <h6 id="Ô∏è-desktop-virtualization-use-cases"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-desktop-virtualization-use-cases"><span class="octicon octicon-link"></span></a>üõ†Ô∏è Desktop Virtualization Use Cases</h6>
    <p>Virtual desktop infrastructure (VDI), remote work solutions.</p>
    <h6 id="-desktop-virtualization-examples"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-desktop-virtualization-examples"><span class="octicon octicon-link"></span></a>üí° Desktop Virtualization Examples</h6>
    <p>Citrix Virtual Apps and Desktops, VMware Horizon, Microsoft Remote Desktop Services.</p>
    <h5 id="-application-virtualization"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-application-virtualization"><span class="octicon octicon-link"></span></a>üì± Application Virtualization</h5>
    <h6 id="-application-virtualization-definition"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-application-virtualization-definition"><span class="octicon octicon-link"></span></a>üìÑ Application Virtualization Definition</h6>
    <p>Separates applications from the underlying hardware and operating system, allowing them to run in isolated environments.</p>
    <h6 id="Ô∏è-application-virtualization-use-cases"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-application-virtualization-use-cases"><span class="octicon octicon-link"></span></a>üõ†Ô∏è Application Virtualization Use Cases</h6>
    <p>Simplified application deployment, compatibility testing.</p>
    <h6 id="-application-virtualization-examples"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-application-virtualization-examples"><span class="octicon octicon-link"></span></a>üí° Application Virtualization Examples</h6>
    <p>VMware ThinApp, Microsoft App-V, Citrix XenApp.</p>
    <h5 id="Ô∏è-data-virtualization"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-data-virtualization"><span class="octicon octicon-link"></span></a>üóÉÔ∏è Data Virtualization</h5>
    <h6 id="-data-virtualization-definition"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-data-virtualization-definition"><span class="octicon octicon-link"></span></a>üìÑ Data Virtualization Definition</h6>
    <p>Integrates data from various sources without physically consolidating it, providing a unified view for analysis and reporting.</p>
    <h6 id="Ô∏è-data-virtualization-use-cases"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-data-virtualization-use-cases"><span class="octicon octicon-link"></span></a>üõ†Ô∏è Data Virtualization Use Cases</h6>
    <p>Business intelligence, real-time data integration.</p>
    <h6 id="-data-virtualization-examples"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-data-virtualization-examples"><span class="octicon octicon-link"></span></a>üí° Data Virtualization Examples</h6>
    <p>Denodo, Red Hat JBoss Data Virtualization, IBM InfoSphere.</p>
    <h5 id="-benefits-of-virtualization"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-benefits-of-virtualization"><span class="octicon octicon-link"></span></a>üåü Benefits of Virtualization</h5>
    <ul>
      <li>‚ö° Resource Efficiency: Better utilization of physical resources.</li>
      <li>üí∞ Cost Savings: Reduced hardware and operational costs.</li>
      <li>üìà Scalability: Easy to scale up or down according to demand.</li>
      <li>üîß Flexibility: Supports a variety of workloads and applications.</li>
      <li>üîÑ Disaster Recovery: Simplified backup and recovery processes.</li>
      <li>üîí Isolation: Improved security through isolation of environments.</li>
    </ul>
    <h4 id="emulation"><a class="anchor" aria-hidden="true" tabindex="-1" href="#emulation"><span class="octicon octicon-link"></span></a>Emulation</h4>
    <p>Emulation involves simulating the behavior of hardware or software on a different platform than originally intended.</p>
    <p>This process allows software designed for one system to run on another system that may have different architecture or operating environment.</p>
    <p>While emulation provides versatility by enabling the execution of unmodified guest operating systems or applications, it often comes with performance overhead.</p>
    <p>This overhead arises because the emulated system needs to interpret and translate instructions meant for the original system into instructions compatible with the host system. As a result, emulation can be slower than native execution, making it less efficient for resource-intensive tasks.</p>
    <p>Despite this drawback, emulation remains valuable for running legacy software, testing applications across different platforms, and facilitating cross-platform development.</p>
    <h4 id="systemd-machined"><a class="anchor" aria-hidden="true" tabindex="-1" href="#systemd-machined"><span class="octicon octicon-link"></span></a>systemd-machined</h4>
    <p>
      The systemd-machined service is dedicated to managing virtual machines and containers within the systemd ecosystem.
      It provides essential functionalities for controlling, monitoring, and maintaining virtual instances, offering robust integration and efficiency within Linux environments.
    </p>
    <p align="right">(<a href="#topic-351.1">back to sub Topic 351.1</a>)</p>
    <p align="right">(<a href="#topic-351">back to Topic 351</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr>
    <p><a name="topic-351.2"></a></p>
    <h3 id="-3512-xen"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-3512-xen"><span class="octicon octicon-link"></span></a>üêß 351.2 Xen</h3>
    <p>
      <img src="images/xen-architecture.png" alt="xen-architecture">
    </p>
    <p>
      <img src="images/xen-architecture2.png" alt="xen-architecture">
    </p>
    <p><strong>Weight:</strong> 3</p>
    <p><strong>Description:</strong> Candidates should be able to install, configure, maintain, migrate and troubleshoot Xen installations. The focus is on Xen version 4.x.</p>
    <p><strong>Key Knowledge Areas:</strong></p>
    <ul>
      <li>Understand architecture of Xen, including networking and storage</li>
      <li>Basic configuration of Xen nodes and domains</li>
      <li>Basic management of Xen nodes and domains</li>
      <li>Basic troubleshooting of Xen installations</li>
      <li>Awareness of XAPI</li>
      <li>Awareness of XenStore</li>
      <li>Awareness of Xen Boot Parameters</li>
      <li>Awareness of the xm utility</li>
    </ul>
    <h4 id="-xen"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-xen"><span class="octicon octicon-link"></span></a>üêß Xen</h4>
    <p>
      <img src="images/xen-panda.png" alt="panda">
    </p>
    <p>Xen is an open-source type-1 (bare-metal) hypervisor, which allows multiple operating systems to run concurrently on the same physical hardware.Xen provides a layer between the physical hardware and virtual machines (VMs), enabling efficient resource sharing and isolation.</p>
    <ul>
      <li><strong>Architecture:</strong> Xen operates with a two-tier system where Domain 0 (Dom0) is the privileged domain with direct hardware access and manages the hypervisor. Other virtual machines, called Domain U (DomU), run guest operating systems and are managed by Dom0.</li>
      <li>
        <strong>Types of Virtualization:</strong> Xen supports both paravirtualization (PV), which requires modified guest OS, and hardware-assisted virtualization (HVM), which uses hardware extensions (e.g., Intel VT-x or AMD-V) to run unmodified guest operating systems.
        Xen is widely used in cloud environments, notably by Amazon Web Services (AWS) and other large-scale cloud providers.
      </li>
    </ul>
    <h4 id="-xensource"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-xensource"><span class="octicon octicon-link"></span></a>üè¢ XenSource</h4>
    <p>XenSource was the company founded by the original developers of the Xen hypervisor at the University of Cambridge to commercialize Xen.The company provided enterprise solutions based on Xen and offered additional tools and support to enhance Xen‚Äôs capabilities for enterprise use.</p>
    <ul>
      <li><strong>Acquisition by Citrix</strong>: In 2007, XenSource was acquired by Citrix Systems, Inc. Citrix used Xen technology as the foundation for its Citrix XenServer product, which became a popular enterprise-grade virtualization platform based on Xen.</li>
      <li><strong>Transition</strong>: After the acquisition, the Xen project continued as an open-source project, while Citrix focused on commercial offerings like XenServer, leveraging XenSource technology.</li>
    </ul>
    <h4 id="-xen-project"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-xen-project"><span class="octicon octicon-link"></span></a>üåç Xen Project</h4>
    <p>Xen Project refers to the open-source community and initiative responsible for developing and maintaining the Xen hypervisor after its commercialization.The Xen Project operates under the Linux Foundation, with a focus on building, improving, and supporting Xen as a collaborative, community-driven effort.</p>
    <ul>
      <li><strong>Goals:</strong> The Xen Project aims to advance the hypervisor by improving its performance, security, and feature set for a wide range of use cases, including cloud computing, security-focused virtualization (e.g., Qubes OS), and embedded systems.</li>
      <li><strong>Contributors:</strong> The project includes contributors from various organizations, including major cloud providers, hardware vendors, and independent developers.</li>
      <li><strong>XAPI and XenTools:</strong> The Xen Project also includes tools such as XAPI (XenAPI), which is used for managing Xen hypervisor installations, and various other utilities for system management and optimization.</li>
    </ul>
    <h4 id="Ô∏è-xenstore"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-xenstore"><span class="octicon octicon-link"></span></a>üóÑÔ∏è XenStore</h4>
    <p>
      Xen Store is a critical component of the Xen Hypervisor.
      Essentially, Xen Store is a distributed key-value database used for communication and information sharing between the Xen hypervisor and the virtual machines (also known as domains) it manages.
    </p>
    <p>Here are some key aspects of Xen Store:</p>
    <ul>
      <li><strong>Inter-Domain Communication:</strong> Xen Store enables communication between domains, such as Dom0 (the privileged domain that controls hardware resources) and DomUs (user domains, which are the VMs). This is done through key-value entries, where each domain can read or write information.</li>
      <li><strong>Configuration Management:</strong> It is used to store and access configuration information, such as virtual devices, networking, and boot parameters. This facilitates the dynamic management and configuration of VMs.</li>
      <li><strong>Events and Notifications:</strong> Xen Store also supports event notifications. When a particular key or value in the Xen Store is modified, interested domains can be notified to react to these changes. This is useful for monitoring and managing resources.</li>
      <li>Simple API: Xen Store provides a simple API for reading and writing data, making it easy for developers to integrate their applications with the Xen virtualization system.</li>
    </ul>
    <h4 id="-xapi"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-xapi"><span class="octicon octicon-link"></span></a>üîó XAPI</h4>
    <p>
      XAPI, or XenAPI, is the application programming interface (API) used to manage the Xen Hypervisor and its virtual machines (VMs).
      XAPI is a key component of XenServer (now known as Citrix Hypervisor) and provides a standardized way to interact with the Xen hypervisor to perform operations such as creating, configuring, monitoring, and controlling VMs.
    </p>
    <p>Here are some important aspects of XAPI:</p>
    <ul>
      <li><strong>VM Management:</strong> XAPI allows administrators to programmatically create, delete, start, and stop virtual machines.</li>
      <li><strong>Automation:</strong> With XAPI, it's possible to automate the management of virtual resources, including networking, storage, and computing, which is crucial for large cloud environments.</li>
      <li><strong>Integration:</strong> XAPI can be integrated with other tools and scripts to provide more efficient and customized administration of the Xen environment.</li>
      <li><strong>Access Control:</strong> XAPI also provides access control mechanisms to ensure that only authorized users can perform specific operations in the virtual environment.</li>
    </ul>
    <p>XAPI is the interface that enables control and automation of the Xen Hypervisor, making it easier to manage virtualized environments.</p>
    <h4 id="-xen-summary"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-xen-summary"><span class="octicon octicon-link"></span></a>üìù Xen Summary</h4>
    <ul>
      <li><strong>Xen:</strong> The core hypervisor technology enabling virtual machines to run on physical hardware.</li>
      <li><strong>XenSource:</strong> The company that commercialized Xen, later acquired by Citrix, leading to the development of Citrix XenServer.</li>
      <li><strong>Xen Project:</strong> The open-source initiative and community that continues to develop and maintain the Xen hypervisor under the Linux Foundation.</li>
      <li><strong>XenStore:</strong> Xen Store acts as a communication and configuration intermediary between the Xen hypervisor and the VMs, streamlining the operation and management of virtualized environments.</li>
      <li><strong>XAPI</strong> is the interface that enables control and automation of the Xen Hypervisor, making it easier to manage virtualized environments.</li>
    </ul>
    <h4 id="Ô∏è-domain0-dom0"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-domain0-dom0"><span class="octicon octicon-link"></span></a>üñ•Ô∏è Domain0 (Dom0)</h4>
    <p>
      Domain0, or Dom0, is the control domain in a Xen architecture. It manages other domains (DomUs) and has direct access to hardware.
      Dom0 runs device drivers, allowing DomUs, which lack direct hardware access, to communicate with devices. Typically, it is a full instance of an operating system, like Linux, and is essential for Xen hypervisor operation.
    </p>
    <h4 id="-domainu-domu"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-domainu-domu"><span class="octicon octicon-link"></span></a>üíª DomainU (DomU)</h4>
    <p>
      DomUs are non-privileged domains that run virtual machines.
      They are managed by Dom0 and do not have direct access to hardware. DomUs can be configured to run different operating systems and are used for various purposes, such as application servers and development environments. They rely on Dom0 for hardware interaction.
    </p>
    <h4 id="-pv-domu-paravirtualized-domainu"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-pv-domu-paravirtualized-domainu"><span class="octicon octicon-link"></span></a>üß© PV-DomU (Paravirtualized DomainU)</h4>
    <p>
      PV-DomUs use a technique called paravirtualization. In this model, the DomU operating system is modified to be aware that it runs in a virtualized environment, allowing it to communicate directly with the hypervisor for optimized performance.
      This results in lower overhead and better efficiency compared to full virtualization.
    </p>
    <h4 id="Ô∏è-hvm-domu-hardware-virtual-machine-domainu"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-hvm-domu-hardware-virtual-machine-domainu"><span class="octicon octicon-link"></span></a>‚öôÔ∏è HVM-DomU (Hardware Virtual Machine DomainU)</h4>
    <p>
      HVM-DomUs are virtual machines that utilize full virtualization, allowing unmodified operating systems to run. The Xen hypervisor provides hardware emulation for these DomUs, enabling them to run any operating system that supports the underlying hardware architecture.
      While this offers greater flexibility, it can result in higher overhead compared to PV-DomUs.
    </p>
    <h4 id="-xen-network"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-xen-network"><span class="octicon octicon-link"></span></a>üåê Xen Network</h4>
    <p>
      Paravirtualized Network Devices
      
      <img src="images/xen-networking2.png" alt="pv-networking">
    </p>
    <p>
      Bridging
      
      <img src="images/xen-networking1.png" alt="pv-networking">
    </p>
    <h4 id="-3512-cited-objects"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-3512-cited-objects"><span class="octicon octicon-link"></span></a>üìã 351.2 Cited Objects</h4>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">Domain0 <span class="token punctuation">(</span>Dom0<span class="token punctuation">)</span>, DomainU <span class="token punctuation">(</span>DomU<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="2">PV-DomU, HVM-DomU
</span><span class="code-line line-number" line="3">/etc/xen/
</span><span class="code-line line-number" line="4">xl
</span><span class="code-line line-number" line="5">xl.cfg 
</span><span class="code-line line-number" line="6">xl.conf <span class="token comment"># Xen global configurations</span>
</span><span class="code-line line-number" line="7">xentop
</span><span class="code-line line-number" line="8">oxenstored <span class="token comment"># Xenstore configurations</span>
</span></code><div onclick="copied(this)" data-code="Domain0 (Dom0), DomainU (DomU)
PV-DomU, HVM-DomU
/etc/xen/
xl
xl.cfg 
xl.conf # Xen global configurations
xentop
oxenstored # Xenstore configurations
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="-3512-notes"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-3512-notes"><span class="octicon octicon-link"></span></a>üìù 351.2 Notes</h4>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">
</span><span class="code-line line-number" line="2"><span class="token comment"># Xen Settings</span>
</span><span class="code-line line-number" line="3">/etc/xen/
</span><span class="code-line line-number" line="4">/etc/xen/xl.conf - Main general configuration <span class="token function">file</span> <span class="token keyword">for</span> Xen
</span><span class="code-line line-number" line="5">/etc/xen/oxenstored.conf - Xenstore configurations
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token comment"># VM Configurations</span>
</span><span class="code-line line-number" line="8">/etc/xen/xlexample.pvlinux
</span><span class="code-line line-number" line="9">/etc/xen/xlexample.hvm
</span><span class="code-line line-number" line="10">
</span><span class="code-line line-number" line="11"><span class="token comment"># Service Configurations</span>
</span><span class="code-line line-number" line="12">/etc/default/xen
</span><span class="code-line line-number" line="13">/etc/default/xendomains
</span><span class="code-line line-number" line="14">
</span><span class="code-line line-number" line="15"><span class="token comment"># xen-tools configurations</span>
</span><span class="code-line line-number" line="16">/etc/xen-tools/
</span><span class="code-line line-number" line="17">/usr/share/xen-tools/
</span><span class="code-line line-number" line="18">
</span><span class="code-line line-number" line="19"><span class="token comment"># docs</span>
</span><span class="code-line line-number" line="20">xl<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="21">xl.conf<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="22">xlcpupool.cfg<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="23">xl-disk-configuration<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="24">xl-network-configuration<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="25">xen-tscmode<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="26">
</span><span class="code-line line-number" line="27"><span class="token comment"># initialized domains auto</span>
</span><span class="code-line line-number" line="28">/etc/default/xendomains
</span><span class="code-line line-number" line="29">   <span class="token assign-left variable">XENDOMAINS_AUTO</span><span class="token operator">=</span>/etc/xen/auto
</span><span class="code-line line-number" line="30">
</span><span class="code-line line-number" line="31">/etc/xen/auto/
</span><span class="code-line line-number" line="32">
</span><span class="code-line line-number" line="33"><span class="token comment"># set domain for up after xen reboot</span>
</span><span class="code-line line-number" line="34"><span class="token comment">## create folder auto</span>
</span><span class="code-line line-number" line="35"><span class="token builtin class-name">cd</span> /etc/xen <span class="token operator">&#x26;&#x26;</span> <span class="token function">mkdir</span> <span class="token parameter variable">-p</span> auto <span class="token operator">&#x26;&#x26;</span> <span class="token builtin class-name">cd</span> auto
</span><span class="code-line line-number" line="36">
</span><span class="code-line line-number" line="37"><span class="token comment"># create symbolic link</span>
</span><span class="code-line line-number" line="38"><span class="token function">ln</span> <span class="token parameter variable">-s</span> /etc/xen/lpic3-pv-guest /etc/xen/auto/lpic3-pv-guest
</span></code><div onclick="copied(this)" data-code="
# Xen Settings
/etc/xen/
/etc/xen/xl.conf - Main general configuration file for Xen
/etc/xen/oxenstored.conf - Xenstore configurations

# VM Configurations
/etc/xen/xlexample.pvlinux
/etc/xen/xlexample.hvm

# Service Configurations
/etc/default/xen
/etc/default/xendomains

# xen-tools configurations
/etc/xen-tools/
/usr/share/xen-tools/

# docs
xl(1)
xl.conf(5)
xlcpupool.cfg(5)
xl-disk-configuration(5)
xl-network-configuration(5)
xen-tscmode(7)

# initialized domains auto
/etc/default/xendomains
   XENDOMAINS_AUTO=/etc/xen/auto

/etc/xen/auto/

# set domain for up after xen reboot
## create folder auto
cd /etc/xen &#x26;&#x26; mkdir -p auto &#x26;&#x26; cd auto

# create symbolic link
ln -s /etc/xen/lpic3-pv-guest /etc/xen/auto/lpic3-pv-guest
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="vif"><a class="anchor" aria-hidden="true" tabindex="-1" href="#vif"><span class="octicon octicon-link"></span></a>vif</h5>
    <p>In Xen, ‚Äúvif‚Äù stands for Virtual Interface and is used to configure networking for virtual machines (domains).</p>
    <p>By specifying ‚Äúvif‚Äù directives in the domain configuration files, administrators can define network interfaces, assign IP addresses, set up VLANs, and configure other networking parameters for virtual machines running on Xen hosts. For example: vif = [‚Äòbridge=xenbr0‚Äô], in this case, it connects the VM‚Äôs network interface to the Xen bridge named ‚Äúxenbr0‚Äù.</p>
    <h4 id="xen-lab"><a class="anchor" aria-hidden="true" tabindex="-1" href="#xen-lab"><span class="octicon octicon-link"></span></a>Xen Lab</h4>
    <p>Use this script for lab provisioning: <a href="scripts/xen/xen.sh">xen.sh</a></p>
    <h4 id="-3512-important-commands"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-3512-important-commands"><span class="octicon octicon-link"></span></a>üíª 351.2 Important Commands</h4>
    <h5 id="Ô∏è-xen-create-image"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-xen-create-image"><span class="octicon octicon-link"></span></a>üèóÔ∏è xen-create-image</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># create a pv image</span>
</span><span class="code-line line-number" line="2">xen-create-image <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="3">  <span class="token parameter variable">--hostname</span><span class="token operator">=</span>lpic3-pv-guest <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="4">  <span class="token parameter variable">--memory</span><span class="token operator">=</span>1gb <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="5">  <span class="token parameter variable">--vcpus</span><span class="token operator">=</span><span class="token number">2</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="6">  <span class="token parameter variable">--lvm</span><span class="token operator">=</span>vg_xen <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="7">  <span class="token parameter variable">--bridge</span><span class="token operator">=</span>xenbr0 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="8">  <span class="token parameter variable">--dhcp</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="9">  <span class="token parameter variable">--pygrub</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="10">  <span class="token parameter variable">--password</span><span class="token operator">=</span>vagrant <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="11">  <span class="token parameter variable">--dist</span><span class="token operator">=</span>bookworm
</span></code><div onclick="copied(this)" data-code="# create a pv image
xen-create-image \
  --hostname=lpic3-pv-guest \
  --memory=1gb \
  --vcpus=2 \
  --lvm=vg_xen \
  --bridge=xenbr0 \
  --dhcp \
  --pygrub \
  --password=vagrant \
  --dist=bookworm
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-xen-list-images"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-xen-list-images"><span class="octicon octicon-link"></span></a>üìÑ xen-list-images</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># list image</span>
</span><span class="code-line line-number" line="2">xen-list-image
</span></code><div onclick="copied(this)" data-code="# list image
xen-list-image
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-xen-delete-image"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-xen-delete-image"><span class="octicon octicon-link"></span></a>‚ùå xen-delete-image</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># delete a pv image</span>
</span><span class="code-line line-number" line="2">xen-delete-image lpic3-pv-guest <span class="token parameter variable">--lvm</span><span class="token operator">=</span>vg_xen
</span></code><div onclick="copied(this)" data-code="# delete a pv image
xen-delete-image lpic3-pv-guest --lvm=vg_xen
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="Ô∏è-xenstore-ls"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-xenstore-ls"><span class="octicon octicon-link"></span></a>üóÑÔ∏è xenstore-ls</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># list xenstore infos</span>
</span><span class="code-line line-number" line="2">xenstore-ls
</span></code><div onclick="copied(this)" data-code="# list xenstore infos
xenstore-ls
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="Ô∏è-xl"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-xl"><span class="octicon octicon-link"></span></a>‚öôÔ∏è xl</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># view xen information</span>
</span><span class="code-line line-number" line="2">xl infos
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># list Domains</span>
</span><span class="code-line line-number" line="5">xl list
</span><span class="code-line line-number" line="6">xl list lpic3-hvm-guest
</span><span class="code-line line-number" line="7">xl list lpic3-hvm-guest <span class="token parameter variable">-l</span>
</span><span class="code-line line-number" line="8">
</span><span class="code-line line-number" line="9"><span class="token comment"># uptime Domains</span>
</span><span class="code-line line-number" line="10">xl <span class="token function">uptime</span>
</span><span class="code-line line-number" line="11">
</span><span class="code-line line-number" line="12"><span class="token comment"># pause Domain</span>
</span><span class="code-line line-number" line="13">xl pause <span class="token number">2</span>
</span><span class="code-line line-number" line="14">xl pause lpic3-hvm-guest
</span><span class="code-line line-number" line="15">
</span><span class="code-line line-number" line="16"><span class="token comment"># save state Domains</span>
</span><span class="code-line line-number" line="17">xl <span class="token parameter variable">-v</span> save lpic3-hvm-guest ~root/image-lpic3-hvm-guest.save
</span><span class="code-line line-number" line="18">
</span><span class="code-line line-number" line="19"><span class="token comment"># restore Domain</span>
</span><span class="code-line line-number" line="20">xl restore /root/image-lpic3-hvm-guest.save
</span><span class="code-line line-number" line="21">
</span><span class="code-line line-number" line="22"><span class="token comment"># get Domain name</span>
</span><span class="code-line line-number" line="23">xl domname <span class="token number">2</span>
</span><span class="code-line line-number" line="24">
</span><span class="code-line line-number" line="25"><span class="token comment"># view dmesg information</span>
</span><span class="code-line line-number" line="26">xl <span class="token function">dmesg</span>
</span><span class="code-line line-number" line="27">
</span><span class="code-line line-number" line="28"><span class="token comment"># monitoring domain</span>
</span><span class="code-line line-number" line="29">xl <span class="token function">top</span>
</span><span class="code-line line-number" line="30">xentop
</span><span class="code-line line-number" line="31">xen <span class="token function">top</span>
</span><span class="code-line line-number" line="32">
</span><span class="code-line line-number" line="33"><span class="token comment"># Limit mem Dom0</span>
</span><span class="code-line line-number" line="34">xl mem-set <span class="token number">0</span> <span class="token number">2048</span>
</span><span class="code-line line-number" line="35">
</span><span class="code-line line-number" line="36"><span class="token comment"># Limit cpu (not permanent after boot)</span>
</span><span class="code-line line-number" line="37">xl vcpu-set <span class="token number">0</span> <span class="token number">2</span>
</span><span class="code-line line-number" line="38">
</span><span class="code-line line-number" line="39"><span class="token comment"># create DomainU - virtual machine</span>
</span><span class="code-line line-number" line="40">xl create /etc/xen/lpic3-pv-guest.cfg
</span><span class="code-line line-number" line="41">
</span><span class="code-line line-number" line="42"><span class="token comment"># create DomainU virtual machine and connect to guest</span>
</span><span class="code-line line-number" line="43">xl create <span class="token parameter variable">-c</span> /etc/xen/lpic3-pv-guest.cfg
</span><span class="code-line line-number" line="44">
</span><span class="code-line line-number" line="45"><span class="token comment">##----------------------------------------------</span>
</span><span class="code-line line-number" line="46"><span class="token comment"># create DomainU virtual machine HVM</span>
</span><span class="code-line line-number" line="47">
</span><span class="code-line line-number" line="48"><span class="token comment">## create logical volume</span>
</span><span class="code-line line-number" line="49">lvcreate <span class="token parameter variable">-l</span> +20%FREE <span class="token parameter variable">-n</span> lpic3-hvm-guest-disk  vg_xen
</span><span class="code-line line-number" line="50">
</span><span class="code-line line-number" line="51"><span class="token comment">## create a ssh tunel for vnc</span>
</span><span class="code-line line-number" line="52"><span class="token function">ssh</span> <span class="token parameter variable">-l</span> vagrant <span class="token parameter variable">-L</span> <span class="token number">5900</span>:localhost:5900  <span class="token number">192.168</span>.0.130
</span><span class="code-line line-number" line="53">
</span><span class="code-line line-number" line="54"><span class="token comment">## configure /etc/xen/lpic3-hvm-guest.cfg</span>
</span><span class="code-line line-number" line="55"><span class="token comment">## set boot for cdrom: boot = "d"</span>
</span><span class="code-line line-number" line="56">
</span><span class="code-line line-number" line="57"><span class="token comment">## create domain hvm</span>
</span><span class="code-line line-number" line="58">xl create /etc/xen/lpic3-hvm-guest.cfg
</span><span class="code-line line-number" line="59">
</span><span class="code-line line-number" line="60"><span class="token comment">## open vcn connection in your vnc client with localhost</span>
</span><span class="code-line line-number" line="61"><span class="token comment">## for view install details</span>
</span><span class="code-line line-number" line="62">
</span><span class="code-line line-number" line="63"><span class="token comment">## after installation finished, destroy domain: xl destroy &#x3C;id_or_name></span>
</span><span class="code-line line-number" line="64">
</span><span class="code-line line-number" line="65"><span class="token comment">## set /etc/xen/lpic3-hvm-guest.cfg: boot for hard disc: boot = "c"</span>
</span><span class="code-line line-number" line="66">
</span><span class="code-line line-number" line="67"><span class="token comment">## create domain hvm</span>
</span><span class="code-line line-number" line="68">xl create /etc/xen/lpic3-hvm-guest.cfg
</span><span class="code-line line-number" line="69">
</span><span class="code-line line-number" line="70"><span class="token comment">## access domain hvm</span>
</span><span class="code-line line-number" line="71">xl console <span class="token operator">&#x3C;</span>id_or_name<span class="token operator">></span>
</span><span class="code-line line-number" line="72"><span class="token comment">##----------------------------------------------</span>
</span><span class="code-line line-number" line="73">
</span><span class="code-line line-number" line="74"><span class="token comment"># connect in domain guest</span>
</span><span class="code-line line-number" line="75">xl console <span class="token operator">&#x3C;</span>id<span class="token operator">>|</span><span class="token operator">&#x3C;</span>name<span class="token operator">></span> <span class="token punctuation">(</span>press enter<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="76">xl console <span class="token number">1</span>
</span><span class="code-line line-number" line="77">xl console lpic3-pv-guest
</span><span class="code-line line-number" line="78">
</span><span class="code-line line-number" line="79"><span class="token comment">#How do I exit domU "xl console" session</span>
</span><span class="code-line line-number" line="80"><span class="token comment">#Press ctrl+] or if you're using Putty press ctrl+5.</span>
</span><span class="code-line line-number" line="81">
</span><span class="code-line line-number" line="82"><span class="token comment"># Poweroff domain</span>
</span><span class="code-line line-number" line="83">xl <span class="token function">shutdown</span> lpic3-pv-guest
</span><span class="code-line line-number" line="84">
</span><span class="code-line line-number" line="85"><span class="token comment"># destroy domain</span>
</span><span class="code-line line-number" line="86">xl destroy lpic3-pv-guest
</span><span class="code-line line-number" line="87">
</span><span class="code-line line-number" line="88"><span class="token comment"># reboot domain</span>
</span><span class="code-line line-number" line="89">xl <span class="token function">reboot</span> lpic3-pv-guest
</span><span class="code-line line-number" line="90">
</span><span class="code-line line-number" line="91"><span class="token comment"># list block devices</span>
</span><span class="code-line line-number" line="92">xl block-list <span class="token number">1</span>
</span><span class="code-line line-number" line="93">xl block-list lpic3-pv-guest
</span><span class="code-line line-number" line="94">
</span><span class="code-line line-number" line="95"><span class="token comment"># detach block devices</span>
</span><span class="code-line line-number" line="96">xl block-detach lpic3-hvm-guest hdc
</span><span class="code-line line-number" line="97">xl block-detach <span class="token number">2</span> xvdc
</span><span class="code-line line-number" line="98">
</span><span class="code-line line-number" line="99"><span class="token comment"># attach block devices</span>
</span><span class="code-line line-number" line="100">
</span><span class="code-line line-number" line="101"><span class="token comment">## hard disk devices</span>
</span><span class="code-line line-number" line="102">xl block-attach lpic3-hvm-guest-ubuntu <span class="token string">'phy:/dev/vg_xen/lpic3-hvm-guest-disk2,xvde,w'</span>
</span><span class="code-line line-number" line="103">
</span><span class="code-line line-number" line="104"><span class="token comment">## cdrom</span>
</span><span class="code-line line-number" line="105">xl block-attach lpic3-hvm-guest <span class="token string">'file:/home/vagrant/isos/ubuntu/seed.iso,xvdc:cdrom,r'</span>
</span><span class="code-line line-number" line="106">xl block-attach <span class="token number">2</span> <span class="token string">'file:/home/vagrant/isos/ubuntu/seed.iso,xvdc:cdrom,r'</span>
</span><span class="code-line line-number" line="107">
</span><span class="code-line line-number" line="108"><span class="token comment"># insert and eject cdrom devices</span>
</span><span class="code-line line-number" line="109">xl cd-insert lpic3-hvm-guest-ubuntu xvdb  /home/vagrant/isos/ubuntu/ubuntu-24.04.1-live-server-amd64.iso
</span><span class="code-line line-number" line="110">xl cd-eject lpic3-hvm-guest-ubuntu xvdb
</span></code><div onclick="copied(this)" data-code="# view xen information
xl infos

# list Domains
xl list
xl list lpic3-hvm-guest
xl list lpic3-hvm-guest -l

# uptime Domains
xl uptime

# pause Domain
xl pause 2
xl pause lpic3-hvm-guest

# save state Domains
xl -v save lpic3-hvm-guest ~root/image-lpic3-hvm-guest.save

# restore Domain
xl restore /root/image-lpic3-hvm-guest.save

# get Domain name
xl domname 2

# view dmesg information
xl dmesg

# monitoring domain
xl top
xentop
xen top

# Limit mem Dom0
xl mem-set 0 2048

# Limit cpu (not permanent after boot)
xl vcpu-set 0 2

# create DomainU - virtual machine
xl create /etc/xen/lpic3-pv-guest.cfg

# create DomainU virtual machine and connect to guest
xl create -c /etc/xen/lpic3-pv-guest.cfg

##----------------------------------------------
# create DomainU virtual machine HVM

## create logical volume
lvcreate -l +20%FREE -n lpic3-hvm-guest-disk  vg_xen

## create a ssh tunel for vnc
ssh -l vagrant -L 5900:localhost:5900  192.168.0.130

## configure /etc/xen/lpic3-hvm-guest.cfg
## set boot for cdrom: boot = &#x22;d&#x22;

## create domain hvm
xl create /etc/xen/lpic3-hvm-guest.cfg

## open vcn connection in your vnc client with localhost
## for view install details

## after installation finished, destroy domain: xl destroy <id_or_name>

## set /etc/xen/lpic3-hvm-guest.cfg: boot for hard disc: boot = &#x22;c&#x22;

## create domain hvm
xl create /etc/xen/lpic3-hvm-guest.cfg

## access domain hvm
xl console <id_or_name>
##----------------------------------------------

# connect in domain guest
xl console <id>|<name> (press enter)
xl console 1
xl console lpic3-pv-guest

#How do I exit domU &#x22;xl console&#x22; session
#Press ctrl+] or if you&#x27;re using Putty press ctrl+5.

# Poweroff domain
xl shutdown lpic3-pv-guest

# destroy domain
xl destroy lpic3-pv-guest

# reboot domain
xl reboot lpic3-pv-guest

# list block devices
xl block-list 1
xl block-list lpic3-pv-guest

# detach block devices
xl block-detach lpic3-hvm-guest hdc
xl block-detach 2 xvdc

# attach block devices

## hard disk devices
xl block-attach lpic3-hvm-guest-ubuntu &#x27;phy:/dev/vg_xen/lpic3-hvm-guest-disk2,xvde,w&#x27;

## cdrom
xl block-attach lpic3-hvm-guest &#x27;file:/home/vagrant/isos/ubuntu/seed.iso,xvdc:cdrom,r&#x27;
xl block-attach 2 &#x27;file:/home/vagrant/isos/ubuntu/seed.iso,xvdc:cdrom,r&#x27;

# insert and eject cdrom devices
xl cd-insert lpic3-hvm-guest-ubuntu xvdb  /home/vagrant/isos/ubuntu/ubuntu-24.04.1-live-server-amd64.iso
xl cd-eject lpic3-hvm-guest-ubuntu xvdb
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p align="right">(<a href="#topic-351.2">back to sub Topic 351.2</a>)</p>
    <p align="right">(<a href="#topic-351">back to Topic 351</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr>
    <p><a name="topic-351.3"></a></p>
    <h3 id="Ô∏è-3513-qemu"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-3513-qemu"><span class="octicon octicon-link"></span></a>üñ•Ô∏è 351.3 QEMU</h3>
    <p>
      <img src="/images/xen-kvm-qemu.png" alt="xen-kvm-qemu">
    </p>
    <p><strong>Weight:</strong> 4</p>
    <p><strong>Description:</strong> Candidates should be able to install, configure, maintain, migrate and troubleshoot QEMU installations.</p>
    <p><strong>Key Knowledge Areas:</strong></p>
    <ul>
      <li>Understand the architecture of QEMU, including KVM, networking and storage</li>
      <li>Start QEMU instances from the command line</li>
      <li>Manage snapshots using the QEMU monitor</li>
      <li>Install the QEMU Guest Agent and VirtIO device drivers</li>
      <li>Troubleshoot QEMU installations, including networking and storage</li>
      <li>Awareness of important QEMU configuration parameters</li>
    </ul>
    <h4 id="-3513-cited-objects"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-3513-cited-objects"><span class="octicon octicon-link"></span></a>üìã 351.3 Cited Objects</h4>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">Kernel modules: kvm, kvm-intel and kvm-amd
</span><span class="code-line line-number" line="2">/dev/kvm
</span><span class="code-line line-number" line="3">QEMU monitor
</span><span class="code-line line-number" line="4">qemu
</span><span class="code-line line-number" line="5">qemu-system-x86_64
</span><span class="code-line line-number" line="6"><span class="token function">ip</span>
</span><span class="code-line line-number" line="7">brctl
</span><span class="code-line line-number" line="8">tunctl
</span></code><div onclick="copied(this)" data-code="Kernel modules: kvm, kvm-intel and kvm-amd
/dev/kvm
QEMU monitor
qemu
qemu-system-x86_64
ip
brctl
tunctl
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="Ô∏è-3513-important-commands"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-3513-important-commands"><span class="octicon octicon-link"></span></a>üõ†Ô∏è 351.3 Important Commands</h4>
    <h5 id="-3513-others-commands"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-3513-others-commands"><span class="octicon octicon-link"></span></a>üìù 351.3 Others Commands</h5>
    <h5 id="-check-kvm-module"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-check-kvm-module"><span class="octicon octicon-link"></span></a>üß™ check kvm module</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># check if kvm is enabled</span>
</span><span class="code-line line-number" line="2"><span class="token function">egrep</span> <span class="token parameter variable">-o</span> <span class="token string">'(vmx|svm)'</span> /proc/cpuinfo
</span><span class="code-line line-number" line="3">lscpu <span class="token operator">|</span><span class="token function">grep</span> Virtualization
</span><span class="code-line line-number" line="4">lsmod<span class="token operator">|</span><span class="token function">grep</span> kvm
</span><span class="code-line line-number" line="5"><span class="token function">ls</span> <span class="token parameter variable">-l</span> /dev/kvm
</span><span class="code-line line-number" line="6">hostnamectl
</span><span class="code-line line-number" line="7">systemd-detect-virt
</span></code><div onclick="copied(this)" data-code="# check if kvm is enabled
egrep -o &#x27;(vmx|svm)&#x27; /proc/cpuinfo
lscpu |grep Virtualization
lsmod|grep kvm
ls -l /dev/kvm
hostnamectl
systemd-detect-virt
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># check if kvm is enabled</span>
</span><span class="code-line line-number" line="2"><span class="token function">egrep</span> <span class="token parameter variable">-o</span> <span class="token string">'(vmx|svm)'</span> /proc/cpuinfo
</span><span class="code-line line-number" line="3">lscpu <span class="token operator">|</span><span class="token function">grep</span> Virtualization
</span><span class="code-line line-number" line="4">lsmod<span class="token operator">|</span><span class="token function">grep</span> kvm
</span><span class="code-line line-number" line="5"><span class="token function">ls</span> <span class="token parameter variable">-l</span> /dev/kvm
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token comment"># check kernel infos</span>
</span><span class="code-line line-number" line="8"><span class="token function">uname</span> <span class="token parameter variable">-a</span>
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10"><span class="token comment"># check root device</span>
</span><span class="code-line line-number" line="11">findmnt /
</span><span class="code-line line-number" line="12">
</span><span class="code-line line-number" line="13"><span class="token comment"># mount a qcow2 image</span>
</span><span class="code-line line-number" line="14"><span class="token comment">## Example 1:</span>
</span><span class="code-line line-number" line="15"><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /mnt/qemu
</span><span class="code-line line-number" line="16">guestmount <span class="token parameter variable">-a</span> os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2 <span class="token parameter variable">-i</span> /mnt/qemu/
</span><span class="code-line line-number" line="17">
</span><span class="code-line line-number" line="18"><span class="token comment">## Example 2:</span>
</span><span class="code-line line-number" line="19"><span class="token function">sudo</span> guestfish <span class="token parameter variable">--rw</span> <span class="token parameter variable">-a</span> os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2
</span><span class="code-line line-number" line="20">run
</span><span class="code-line line-number" line="21">list-filesystems
</span><span class="code-line line-number" line="22">
</span><span class="code-line line-number" line="23"><span class="token comment"># run commands in qcow2 images</span>
</span><span class="code-line line-number" line="24"><span class="token comment">## Example 1:</span>
</span><span class="code-line line-number" line="25">virt-customize <span class="token parameter variable">-a</span>  os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2  --run-command <span class="token string">'echo hello >/root/hello.txt'</span>
</span><span class="code-line line-number" line="26"><span class="token comment">## Example 2:</span>
</span><span class="code-line line-number" line="27"><span class="token function">sudo</span> virt-customize <span class="token parameter variable">-a</span> os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="28">  --run-command <span class="token string">'echo -e "auto ens3\niface ens3 inet dhcp" > /etc/network/interfaces.d/ens3.cfg'</span>
</span><span class="code-line line-number" line="29">
</span><span class="code-line line-number" line="30"><span class="token comment"># generate mac </span>
</span><span class="code-line line-number" line="31"><span class="token builtin class-name">printf</span> <span class="token string">'DE:AD:BE:EF:%02X:%02X\n'</span> <span class="token variable"><span class="token variable">$((</span>RANDOM<span class="token operator">%</span><span class="token number">256</span><span class="token variable">))</span></span> <span class="token variable"><span class="token variable">$((</span>RANDOM<span class="token operator">%</span><span class="token number">256</span><span class="token variable">))</span></span>
</span></code><div onclick="copied(this)" data-code="# check if kvm is enabled
egrep -o &#x27;(vmx|svm)&#x27; /proc/cpuinfo
lscpu |grep Virtualization
lsmod|grep kvm
ls -l /dev/kvm

# check kernel infos
uname -a

# check root device
findmnt /

# mount a qcow2 image
## Example 1:
mkdir -p /mnt/qemu
guestmount -a os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2 -i /mnt/qemu/

## Example 2:
sudo guestfish --rw -a os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2
run
list-filesystems

# run commands in qcow2 images
## Example 1:
virt-customize -a  os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2  --run-command &#x27;echo hello >/root/hello.txt&#x27;
## Example 2:
sudo virt-customize -a os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2 \
  --run-command &#x27;echo -e &#x22;auto ens3\niface ens3 inet dhcp&#x22; > /etc/network/interfaces.d/ens3.cfg&#x27;

# generate mac 
printf &#x27;DE:AD:BE:EF:%02X:%02X\n&#x27; $((RANDOM%256)) $((RANDOM%256))
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-ip"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-ip"><span class="octicon octicon-link"></span></a>üåê ip</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># list links</span>
</span><span class="code-line line-number" line="2"><span class="token function">ip</span> <span class="token function">link</span> show
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># create bridge</span>
</span><span class="code-line line-number" line="5"><span class="token function">ip</span> <span class="token function">link</span> <span class="token function">add</span> br0 <span class="token builtin class-name">type</span> bridge
</span></code><div onclick="copied(this)" data-code="# list links
ip link show

# create bridge
ip link add br0 type bridge
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-brctl"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-brctl"><span class="octicon octicon-link"></span></a>üåâ brctl</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># list links</span>
</span><span class="code-line line-number" line="2"><span class="token function">ip</span> <span class="token function">link</span> show
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># create bridge</span>
</span><span class="code-line line-number" line="5"><span class="token function">ip</span> <span class="token function">link</span> <span class="token function">add</span> br0 <span class="token builtin class-name">type</span> bridge
</span></code><div onclick="copied(this)" data-code="# list links
ip link show

# create bridge
ip link add br0 type bridge
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-qemu-img"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-qemu-img"><span class="octicon octicon-link"></span></a>üíæ qemu-img</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># create image</span>
</span><span class="code-line line-number" line="2">qemu-img create <span class="token parameter variable">-f</span> qcow2 vm-disk-debian-12.qcow2 20G
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># convert vmdk to qcow2 image</span>
</span><span class="code-line line-number" line="5">qemu-img convert <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="6">  <span class="token parameter variable">-f</span> vmdk <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="7">  <span class="token parameter variable">-O</span> qcow2 os-images/Debian_12.0.0_VMM/Debian_12.0.0_VMM_LinuxVMImages.COM.vmdk os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="8">  <span class="token parameter variable">-p</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="9">  <span class="token parameter variable">-m16</span>
</span><span class="code-line line-number" line="10">
</span><span class="code-line line-number" line="11"><span class="token comment"># check image</span>
</span><span class="code-line line-number" line="12">qemu-img info os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2
</span></code><div onclick="copied(this)" data-code="# create image
qemu-img create -f qcow2 vm-disk-debian-12.qcow2 20G

# convert vmdk to qcow2 image
qemu-img convert \
  -f vmdk \
  -O qcow2 os-images/Debian_12.0.0_VMM/Debian_12.0.0_VMM_LinuxVMImages.COM.vmdk os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2 \
  -p \
  -m16

# check image
qemu-img info os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="Ô∏è-qemu-system-x86_64"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-qemu-system-x86_64"><span class="octicon octicon-link"></span></a>üñ•Ô∏è qemu-system-x86_64</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># create vm with ISO</span>
</span><span class="code-line line-number" line="2">qemu-system-x86_64 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="3">  <span class="token parameter variable">-name</span> lpic3-debian-12 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="4">  -enable-kvm <span class="token parameter variable">-hda</span> vm-disk-debian-12.qcow2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="5">  <span class="token parameter variable">-cdrom</span> /home/vagrant/isos/debian/debian-12.8.0-amd64-DVD-1.iso  <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="6">  <span class="token parameter variable">-boot</span> d <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="7">  <span class="token parameter variable">-m</span> <span class="token number">2048</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="8">  <span class="token parameter variable">-smp</span> <span class="token assign-left variable">cpus</span><span class="token operator">=</span><span class="token number">2</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="9">  <span class="token parameter variable">-k</span> pt-br
</span><span class="code-line line-number" line="10">
</span><span class="code-line line-number" line="11"><span class="token comment"># create vm with ISO using vnc in no gui servers \ ssh connections</span>
</span><span class="code-line line-number" line="12">
</span><span class="code-line line-number" line="13"><span class="token comment">## create ssh tunel in host</span>
</span><span class="code-line line-number" line="14"> <span class="token function">ssh</span> <span class="token parameter variable">-l</span> vagrant <span class="token parameter variable">-L</span> <span class="token number">5902</span>:localhost:5902  <span class="token number">192.168</span>.0.131
</span><span class="code-line line-number" line="15">
</span><span class="code-line line-number" line="16"><span class="token comment">## create vm </span>
</span><span class="code-line line-number" line="17">qemu-system-x86_64 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="18">  <span class="token parameter variable">-name</span> lpic3-debian-12 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="19">  -enable-kvm <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="20">  <span class="token parameter variable">-m</span> <span class="token number">2048</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="21">  <span class="token parameter variable">-smp</span> <span class="token assign-left variable">cpus</span><span class="token operator">=</span><span class="token number">2</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="22">  <span class="token parameter variable">-k</span> pt-br <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="23">  <span class="token parameter variable">-vnc</span> :2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="24">  <span class="token parameter variable">-device</span> qemu-xhci <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="25">  <span class="token parameter variable">-device</span> usb-tablet <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="26">  <span class="token parameter variable">-device</span> ide-cd,bus<span class="token operator">=</span>ide.1,drive<span class="token operator">=</span>cdrom,bootindex<span class="token operator">=</span><span class="token number">1</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="27">  <span class="token parameter variable">-drive</span> <span class="token assign-left variable">id</span><span class="token operator">=</span>cdrom,media<span class="token operator">=</span>cdrom,if<span class="token operator">=</span>none,file<span class="token operator">=</span>/home/vagrant/isos/debian/debian-12.8.0-amd64-DVD-1.iso <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="28">  <span class="token parameter variable">-hda</span> vm-disk-debian-12.qcow2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="29">  <span class="token parameter variable">-boot</span> <span class="token assign-left variable">order</span><span class="token operator">=</span>d <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="30">  <span class="token parameter variable">-vga</span> std <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="31">  <span class="token parameter variable">-display</span> none <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="32">  <span class="token parameter variable">-monitor</span> stdio
</span><span class="code-line line-number" line="33">
</span><span class="code-line line-number" line="34"><span class="token comment"># create vm with OS Image - qcow2</span>
</span><span class="code-line line-number" line="35">
</span><span class="code-line line-number" line="36"><span class="token comment">## create vm</span>
</span><span class="code-line line-number" line="37">qemu-system-x86_64 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="38">  <span class="token parameter variable">-name</span> lpic3-debian-12 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="39">  -enable-kvm <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="40">  <span class="token parameter variable">-m</span> <span class="token number">2048</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="41">  <span class="token parameter variable">-smp</span> <span class="token assign-left variable">cpus</span><span class="token operator">=</span><span class="token number">2</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="42">  <span class="token parameter variable">-k</span> pt-br <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="43">  <span class="token parameter variable">-vnc</span> :2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="44">  <span class="token parameter variable">-hda</span> os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2
</span><span class="code-line line-number" line="45">
</span><span class="code-line line-number" line="46"><span class="token comment">## create vm with custom kernel params</span>
</span><span class="code-line line-number" line="47">qemu-system-x86_64 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="48">  <span class="token parameter variable">-name</span> lpic3-debian-12 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="49">  <span class="token parameter variable">-kernel</span> /vmlinuz <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="50">  <span class="token parameter variable">-initrd</span> /initrd.img <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="51">  <span class="token parameter variable">-append</span> <span class="token string">"root=/dev/mapper/debian--vg-root ro fastboot console=ttyS0"</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="52">  -enable-kvm <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="53">  <span class="token parameter variable">-m</span> <span class="token number">2048</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="54">  <span class="token parameter variable">-smp</span> <span class="token assign-left variable">cpus</span><span class="token operator">=</span><span class="token number">2</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="55">  <span class="token parameter variable">-k</span> pt-br <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="56">  <span class="token parameter variable">-vnc</span> :2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="57">  <span class="token parameter variable">-hda</span> os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2
</span><span class="code-line line-number" line="58">
</span><span class="code-line line-number" line="59"><span class="token comment">## create vm with and attach disk</span>
</span><span class="code-line line-number" line="60">qemu-system-x86_64 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="61">  <span class="token parameter variable">-name</span> lpic3-debian-12 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="62">  -enable-kvm <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="63">  <span class="token parameter variable">-m</span> <span class="token number">2048</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="64">  <span class="token parameter variable">-smp</span> <span class="token assign-left variable">cpus</span><span class="token operator">=</span><span class="token number">2</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="65">  <span class="token parameter variable">-vnc</span> :2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="66">  <span class="token parameter variable">-hda</span> os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="67">  <span class="token parameter variable">-hdb</span> vmdisk-debian12.qcow2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="68">  <span class="token parameter variable">-drive</span> <span class="token assign-left variable">file</span><span class="token operator">=</span>vmdisk-extra-debian12.qcow2,index<span class="token operator">=</span><span class="token number">2</span>,media<span class="token operator">=</span>disk,if<span class="token operator">=</span>ide <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="69">  <span class="token parameter variable">-netdev</span> bridge,id<span class="token operator">=</span>net0,br<span class="token operator">=</span>qemubr0 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="70">  <span class="token parameter variable">-device</span> virtio-net-pci,netdev<span class="token operator">=</span>net0
</span><span class="code-line line-number" line="71">  
</span><span class="code-line line-number" line="72"><span class="token comment">## create vm network netdev user</span>
</span><span class="code-line line-number" line="73">qemu-system-x86_64 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="74">  <span class="token parameter variable">-name</span> lpic3-debian-12 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="75">  -enable-kvm <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="76">  <span class="token parameter variable">-m</span> <span class="token number">2048</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="77">  <span class="token parameter variable">-smp</span> <span class="token assign-left variable">cpus</span><span class="token operator">=</span><span class="token number">2</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="78">  <span class="token parameter variable">-vnc</span> :2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="79">  <span class="token parameter variable">-hda</span> os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="80">  <span class="token parameter variable">-netdev</span> user,id<span class="token operator">=</span>mynet0,net<span class="token operator">=</span><span class="token number">192.168</span>.0.150/24,dhcpstart<span class="token operator">=</span><span class="token number">192.168</span>.0.155,hostfwd<span class="token operator">=</span>tcp::2222-:22 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="81">  <span class="token parameter variable">-device</span> virtio-net-pci,netdev<span class="token operator">=</span>mynet0
</span><span class="code-line line-number" line="82">
</span><span class="code-line line-number" line="83"><span class="token comment">## create vm network netdev tap (Private Network)</span>
</span><span class="code-line line-number" line="84"><span class="token function">ip</span> <span class="token function">link</span> <span class="token function">add</span> br0 <span class="token builtin class-name">type</span> bridge <span class="token punctuation">;</span> <span class="token function">ifconfig</span> br0 up
</span><span class="code-line line-number" line="85">qemu-system-x86_64 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="86">  <span class="token parameter variable">-name</span> lpic3-debian-12 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="87">  -enable-kvm <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="88">  <span class="token parameter variable">-m</span> <span class="token number">2048</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="89">  <span class="token parameter variable">-smp</span> <span class="token assign-left variable">cpus</span><span class="token operator">=</span><span class="token number">2</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="90">  <span class="token parameter variable">-vnc</span> :2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="91">  <span class="token parameter variable">-hda</span> os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="92">  <span class="token parameter variable">-netdev</span> tap,id<span class="token operator">=</span>br0 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="93">  <span class="token parameter variable">-device</span> e1000,netdev<span class="token operator">=</span>br0,mac<span class="token operator">=</span>DE:AD:BE:EF:1A:24
</span><span class="code-line line-number" line="94">
</span><span class="code-line line-number" line="95"><span class="token comment">## create vm with public bridge</span>
</span><span class="code-line line-number" line="96"><span class="token comment">#create a public bridge : https://www.linux-kvm.org/page/Networking</span>
</span><span class="code-line line-number" line="97">
</span><span class="code-line line-number" line="98">qemu-system-x86_64 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="99">  <span class="token parameter variable">-name</span> lpic3-debian-12 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="100">  -enable-kvm <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="101">  <span class="token parameter variable">-m</span> <span class="token number">2048</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="102">  <span class="token parameter variable">-smp</span> <span class="token assign-left variable">cpus</span><span class="token operator">=</span><span class="token number">2</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="103">  <span class="token parameter variable">-hda</span> os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="104">  <span class="token parameter variable">-k</span> pt-br <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="105">  <span class="token parameter variable">-vnc</span> :2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="106">  <span class="token parameter variable">-device</span> qemu-xhci <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="107">  <span class="token parameter variable">-device</span> usb-tablet <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="108">  <span class="token parameter variable">-vga</span> std <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="109">  <span class="token parameter variable">-display</span> none <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="110">  <span class="token parameter variable">-netdev</span> bridge,id<span class="token operator">=</span>net0,br<span class="token operator">=</span>qemubr0 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="111">  <span class="token parameter variable">-device</span> virtio-net-pci,netdev<span class="token operator">=</span>net0
</span><span class="code-line line-number" line="112">
</span><span class="code-line line-number" line="113"><span class="token comment">## get a ipv4 ip - open ssh in vm and:</span>
</span><span class="code-line line-number" line="114">dhcpclient ens4
</span></code><div onclick="copied(this)" data-code="# create vm with ISO
qemu-system-x86_64 \
  -name lpic3-debian-12 \
  -enable-kvm -hda vm-disk-debian-12.qcow2 \
  -cdrom /home/vagrant/isos/debian/debian-12.8.0-amd64-DVD-1.iso  \
  -boot d \
  -m 2048 \
  -smp cpus=2 \
  -k pt-br

# create vm with ISO using vnc in no gui servers \ ssh connections

## create ssh tunel in host
 ssh -l vagrant -L 5902:localhost:5902  192.168.0.131

## create vm 
qemu-system-x86_64 \
  -name lpic3-debian-12 \
  -enable-kvm \
  -m 2048 \
  -smp cpus=2 \
  -k pt-br \
  -vnc :2 \
  -device qemu-xhci \
  -device usb-tablet \
  -device ide-cd,bus=ide.1,drive=cdrom,bootindex=1 \
  -drive id=cdrom,media=cdrom,if=none,file=/home/vagrant/isos/debian/debian-12.8.0-amd64-DVD-1.iso \
  -hda vm-disk-debian-12.qcow2 \
  -boot order=d \
  -vga std \
  -display none \
  -monitor stdio

# create vm with OS Image - qcow2

## create vm
qemu-system-x86_64 \
  -name lpic3-debian-12 \
  -enable-kvm \
  -m 2048 \
  -smp cpus=2 \
  -k pt-br \
  -vnc :2 \
  -hda os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2

## create vm with custom kernel params
qemu-system-x86_64 \
  -name lpic3-debian-12 \
  -kernel /vmlinuz \
  -initrd /initrd.img \
  -append &#x22;root=/dev/mapper/debian--vg-root ro fastboot console=ttyS0&#x22; \
  -enable-kvm \
  -m 2048 \
  -smp cpus=2 \
  -k pt-br \
  -vnc :2 \
  -hda os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2

## create vm with and attach disk
qemu-system-x86_64 \
  -name lpic3-debian-12 \
  -enable-kvm \
  -m 2048 \
  -smp cpus=2 \
  -vnc :2 \
  -hda os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2 \
  -hdb vmdisk-debian12.qcow2 \
  -drive file=vmdisk-extra-debian12.qcow2,index=2,media=disk,if=ide \
  -netdev bridge,id=net0,br=qemubr0 \
  -device virtio-net-pci,netdev=net0
  
## create vm network netdev user
qemu-system-x86_64 \
  -name lpic3-debian-12 \
  -enable-kvm \
  -m 2048 \
  -smp cpus=2 \
  -vnc :2 \
  -hda os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2 \
  -netdev user,id=mynet0,net=192.168.0.150/24,dhcpstart=192.168.0.155,hostfwd=tcp::2222-:22 \
  -device virtio-net-pci,netdev=mynet0

## create vm network netdev tap (Private Network)
ip link add br0 type bridge ; ifconfig br0 up
qemu-system-x86_64 \
  -name lpic3-debian-12 \
  -enable-kvm \
  -m 2048 \
  -smp cpus=2 \
  -vnc :2 \
  -hda os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2 \
  -netdev tap,id=br0 \
  -device e1000,netdev=br0,mac=DE:AD:BE:EF:1A:24

## create vm with public bridge
#create a public bridge : https://www.linux-kvm.org/page/Networking

qemu-system-x86_64 \
  -name lpic3-debian-12 \
  -enable-kvm \
  -m 2048 \
  -smp cpus=2 \
  -hda os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2 \
  -k pt-br \
  -vnc :2 \
  -device qemu-xhci \
  -device usb-tablet \
  -vga std \
  -display none \
  -netdev bridge,id=net0,br=qemubr0 \
  -device virtio-net-pci,netdev=net0

## get a ipv4 ip - open ssh in vm and:
dhcpclient ens4
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="Ô∏è-qemu-monitor"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-qemu-monitor"><span class="octicon octicon-link"></span></a>üñ•Ô∏è QEMU Monitor</h4>
    <p>For initiate QEMU monitor in commandline use <strong>-monitor stdio</strong> param in <strong>qemu-system-x86_64</strong></p>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">qemu-system-x86_64 <span class="token parameter variable">-monitor</span> stdio
</span></code><div onclick="copied(this)" data-code="qemu-system-x86_64 -monitor stdio
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>Exit qemu-monitor:</p>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">ctrl+alt+2
</span></code><div onclick="copied(this)" data-code="ctrl+alt+2
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Management</span>
</span><span class="code-line line-number" line="2">info status <span class="token comment"># vm info</span>
</span><span class="code-line line-number" line="3">info cpus <span class="token comment"># cpu information</span>
</span><span class="code-line line-number" line="4">info network <span class="token comment"># network informations</span>
</span><span class="code-line line-number" line="5">stop <span class="token comment"># pause vm</span>
</span><span class="code-line line-number" line="6">cont <span class="token comment"># start vm in status pause</span>
</span><span class="code-line line-number" line="7">system_powerdown <span class="token comment"># poweroff vm</span>
</span><span class="code-line line-number" line="8">system_reset <span class="token comment"># restart monitor</span>
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10">
</span><span class="code-line line-number" line="11"><span class="token comment"># Blocks</span>
</span><span class="code-line line-number" line="12">info block <span class="token comment"># block info</span>
</span><span class="code-line line-number" line="13">boot_set d <span class="token comment"># force boot iso</span>
</span><span class="code-line line-number" line="14">change ide1-cd0  /home/vagrant/isos/debian/debian-12.8.0-amd64-DVD-1.iso  <span class="token comment"># attach cdrom</span>
</span><span class="code-line line-number" line="15"><span class="token function">eject</span> ide1-cd0 <span class="token comment"># detach cdrom</span>
</span><span class="code-line line-number" line="16">
</span><span class="code-line line-number" line="17"><span class="token comment"># Snapshots</span>
</span><span class="code-line line-number" line="18">info snapshots <span class="token comment"># list snapshots</span>
</span><span class="code-line line-number" line="19">savevm snapshot-01  <span class="token comment"># create snapshot</span>
</span><span class="code-line line-number" line="20">loadvm snapshot-01 <span class="token comment"># restore snapshot</span>
</span><span class="code-line line-number" line="21">delvm snapshot-01
</span></code><div onclick="copied(this)" data-code="# Management
info status # vm info
info cpus # cpu information
info network # network informations
stop # pause vm
cont # start vm in status pause
system_powerdown # poweroff vm
system_reset # restart monitor


# Blocks
info block # block info
boot_set d # force boot iso
change ide1-cd0  /home/vagrant/isos/debian/debian-12.8.0-amd64-DVD-1.iso  # attach cdrom
eject ide1-cd0 # detach cdrom

# Snapshots
info snapshots # list snapshots
savevm snapshot-01  # create snapshot
loadvm snapshot-01 # restore snapshot
delvm snapshot-01
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="-guest-agent"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-guest-agent"><span class="octicon octicon-link"></span></a>ü§ñ Guest Agent</h4>
    <p>For enable, use:</p>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">qemu-system-x86_x64
</span><span class="code-line line-number" line="2"> <span class="token parameter variable">-chardev</span> socket,path<span class="token operator">=</span>/tmp/qga.sock,server<span class="token operator">=</span>on,wait<span class="token operator">=</span>off,id<span class="token operator">=</span>qga0 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="3"> <span class="token parameter variable">-device</span> virtio-serial <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="4"> <span class="token parameter variable">-device</span> virtserialport,chardev<span class="token operator">=</span>qga0,name<span class="token operator">=</span>org.qemu.guest_agent.0
</span></code><div onclick="copied(this)" data-code="qemu-system-x86_x64
 -chardev socket,path=/tmp/qga.sock,server=on,wait=off,id=qga0 \
 -device virtio-serial \
 -device virtserialport,chardev=qga0,name=org.qemu.guest_agent.0
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p align="right">(<a href="#topic-351.3">back to sub Topic 351.3</a>)</p>
    <p align="right">(<a href="#topic-351">back to Topic 351</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr>
    <p><a name="topic-351.4"></a></p>
    <h3 id="-3514-libvirt-virtual-machine-management"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-3514-libvirt-virtual-machine-management"><span class="octicon octicon-link"></span></a>üè¢ 351.4 Libvirt Virtual Machine Management</h3>
    <p>
      <img src="images/libvirt.png" alt="libvirt">
    </p>
    <p>
      <img src="images/libvirt-default-network.jpg" alt="libvirt-network">
    </p>
    <p><strong>Weight:</strong> 9</p>
    <p><strong>Description:</strong> Candidates should be able to manage virtualization hosts and virtual machines (‚Äòlibvirt domains‚Äô) using libvirt and related tools.</p>
    <p><strong>Key Knowledge Areas:</strong></p>
    <ul>
      <li>Understand the architecture of libvirt</li>
      <li>Manage libvirt connections and nodes</li>
      <li>Create and manage QEMU and Xen domains, including snapshots</li>
      <li>Manage and analyze resource consumption of domains</li>
      <li>Create and manage storage pools and volumes</li>
      <li>Create and manage virtual networks</li>
      <li>Migrate domains between nodes</li>
      <li>Understand how libvirt interacts with Xen and QEMU</li>
      <li>Understand how libvirt interacts with network services such as dnsmasq and radvd</li>
      <li>Understand libvirt XML configuration files</li>
      <li>Awareness of virtlogd and virtlockd</li>
    </ul>
    <h4 id="-3514-cited-objects"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-3514-cited-objects"><span class="octicon octicon-link"></span></a>üìã 351.4 Cited Objects</h4>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">libvirtd
</span><span class="code-line line-number" line="2">/etc/libvirt/
</span><span class="code-line line-number" line="3">/var/lib/libvirt
</span><span class="code-line line-number" line="4">/var/log/libvirt
</span><span class="code-line line-number" line="5"><span class="token function">virsh</span> <span class="token punctuation">(</span>including relevant subcommands<span class="token punctuation">)</span> 
</span></code><div onclick="copied(this)" data-code="libvirtd
/etc/libvirt/
/var/lib/libvirt
/var/log/libvirt
virsh (including relevant subcommands) 
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="Ô∏è-3514-important-commands"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-3514-important-commands"><span class="octicon octicon-link"></span></a>üõ†Ô∏è 351.4 Important Commands</h4>
    <h5 id="Ô∏è-virsh"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-virsh"><span class="octicon octicon-link"></span></a>üñ•Ô∏è virsh</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># using env variable for set virsh uri (local or remotely)</span>
</span><span class="code-line line-number" line="2"><span class="token builtin class-name">export</span> <span class="token assign-left variable">LIBVIRT_DEFAULT_URI</span><span class="token operator">=</span>qemu:///system
</span><span class="code-line line-number" line="3"><span class="token builtin class-name">export</span> <span class="token assign-left variable">LIBVIRT_DEFAULT_URI</span><span class="token operator">=</span>xen+ssh://vagrant@192.168.0.130
</span><span class="code-line line-number" line="4"><span class="token builtin class-name">export</span> <span class="token assign-left variable">LIBVIRT_DEFAULT_URI</span><span class="token operator">=</span><span class="token string">'xen+ssh://vagrant@192.168.0.130?keyfile=/home/vagrant/.ssh/skynet-key-ecdsa'</span>
</span><span class="code-line line-number" line="5">
</span><span class="code-line line-number" line="6"><span class="token comment"># COMMONS</span>
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8"><span class="token comment"># get helps</span>
</span><span class="code-line line-number" line="9"><span class="token function">virsh</span> <span class="token builtin class-name">help</span>
</span><span class="code-line line-number" line="10"><span class="token function">virsh</span> <span class="token builtin class-name">help</span> pool-create
</span><span class="code-line line-number" line="11">
</span><span class="code-line line-number" line="12"><span class="token comment"># view version</span>
</span><span class="code-line line-number" line="13"><span class="token function">virsh</span> version
</span><span class="code-line line-number" line="14">
</span><span class="code-line line-number" line="15"><span class="token comment"># view system info</span>
</span><span class="code-line line-number" line="16"><span class="token function">sudo</span> <span class="token function">virsh</span> sysinfo
</span><span class="code-line line-number" line="17">
</span><span class="code-line line-number" line="18"><span class="token comment"># view node info</span>
</span><span class="code-line line-number" line="19"><span class="token function">virsh</span> nodeinfo
</span><span class="code-line line-number" line="20">
</span><span class="code-line line-number" line="21"><span class="token comment"># hostname</span>
</span><span class="code-line line-number" line="22"><span class="token function">virsh</span> <span class="token function">hostname</span>
</span><span class="code-line line-number" line="23">
</span><span class="code-line line-number" line="24"><span class="token comment"># check vcn allocated port</span>
</span><span class="code-line line-number" line="25"><span class="token function">virsh</span> vncdisplay <span class="token operator">&#x3C;</span>domain_id<span class="token operator">></span>
</span><span class="code-line line-number" line="26"><span class="token function">virsh</span> vncdisplay <span class="token operator">&#x3C;</span>domain_name<span class="token operator">></span>
</span><span class="code-line line-number" line="27"><span class="token function">virsh</span> vncdisplay rocky9-server01 
</span><span class="code-line line-number" line="28">
</span><span class="code-line line-number" line="29"><span class="token comment"># HYPERVISORS</span>
</span><span class="code-line line-number" line="30">
</span><span class="code-line line-number" line="31"><span class="token comment"># view libvirt hypervisor connection</span>
</span><span class="code-line line-number" line="32"><span class="token function">virsh</span> uri
</span><span class="code-line line-number" line="33">
</span><span class="code-line line-number" line="34"><span class="token comment"># list valid hypervisors</span>
</span><span class="code-line line-number" line="35">virt-host-validate
</span><span class="code-line line-number" line="36">virt-host-validate qemu
</span><span class="code-line line-number" line="37">
</span><span class="code-line line-number" line="38"><span class="token comment"># test connection uri(vm test)</span>
</span><span class="code-line line-number" line="39"><span class="token function">virsh</span> <span class="token parameter variable">-c</span> test:///default list
</span><span class="code-line line-number" line="40">
</span><span class="code-line line-number" line="41"><span class="token comment"># connect remotely</span>
</span><span class="code-line line-number" line="42"><span class="token function">virsh</span> <span class="token parameter variable">-c</span> xen+ssh://vagrant@192.168.0.130
</span><span class="code-line line-number" line="43"><span class="token function">virsh</span> <span class="token parameter variable">-c</span> xen+ssh://vagrant@192.168.0.130 list
</span><span class="code-line line-number" line="44"><span class="token function">virsh</span> <span class="token parameter variable">-c</span> qemu+ssh://vagrant@192.168.0.130/system list
</span><span class="code-line line-number" line="45">
</span><span class="code-line line-number" line="46"><span class="token comment"># connect remotely without enter password</span>
</span><span class="code-line line-number" line="47"><span class="token function">virsh</span> <span class="token parameter variable">-c</span> <span class="token string">'xen+ssh://vagrant@192.168.0.130?keyfile=/home/vagrant/.ssh/skynet-key-ecdsa'</span>
</span><span class="code-line line-number" line="48">
</span><span class="code-line line-number" line="49"><span class="token comment"># STORAGE</span>
</span><span class="code-line line-number" line="50">
</span><span class="code-line line-number" line="51"><span class="token comment"># list storage pools</span>
</span><span class="code-line line-number" line="52"><span class="token function">virsh</span> pool-list <span class="token parameter variable">--details</span>
</span><span class="code-line line-number" line="53">
</span><span class="code-line line-number" line="54"><span class="token comment"># list all storage pool</span>
</span><span class="code-line line-number" line="55"><span class="token function">virsh</span> pool-list <span class="token parameter variable">--all</span> <span class="token parameter variable">--details</span>
</span><span class="code-line line-number" line="56">
</span><span class="code-line line-number" line="57"><span class="token comment"># get a pool configuration</span>
</span><span class="code-line line-number" line="58"><span class="token function">virsh</span> pool-dumpxml default
</span><span class="code-line line-number" line="59">
</span><span class="code-line line-number" line="60"><span class="token comment"># get pool info</span>
</span><span class="code-line line-number" line="61"><span class="token function">virsh</span> pool-info default
</span><span class="code-line line-number" line="62">
</span><span class="code-line line-number" line="63"><span class="token comment"># create a storage pool</span>
</span><span class="code-line line-number" line="64"><span class="token function">virsh</span> pool-define-as <span class="token parameter variable">--name</span> default <span class="token parameter variable">--type</span> <span class="token function">dir</span> <span class="token parameter variable">--target</span> /var/lib/libvirt/images
</span><span class="code-line line-number" line="65">
</span><span class="code-line line-number" line="66"><span class="token comment"># create a storage pool with dumpxml</span>
</span><span class="code-line line-number" line="67"><span class="token function">virsh</span> pool-create <span class="token parameter variable">--overwrite</span> <span class="token parameter variable">--file</span> configs/kvm/libvirt/pool.xml
</span><span class="code-line line-number" line="68">
</span><span class="code-line line-number" line="69"><span class="token comment"># start storage pool</span>
</span><span class="code-line line-number" line="70"><span class="token function">virsh</span> pool-start default
</span><span class="code-line line-number" line="71">
</span><span class="code-line line-number" line="72"><span class="token comment"># set storage pool for autostart</span>
</span><span class="code-line line-number" line="73"><span class="token function">virsh</span> pool-autostart default
</span><span class="code-line line-number" line="74">
</span><span class="code-line line-number" line="75"><span class="token comment"># stop storage pool</span>
</span><span class="code-line line-number" line="76"><span class="token function">virsh</span> pool-destroy linux
</span><span class="code-line line-number" line="77">
</span><span class="code-line line-number" line="78"><span class="token comment"># delete xml storage pool file</span>
</span><span class="code-line line-number" line="79"><span class="token function">virsh</span> pool-undefine linux
</span><span class="code-line line-number" line="80">
</span><span class="code-line line-number" line="81"><span class="token comment"># edit storage pool</span>
</span><span class="code-line line-number" line="82"><span class="token function">virsh</span> pool-edit linux
</span><span class="code-line line-number" line="83">
</span><span class="code-line line-number" line="84"><span class="token comment"># list volumes</span>
</span><span class="code-line line-number" line="85"><span class="token function">virsh</span> vol-list linux
</span><span class="code-line line-number" line="86">
</span><span class="code-line line-number" line="87"><span class="token comment"># get volume infos</span>
</span><span class="code-line line-number" line="88"><span class="token function">virsh</span> vol-info Debian_12.0.0.qcow2 os-images
</span><span class="code-line line-number" line="89"><span class="token function">virsh</span> vol-info <span class="token parameter variable">--pool</span> os-images Debian_12.0.0.qcow2 
</span><span class="code-line line-number" line="90">
</span><span class="code-line line-number" line="91"><span class="token comment"># get volume xml</span>
</span><span class="code-line line-number" line="92"><span class="token function">virsh</span> vol-dumpxml rocky9-disk1 default
</span><span class="code-line line-number" line="93">
</span><span class="code-line line-number" line="94"><span class="token comment"># create volume</span>
</span><span class="code-line line-number" line="95"><span class="token function">virsh</span> vol-create-as default <span class="token parameter variable">--format</span> qcow2 disk1 10G
</span><span class="code-line line-number" line="96">
</span><span class="code-line line-number" line="97"><span class="token comment"># delete volume</span>
</span><span class="code-line line-number" line="98"><span class="token function">virsh</span> vol-delete  disk1 default
</span><span class="code-line line-number" line="99">
</span><span class="code-line line-number" line="100"><span class="token comment"># DOMAINS \ INSTANCES \ VIRTUAL MACHINES</span>
</span><span class="code-line line-number" line="101">
</span><span class="code-line line-number" line="102"><span class="token comment"># list domain\instance\vm</span>
</span><span class="code-line line-number" line="103"><span class="token function">virsh</span> list
</span><span class="code-line line-number" line="104"><span class="token function">virsh</span> list <span class="token parameter variable">--all</span>
</span><span class="code-line line-number" line="105">
</span><span class="code-line line-number" line="106"><span class="token comment"># create domain\instance\vm</span>
</span><span class="code-line line-number" line="107"><span class="token function">virsh</span> create configs/kvm/libvirt/rocky9-server03.xml
</span><span class="code-line line-number" line="108">
</span><span class="code-line line-number" line="109"><span class="token comment"># view domain\instance\vm info</span>
</span><span class="code-line line-number" line="110"><span class="token function">virsh</span> dominfo rocky9-server01
</span><span class="code-line line-number" line="111">
</span><span class="code-line line-number" line="112"><span class="token comment"># view domain\instance\vm xml</span>
</span><span class="code-line line-number" line="113"><span class="token function">virsh</span> dumpxml rocky9-server01
</span><span class="code-line line-number" line="114">
</span><span class="code-line line-number" line="115"><span class="token comment"># edit domain\instance\vm xml</span>
</span><span class="code-line line-number" line="116"><span class="token function">virsh</span> edit rocky9-server01
</span><span class="code-line line-number" line="117">
</span><span class="code-line line-number" line="118"><span class="token comment"># stop domain\instance\vm</span>
</span><span class="code-line line-number" line="119"><span class="token function">virsh</span> <span class="token function">shutdown</span> rocky9-server01 <span class="token comment"># gracefully</span>
</span><span class="code-line line-number" line="120"><span class="token function">virsh</span> destroy <span class="token number">1</span>
</span><span class="code-line line-number" line="121"><span class="token function">virsh</span> destroy rocky9-server01
</span><span class="code-line line-number" line="122">
</span><span class="code-line line-number" line="123"><span class="token comment"># suspend domain\instance\vm</span>
</span><span class="code-line line-number" line="124"><span class="token function">virsh</span> <span class="token function">suspend</span> rocky9-server01
</span><span class="code-line line-number" line="125">
</span><span class="code-line line-number" line="126"><span class="token comment"># resume domain\instance\vm</span>
</span><span class="code-line line-number" line="127"><span class="token function">virsh</span> resume rocky9-server01
</span><span class="code-line line-number" line="128">
</span><span class="code-line line-number" line="129"><span class="token comment"># start domain\instance\vm</span>
</span><span class="code-line line-number" line="130"><span class="token function">virsh</span> start rocky9-server01
</span><span class="code-line line-number" line="131">
</span><span class="code-line line-number" line="132"><span class="token comment"># remove domain\instance\vm</span>
</span><span class="code-line line-number" line="133"><span class="token function">virsh</span> undefine rocky9-server01
</span><span class="code-line line-number" line="134">
</span><span class="code-line line-number" line="135"><span class="token comment"># remove domain\instance\vm and storage volumes</span>
</span><span class="code-line line-number" line="136"><span class="token function">virsh</span> undefine rocky9-server01 --remove-all-storage
</span><span class="code-line line-number" line="137">
</span><span class="code-line line-number" line="138"><span class="token comment"># save domain\instance\vm</span>
</span><span class="code-line line-number" line="139"><span class="token function">virsh</span> save rocky9-server01 rocky9-server01.qcow2
</span><span class="code-line line-number" line="140">
</span><span class="code-line line-number" line="141"><span class="token comment"># restore domain\instance\vm</span>
</span><span class="code-line line-number" line="142"><span class="token function">virsh</span> restore rocky9-server01.qcow2
</span><span class="code-line line-number" line="143">
</span><span class="code-line line-number" line="144"><span class="token comment"># list snapshots</span>
</span><span class="code-line line-number" line="145"><span class="token function">virsh</span> snapshot-list rocky9-server01
</span><span class="code-line line-number" line="146">
</span><span class="code-line line-number" line="147"><span class="token comment"># create snapshot</span>
</span><span class="code-line line-number" line="148"><span class="token function">virsh</span> snapshot-create rocky9-server01
</span><span class="code-line line-number" line="149">
</span><span class="code-line line-number" line="150"><span class="token comment"># restore snapshot</span>
</span><span class="code-line line-number" line="151"><span class="token function">virsh</span> snapshot-revert rocky9-server01 <span class="token number">1748983520</span>
</span><span class="code-line line-number" line="152">
</span><span class="code-line line-number" line="153"><span class="token comment"># view snapshot xml</span>
</span><span class="code-line line-number" line="154"><span class="token function">virsh</span> snapshot-info rocky9-server01 <span class="token number">1748983520</span>
</span><span class="code-line line-number" line="155">
</span><span class="code-line line-number" line="156"><span class="token comment"># dumpxml snapshot</span>
</span><span class="code-line line-number" line="157"><span class="token function">virsh</span> snapshot-dumpxml rocky9-server01 <span class="token number">1748983520</span>
</span><span class="code-line line-number" line="158">
</span><span class="code-line line-number" line="159"><span class="token comment"># xml snapshot path</span>
</span><span class="code-line line-number" line="160">/var/lib/libvirt/qemu/snapshot/rocky9-server01/
</span><span class="code-line line-number" line="161">
</span><span class="code-line line-number" line="162"><span class="token comment"># view snapshot info</span>
</span><span class="code-line line-number" line="163"><span class="token function">virsh</span> snapshot-info rocky9-server01 <span class="token number">1748983671</span>
</span><span class="code-line line-number" line="164">
</span><span class="code-line line-number" line="165"><span class="token comment"># edit snapshot</span>
</span><span class="code-line line-number" line="166"><span class="token function">virsh</span> snapshot-edit rocky9-server01 <span class="token number">1748983520</span>
</span><span class="code-line line-number" line="167">
</span><span class="code-line line-number" line="168"><span class="token comment"># delete snapshot</span>
</span><span class="code-line line-number" line="169"><span class="token function">virsh</span> snapshot-delete rocky9-server01 <span class="token number">1748983520</span>
</span><span class="code-line line-number" line="170">
</span><span class="code-line line-number" line="171"><span class="token comment"># DEVICES</span>
</span><span class="code-line line-number" line="172">
</span><span class="code-line line-number" line="173"><span class="token comment"># list block devices</span>
</span><span class="code-line line-number" line="174"><span class="token function">virsh</span> domblklist rocky9-server01 <span class="token parameter variable">--details</span>
</span><span class="code-line line-number" line="175">
</span><span class="code-line line-number" line="176"><span class="token comment"># add cdrom media </span>
</span><span class="code-line line-number" line="177"><span class="token function">virsh</span> change-media rocky9-server01 sda /home/vagrant/isos/rocky/Rocky-9.5-x86_64-minimal.iso
</span><span class="code-line line-number" line="178"><span class="token function">virsh</span> attach-disk rocky9-server01 /home/vagrant/isos/rocky/Rocky-9.5-x86_64-minimal.iso sda <span class="token parameter variable">--type</span> cdrom <span class="token parameter variable">--mode</span> <span class="token builtin class-name">readonly</span>
</span><span class="code-line line-number" line="179">
</span><span class="code-line line-number" line="180"><span class="token comment"># remove cdrom media</span>
</span><span class="code-line line-number" line="181"><span class="token function">virsh</span> change-media rocky9-server01 sda <span class="token parameter variable">--eject</span>
</span><span class="code-line line-number" line="182">
</span><span class="code-line line-number" line="183"><span class="token comment"># add new disk</span>
</span><span class="code-line line-number" line="184"><span class="token function">virsh</span> attach-disk rocky9-server01  /var/lib/libvirt/images/rocky9-disk2  vdb <span class="token parameter variable">--persistent</span>
</span><span class="code-line line-number" line="185">
</span><span class="code-line line-number" line="186"><span class="token comment"># remove disk</span>
</span><span class="code-line line-number" line="187"><span class="token function">virsh</span> detach-disk rocky9-server01 vdb <span class="token parameter variable">--persistent</span>
</span><span class="code-line line-number" line="188">
</span><span class="code-line line-number" line="189"><span class="token comment"># RESOURCES (CPU and Memory)</span>
</span><span class="code-line line-number" line="190">
</span><span class="code-line line-number" line="191"><span class="token comment"># get cpu infos</span>
</span><span class="code-line line-number" line="192"><span class="token function">virsh</span> vcpuinfo rocky9-server01 <span class="token parameter variable">--pretty</span>
</span><span class="code-line line-number" line="193"><span class="token function">virsh</span> dominfo rocky9-server01 <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">'CPU'</span>
</span><span class="code-line line-number" line="194">
</span><span class="code-line line-number" line="195"><span class="token comment"># get vcpu count</span>
</span><span class="code-line line-number" line="196"><span class="token function">virsh</span> vcpucount rocky9-server01
</span><span class="code-line line-number" line="197">
</span><span class="code-line line-number" line="198"><span class="token comment"># set vcpus maximum config</span>
</span><span class="code-line line-number" line="199"><span class="token function">virsh</span> setvcpus rocky9-server01 <span class="token parameter variable">--count</span> <span class="token number">4</span> <span class="token parameter variable">--maximum</span> <span class="token parameter variable">--config</span>
</span><span class="code-line line-number" line="200"><span class="token function">virsh</span> <span class="token function">shutdown</span> rocky9-server01
</span><span class="code-line line-number" line="201"><span class="token function">virsh</span> start rocky9-server01
</span><span class="code-line line-number" line="202">
</span><span class="code-line line-number" line="203"><span class="token comment"># set vcpu current config</span>
</span><span class="code-line line-number" line="204"><span class="token function">virsh</span> setvcpus rocky9-server01 <span class="token parameter variable">--count</span> <span class="token number">4</span> <span class="token parameter variable">--config</span>
</span><span class="code-line line-number" line="205">
</span><span class="code-line line-number" line="206"><span class="token comment"># set vcpu current live</span>
</span><span class="code-line line-number" line="207"><span class="token function">virsh</span> setvcpus rocky9-server01 <span class="token parameter variable">--count</span> <span class="token number">3</span> <span class="token parameter variable">--current</span>
</span><span class="code-line line-number" line="208"><span class="token function">virsh</span> setvcpus rocky9-server01 <span class="token parameter variable">--count</span> <span class="token number">3</span> <span class="token parameter variable">--live</span>
</span><span class="code-line line-number" line="209">
</span><span class="code-line line-number" line="210"><span class="token comment"># configure vcpu affinity config</span>
</span><span class="code-line line-number" line="211"><span class="token function">virsh</span> vcpupin rocky9-server01 <span class="token number">0</span> <span class="token number">7</span> <span class="token parameter variable">--config</span>
</span><span class="code-line line-number" line="212"><span class="token function">virsh</span> vcpupin rocky9-server01 <span class="token number">1</span> <span class="token number">5</span>-6 <span class="token parameter variable">--config</span>
</span><span class="code-line line-number" line="213">
</span><span class="code-line line-number" line="214"><span class="token comment"># configure vcpu affinity current</span>
</span><span class="code-line line-number" line="215"><span class="token function">virsh</span> vcpupin rocky9-server01 <span class="token number">0</span> <span class="token number">7</span>
</span><span class="code-line line-number" line="216"><span class="token function">virsh</span> vcpupin rocky9-server01 <span class="token number">1</span> <span class="token number">5</span>-6
</span><span class="code-line line-number" line="217">
</span><span class="code-line line-number" line="218"><span class="token comment"># set maximum memory config</span>
</span><span class="code-line line-number" line="219"><span class="token function">virsh</span> setmaxmem rocky9-server01 <span class="token number">3000000</span> <span class="token parameter variable">--config</span>
</span><span class="code-line line-number" line="220"><span class="token function">virsh</span> <span class="token function">shutdown</span> rocky9-server01
</span><span class="code-line line-number" line="221"><span class="token function">virsh</span> start rocky9-server01
</span><span class="code-line line-number" line="222">
</span><span class="code-line line-number" line="223"><span class="token comment"># set current memory config</span>
</span><span class="code-line line-number" line="224"><span class="token function">virsh</span> setmem rocky9-server01 <span class="token number">2500000</span> <span class="token parameter variable">--current</span>
</span><span class="code-line line-number" line="225">
</span><span class="code-line line-number" line="226"><span class="token comment"># NETWORK</span>
</span><span class="code-line line-number" line="227">
</span><span class="code-line line-number" line="228"><span class="token comment"># get netwwork bridges</span>
</span><span class="code-line line-number" line="229">brctl show
</span><span class="code-line line-number" line="230">
</span><span class="code-line line-number" line="231"><span class="token comment"># get iptables rules for libvirt</span>
</span><span class="code-line line-number" line="232"><span class="token function">sudo</span> iptables <span class="token parameter variable">-L</span> <span class="token parameter variable">-n</span> <span class="token parameter variable">-t</span>  nat
</span><span class="code-line line-number" line="233">
</span><span class="code-line line-number" line="234"><span class="token comment"># list network</span>
</span><span class="code-line line-number" line="235"><span class="token function">virsh</span> net-list <span class="token parameter variable">--all</span>
</span><span class="code-line line-number" line="236">
</span><span class="code-line line-number" line="237"><span class="token comment"># set default network</span>
</span><span class="code-line line-number" line="238"><span class="token function">virsh</span> net-define /etc/libvirt/qemu/networks/default.xml
</span><span class="code-line line-number" line="239">
</span><span class="code-line line-number" line="240"><span class="token comment"># get network infos</span>
</span><span class="code-line line-number" line="241"><span class="token function">virsh</span> net-info default
</span><span class="code-line line-number" line="242">
</span><span class="code-line line-number" line="243"><span class="token comment"># get xml network</span>
</span><span class="code-line line-number" line="244"><span class="token function">virsh</span> net-dumpxml default
</span><span class="code-line line-number" line="245">
</span><span class="code-line line-number" line="246"><span class="token comment"># xml file</span>
</span><span class="code-line line-number" line="247"><span class="token function">cat</span> /etc/libvirt/qemu/networks/default.xml
</span><span class="code-line line-number" line="248">
</span><span class="code-line line-number" line="249"><span class="token comment"># dhcp config</span>
</span><span class="code-line line-number" line="250"><span class="token function">sudo</span> <span class="token function">cat</span> /etc/libvirt/qemu/networks/default.xml <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-A</span> <span class="token number">10</span> dhcp
</span><span class="code-line line-number" line="251"><span class="token function">sudo</span> <span class="token function">cat</span> /var/lib/libvirt/dnsmasq/default.conf
</span><span class="code-line line-number" line="252">
</span><span class="code-line line-number" line="253"><span class="token comment"># get domain ipp address</span>
</span><span class="code-line line-number" line="254"><span class="token function">virsh</span> net-dhcp-leases default
</span><span class="code-line line-number" line="255"><span class="token function">virsh</span> net-dhcp-leases default <span class="token parameter variable">--mac</span> <span class="token number">52</span><span class="token punctuation">\</span>:54<span class="token punctuation">\</span>:00<span class="token punctuation">\</span>:89<span class="token punctuation">\</span>:19<span class="token punctuation">\</span>:86
</span><span class="code-line line-number" line="256">
</span><span class="code-line line-number" line="257"><span class="token comment"># edit network</span>
</span><span class="code-line line-number" line="258"><span class="token function">virsh</span> net-edit default
</span><span class="code-line line-number" line="259">
</span><span class="code-line line-number" line="260"><span class="token comment"># get domain network details</span>
</span><span class="code-line line-number" line="261"><span class="token function">virsh</span> domiflist debian-server01
</span><span class="code-line line-number" line="262">
</span><span class="code-line line-number" line="263"><span class="token comment"># path for network filter files</span>
</span><span class="code-line line-number" line="264">/etc/libvirt/nwfilter/
</span><span class="code-line line-number" line="265">
</span><span class="code-line line-number" line="266"><span class="token comment"># list network filters</span>
</span><span class="code-line line-number" line="267"><span class="token function">virsh</span> nwfilter-list
</span><span class="code-line line-number" line="268">
</span><span class="code-line line-number" line="269"><span class="token comment"># create network filter - block icmp traffic</span>
</span><span class="code-line line-number" line="270"><span class="token function">virsh</span> nwfilter-define block-icmp.xml
</span><span class="code-line line-number" line="271"><span class="token comment"># virsh edit Debian-Server</span>
</span><span class="code-line line-number" line="272">    <span class="token comment">#  &#x3C;interface type='network'></span>
</span><span class="code-line line-number" line="273">    <span class="token comment">#        ...</span>
</span><span class="code-line line-number" line="274">    <span class="token comment">#        &#x3C;filterref filter='block-icmp'/></span>
</span><span class="code-line line-number" line="275">    <span class="token comment">#        ...</span>
</span><span class="code-line line-number" line="276">    <span class="token comment"># &#x3C;/interface></span>
</span><span class="code-line line-number" line="277"><span class="token comment"># virsh destroy debian-server01</span>
</span><span class="code-line line-number" line="278"><span class="token comment"># virsh start debian-server01</span>
</span><span class="code-line line-number" line="279">
</span><span class="code-line line-number" line="280"><span class="token comment"># delete network filter</span>
</span><span class="code-line line-number" line="281"><span class="token function">virsh</span> nwfilter-undefine block-icmp
</span><span class="code-line line-number" line="282">
</span><span class="code-line line-number" line="283"><span class="token comment"># get xml network filter</span>
</span><span class="code-line line-number" line="284"><span class="token function">virsh</span> nwfilter-dumpxml block-icmp
</span></code><div onclick="copied(this)" data-code="# using env variable for set virsh uri (local or remotely)
export LIBVIRT_DEFAULT_URI=qemu:///system
export LIBVIRT_DEFAULT_URI=xen+ssh://vagrant@192.168.0.130
export LIBVIRT_DEFAULT_URI=&#x27;xen+ssh://vagrant@192.168.0.130?keyfile=/home/vagrant/.ssh/skynet-key-ecdsa&#x27;

# COMMONS

# get helps
virsh help
virsh help pool-create

# view version
virsh version

# view system info
sudo virsh sysinfo

# view node info
virsh nodeinfo

# hostname
virsh hostname

# check vcn allocated port
virsh vncdisplay <domain_id>
virsh vncdisplay <domain_name>
virsh vncdisplay rocky9-server01 

# HYPERVISORS

# view libvirt hypervisor connection
virsh uri

# list valid hypervisors
virt-host-validate
virt-host-validate qemu

# test connection uri(vm test)
virsh -c test:///default list

# connect remotely
virsh -c xen+ssh://vagrant@192.168.0.130
virsh -c xen+ssh://vagrant@192.168.0.130 list
virsh -c qemu+ssh://vagrant@192.168.0.130/system list

# connect remotely without enter password
virsh -c &#x27;xen+ssh://vagrant@192.168.0.130?keyfile=/home/vagrant/.ssh/skynet-key-ecdsa&#x27;

# STORAGE

# list storage pools
virsh pool-list --details

# list all storage pool
virsh pool-list --all --details

# get a pool configuration
virsh pool-dumpxml default

# get pool info
virsh pool-info default

# create a storage pool
virsh pool-define-as --name default --type dir --target /var/lib/libvirt/images

# create a storage pool with dumpxml
virsh pool-create --overwrite --file configs/kvm/libvirt/pool.xml

# start storage pool
virsh pool-start default

# set storage pool for autostart
virsh pool-autostart default

# stop storage pool
virsh pool-destroy linux

# delete xml storage pool file
virsh pool-undefine linux

# edit storage pool
virsh pool-edit linux

# list volumes
virsh vol-list linux

# get volume infos
virsh vol-info Debian_12.0.0.qcow2 os-images
virsh vol-info --pool os-images Debian_12.0.0.qcow2 

# get volume xml
virsh vol-dumpxml rocky9-disk1 default

# create volume
virsh vol-create-as default --format qcow2 disk1 10G

# delete volume
virsh vol-delete  disk1 default

# DOMAINS \ INSTANCES \ VIRTUAL MACHINES

# list domain\instance\vm
virsh list
virsh list --all

# create domain\instance\vm
virsh create configs/kvm/libvirt/rocky9-server03.xml

# view domain\instance\vm info
virsh dominfo rocky9-server01

# view domain\instance\vm xml
virsh dumpxml rocky9-server01

# edit domain\instance\vm xml
virsh edit rocky9-server01

# stop domain\instance\vm
virsh shutdown rocky9-server01 # gracefully
virsh destroy 1
virsh destroy rocky9-server01

# suspend domain\instance\vm
virsh suspend rocky9-server01

# resume domain\instance\vm
virsh resume rocky9-server01

# start domain\instance\vm
virsh start rocky9-server01

# remove domain\instance\vm
virsh undefine rocky9-server01

# remove domain\instance\vm and storage volumes
virsh undefine rocky9-server01 --remove-all-storage

# save domain\instance\vm
virsh save rocky9-server01 rocky9-server01.qcow2

# restore domain\instance\vm
virsh restore rocky9-server01.qcow2

# list snapshots
virsh snapshot-list rocky9-server01

# create snapshot
virsh snapshot-create rocky9-server01

# restore snapshot
virsh snapshot-revert rocky9-server01 1748983520

# view snapshot xml
virsh snapshot-info rocky9-server01 1748983520

# dumpxml snapshot
virsh snapshot-dumpxml rocky9-server01 1748983520

# xml snapshot path
/var/lib/libvirt/qemu/snapshot/rocky9-server01/

# view snapshot info
virsh snapshot-info rocky9-server01 1748983671

# edit snapshot
virsh snapshot-edit rocky9-server01 1748983520

# delete snapshot
virsh snapshot-delete rocky9-server01 1748983520

# DEVICES

# list block devices
virsh domblklist rocky9-server01 --details

# add cdrom media 
virsh change-media rocky9-server01 sda /home/vagrant/isos/rocky/Rocky-9.5-x86_64-minimal.iso
virsh attach-disk rocky9-server01 /home/vagrant/isos/rocky/Rocky-9.5-x86_64-minimal.iso sda --type cdrom --mode readonly

# remove cdrom media
virsh change-media rocky9-server01 sda --eject

# add new disk
virsh attach-disk rocky9-server01  /var/lib/libvirt/images/rocky9-disk2  vdb --persistent

# remove disk
virsh detach-disk rocky9-server01 vdb --persistent

# RESOURCES (CPU and Memory)

# get cpu infos
virsh vcpuinfo rocky9-server01 --pretty
virsh dominfo rocky9-server01 | grep &#x27;CPU&#x27;

# get vcpu count
virsh vcpucount rocky9-server01

# set vcpus maximum config
virsh setvcpus rocky9-server01 --count 4 --maximum --config
virsh shutdown rocky9-server01
virsh start rocky9-server01

# set vcpu current config
virsh setvcpus rocky9-server01 --count 4 --config

# set vcpu current live
virsh setvcpus rocky9-server01 --count 3 --current
virsh setvcpus rocky9-server01 --count 3 --live

# configure vcpu affinity config
virsh vcpupin rocky9-server01 0 7 --config
virsh vcpupin rocky9-server01 1 5-6 --config

# configure vcpu affinity current
virsh vcpupin rocky9-server01 0 7
virsh vcpupin rocky9-server01 1 5-6

# set maximum memory config
virsh setmaxmem rocky9-server01 3000000 --config
virsh shutdown rocky9-server01
virsh start rocky9-server01

# set current memory config
virsh setmem rocky9-server01 2500000 --current

# NETWORK

# get netwwork bridges
brctl show

# get iptables rules for libvirt
sudo iptables -L -n -t  nat

# list network
virsh net-list --all

# set default network
virsh net-define /etc/libvirt/qemu/networks/default.xml

# get network infos
virsh net-info default

# get xml network
virsh net-dumpxml default

# xml file
cat /etc/libvirt/qemu/networks/default.xml

# dhcp config
sudo cat /etc/libvirt/qemu/networks/default.xml | grep -A 10 dhcp
sudo cat /var/lib/libvirt/dnsmasq/default.conf

# get domain ipp address
virsh net-dhcp-leases default
virsh net-dhcp-leases default --mac 52\:54\:00\:89\:19\:86

# edit network
virsh net-edit default

# get domain network details
virsh domiflist debian-server01

# path for network filter files
/etc/libvirt/nwfilter/

# list network filters
virsh nwfilter-list

# create network filter - block icmp traffic
virsh nwfilter-define block-icmp.xml
# virsh edit Debian-Server
    #  <interface type=&#x27;network&#x27;>
    #        ...
    #        <filterref filter=&#x27;block-icmp&#x27;/>
    #        ...
    # </interface>
# virsh destroy debian-server01
# virsh start debian-server01

# delete network filter
virsh nwfilter-undefine block-icmp

# get xml network filter
virsh nwfilter-dumpxml block-icmp
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h6 id="Ô∏è-virt-install"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-virt-install"><span class="octicon octicon-link"></span></a>üèóÔ∏è virt-install</h6>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># list os variants</span>
</span><span class="code-line line-number" line="2">virt-install --os-variant list
</span><span class="code-line line-number" line="3">osinfo-query os
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token comment"># create domain\instance\vm with iso file</span>
</span><span class="code-line line-number" line="6"><span class="token function">virsh</span> vol-create-as default <span class="token parameter variable">--format</span> qcow2 rocky9-disk1 20G
</span><span class="code-line line-number" line="7">virt-install <span class="token parameter variable">--name</span> rocky9-server01 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="8"><span class="token parameter variable">--vcpus</span> <span class="token number">2</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="9"><span class="token parameter variable">--cpu</span> <span class="token function">host</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="10"><span class="token parameter variable">--memory</span> <span class="token number">2048</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="11"><span class="token parameter variable">--disk</span> <span class="token assign-left variable">vol</span><span class="token operator">=</span>default/rocky9-disk1 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="12"><span class="token parameter variable">--cdrom</span> /home/vagrant/isos/rocky/Rocky-9.5-x86_64-minimal.iso <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="13">--os-variant<span class="token operator">=</span>rocky9 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="14"><span class="token parameter variable">--graphics</span> vnc,listen<span class="token operator">=</span><span class="token number">0.0</span>.0.0,port<span class="token operator">=</span><span class="token number">5905</span>
</span><span class="code-line line-number" line="15">
</span><span class="code-line line-number" line="16"><span class="token comment"># create debian domain\instance\vm with qcow2 file</span>
</span><span class="code-line line-number" line="17">virt-install <span class="token parameter variable">--name</span> debian-server01 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="18"><span class="token parameter variable">--vcpus</span> <span class="token number">2</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="19"><span class="token parameter variable">--ram</span> <span class="token number">2048</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="20"><span class="token parameter variable">--disk</span> <span class="token assign-left variable">vol</span><span class="token operator">=</span>os-images/Debian_12.0.0.qcow2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="21"><span class="token parameter variable">--import</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="22"><span class="token parameter variable">--osinfo</span> <span class="token assign-left variable">detect</span><span class="token operator">=</span>on <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="23"><span class="token parameter variable">--graphics</span> vnc,listen<span class="token operator">=</span><span class="token number">0.0</span>.0.0,port<span class="token operator">=</span><span class="token number">5906</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="24"><span class="token parameter variable">--network</span> <span class="token assign-left variable">network</span><span class="token operator">=</span>default <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="25"><span class="token parameter variable">--noautoconsole</span>
</span><span class="code-line line-number" line="26">
</span><span class="code-line line-number" line="27"><span class="token comment"># create rocky9 domain\instance\vm with qcow2 file</span>
</span><span class="code-line line-number" line="28">virt-install <span class="token parameter variable">--name</span> rocky9-server02 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="29"><span class="token parameter variable">--vcpus</span> <span class="token number">2</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="30"><span class="token parameter variable">--ram</span> <span class="token number">2048</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="31"><span class="token parameter variable">--disk</span> <span class="token assign-left variable">path</span><span class="token operator">=</span>os-images/RockyLinux_9.4_VMG/RockyLinux_9.4.qcow2,format<span class="token operator">=</span>qcow2,bus<span class="token operator">=</span>virtio <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="32"><span class="token parameter variable">--import</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="33"><span class="token parameter variable">--osinfo</span> <span class="token assign-left variable">detect</span><span class="token operator">=</span>on <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="34"><span class="token parameter variable">--graphics</span> vnc,listen<span class="token operator">=</span><span class="token number">0.0</span>.0.0,port<span class="token operator">=</span><span class="token number">5907</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="35"><span class="token parameter variable">--network</span> <span class="token assign-left variable">bridge</span><span class="token operator">=</span>qemubr0,model<span class="token operator">=</span>virtio <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="36"><span class="token parameter variable">--noautoconsole</span>
</span><span class="code-line line-number" line="37">
</span><span class="code-line line-number" line="38"><span class="token comment"># open domain\instance\vm gui console</span>
</span><span class="code-line line-number" line="39">virt-viewer debian-server01
</span><span class="code-line line-number" line="40">
</span><span class="code-line line-number" line="41"><span class="token comment"># check metadata domain\instance\vm file (if uri is qemu:////system)</span>
</span><span class="code-line line-number" line="42"><span class="token function">less</span> /etc/libvirt/qemu/debian-server01.xml
</span></code><div onclick="copied(this)" data-code="# list os variants
virt-install --os-variant list
osinfo-query os

# create domain\instance\vm with iso file
virsh vol-create-as default --format qcow2 rocky9-disk1 20G
virt-install --name rocky9-server01 \
--vcpus 2 \
--cpu host \
--memory 2048 \
--disk vol=default/rocky9-disk1 \
--cdrom /home/vagrant/isos/rocky/Rocky-9.5-x86_64-minimal.iso \
--os-variant=rocky9 \
--graphics vnc,listen=0.0.0.0,port=5905

# create debian domain\instance\vm with qcow2 file
virt-install --name debian-server01 \
--vcpus 2 \
--ram 2048 \
--disk vol=os-images/Debian_12.0.0.qcow2 \
--import \
--osinfo detect=on \
--graphics vnc,listen=0.0.0.0,port=5906 \
--network network=default \
--noautoconsole

# create rocky9 domain\instance\vm with qcow2 file
virt-install --name rocky9-server02 \
--vcpus 2 \
--ram 2048 \
--disk path=os-images/RockyLinux_9.4_VMG/RockyLinux_9.4.qcow2,format=qcow2,bus=virtio \
--import \
--osinfo detect=on \
--graphics vnc,listen=0.0.0.0,port=5907 \
--network bridge=qemubr0,model=virtio \
--noautoconsole

# open domain\instance\vm gui console
virt-viewer debian-server01

# check metadata domain\instance\vm file (if uri is qemu:////system)
less /etc/libvirt/qemu/debian-server01.xml
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p align="right">(<a href="#topic-351.4">back to sub Topic 351.4</a>)</p>
    <p align="right">(<a href="#topic-351">back to Topic 351</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr>
    <p><a name="topic-351.5"></a></p>
    <h3 id="-3515-virtual-machine-disk-image-management"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-3515-virtual-machine-disk-image-management"><span class="octicon octicon-link"></span></a>üíæ 351.5 Virtual Machine Disk Image Management</h3>
    <p>
      <img src="images/virtual-machine-disk.png" alt="disk-management">
    </p>
    <p><strong>Weight:</strong> 3</p>
    <p><strong>Description:</strong> Candidates should be able to manage virtual machines disk images. This includes converting disk images between various formats and hypervisors and accessing data stored within an image.</p>
    <p><strong>Key Knowledge Areas:</strong></p>
    <ul>
      <li>Understand features of various virtual disk image formats, such as raw images, qcow2 and VMDK</li>
      <li>Manage virtual machine disk images using qemu-img</li>
      <li>Mount partitions and access files containerd in virtual machine disk images using libguestfish</li>
      <li>Copy physical disk content to a virtual machine disk image</li>
      <li>Migrate disk content between various virtual machine disk image formats</li>
      <li>Awareness of Open Virtualization Format (OVF)</li>
    </ul>
    <h4 id="-3515-cited-objects"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-3515-cited-objects"><span class="octicon octicon-link"></span></a>üìã 351.5 Cited Objects</h4>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">qemu-img
</span><span class="code-line line-number" line="2">guestfish <span class="token punctuation">(</span>including relevant subcommands<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="3">guestmount
</span><span class="code-line line-number" line="4">guestumount
</span><span class="code-line line-number" line="5">virt-cat
</span><span class="code-line line-number" line="6">virt-copy-in
</span><span class="code-line line-number" line="7">virt-copy-out
</span><span class="code-line line-number" line="8">virt-diff
</span><span class="code-line line-number" line="9">virt-inspector
</span><span class="code-line line-number" line="10">virt-filesystems
</span><span class="code-line line-number" line="11">virt-rescue
</span><span class="code-line line-number" line="12">virt-df
</span><span class="code-line line-number" line="13">virt-sparsify
</span><span class="code-line line-number" line="14">virt-p2v
</span><span class="code-line line-number" line="15">virt-p2v-make-disk
</span><span class="code-line line-number" line="16">virt-v2v
</span></code><div onclick="copied(this)" data-code="qemu-img
guestfish (including relevant subcommands)
guestmount
guestumount
virt-cat
virt-copy-in
virt-copy-out
virt-diff
virt-inspector
virt-filesystems
virt-rescue
virt-df
virt-sparsify
virt-p2v
virt-p2v-make-disk
virt-v2v
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="Ô∏è-3515-important-commands"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-3515-important-commands"><span class="octicon octicon-link"></span></a>üõ†Ô∏è 351.5 Important Commands</h4>
    <h5 id="-35151-qemu-img"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-35151-qemu-img"><span class="octicon octicon-link"></span></a>üíæ 351.5.1 qemu-img</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Display detailed information about a disk image</span>
</span><span class="code-line line-number" line="2">qemu-img info UbuntuServer_24.04.qcow2
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># Create a new 22G raw disk image (default format is raw)</span>
</span><span class="code-line line-number" line="5">qemu-img create new-disk 22G
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token comment"># Create a new 22G disk image in qcow2 format</span>
</span><span class="code-line line-number" line="8">qemu-img create <span class="token parameter variable">-f</span> qcow2 new-disk2 22G
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10"><span class="token comment"># Convert a VDI image to raw format using 5 threads and show progress</span>
</span><span class="code-line line-number" line="11">qemu-img convert <span class="token parameter variable">-f</span> vdi <span class="token parameter variable">-O</span> raw Ubuntu-Server.vdk new-Ubuntu.raw <span class="token parameter variable">-m5</span> <span class="token parameter variable">-p</span>
</span><span class="code-line line-number" line="12">
</span><span class="code-line line-number" line="13"><span class="token comment"># Convert vmdk to qcow2 image</span>
</span><span class="code-line line-number" line="14">qemu-img convert <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="15"><span class="token parameter variable">-f</span> vmdk <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="16"><span class="token parameter variable">-O</span> qcow2 os-images/UbuntuServer_24.04_VM/UbuntuServer_24.04_VM_LinuxVMImages.COM.vmdk <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="17">os-images/UbuntuServer_24.04_VM/UbuntuServer_24.04.qcow2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="18"><span class="token parameter variable">-p</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="19"><span class="token parameter variable">-m16</span>
</span><span class="code-line line-number" line="20">
</span><span class="code-line line-number" line="21"><span class="token comment"># Resize a raw image to 30G</span>
</span><span class="code-line line-number" line="22">qemu-img resize <span class="token parameter variable">-f</span> raw new-disk 30G
</span><span class="code-line line-number" line="23">
</span><span class="code-line line-number" line="24"><span class="token comment"># Resize a qcow2 image to 15G(actual size 30Gdisk 30G)</span>
</span><span class="code-line line-number" line="25">qemu-img resize <span class="token parameter variable">-f</span> raw <span class="token parameter variable">--shrink</span> new-disk 15G
</span><span class="code-line line-number" line="26">
</span><span class="code-line line-number" line="27"><span class="token comment"># Snapshots</span>
</span><span class="code-line line-number" line="28">
</span><span class="code-line line-number" line="29"><span class="token comment"># List all snapshots in the image</span>
</span><span class="code-line line-number" line="30">qemu-img snapshot <span class="token parameter variable">-l</span> new-disk2.qcow2
</span><span class="code-line line-number" line="31">
</span><span class="code-line line-number" line="32"><span class="token comment"># Create a snapshot named SNAP1</span>
</span><span class="code-line line-number" line="33">qemu-img snapshot <span class="token parameter variable">-c</span> SNAP1 disk
</span><span class="code-line line-number" line="34">
</span><span class="code-line line-number" line="35"><span class="token comment"># Apply a snapshot by ID or name</span>
</span><span class="code-line line-number" line="36">qemu-img snapshot <span class="token parameter variable">-a</span> <span class="token number">123456789</span> disk
</span><span class="code-line line-number" line="37">
</span><span class="code-line line-number" line="38"><span class="token comment"># Delete the snapshot named SNAP1</span>
</span><span class="code-line line-number" line="39">qemu-img snapshot <span class="token parameter variable">-d</span> SNAP1 disk
</span></code><div onclick="copied(this)" data-code="# Display detailed information about a disk image
qemu-img info UbuntuServer_24.04.qcow2

# Create a new 22G raw disk image (default format is raw)
qemu-img create new-disk 22G

# Create a new 22G disk image in qcow2 format
qemu-img create -f qcow2 new-disk2 22G

# Convert a VDI image to raw format using 5 threads and show progress
qemu-img convert -f vdi -O raw Ubuntu-Server.vdk new-Ubuntu.raw -m5 -p

# Convert vmdk to qcow2 image
qemu-img convert \
-f vmdk \
-O qcow2 os-images/UbuntuServer_24.04_VM/UbuntuServer_24.04_VM_LinuxVMImages.COM.vmdk \
os-images/UbuntuServer_24.04_VM/UbuntuServer_24.04.qcow2 \
-p \
-m16

# Resize a raw image to 30G
qemu-img resize -f raw new-disk 30G

# Resize a qcow2 image to 15G(actual size 30Gdisk 30G)
qemu-img resize -f raw --shrink new-disk 15G

# Snapshots

# List all snapshots in the image
qemu-img snapshot -l new-disk2.qcow2

# Create a snapshot named SNAP1
qemu-img snapshot -c SNAP1 disk

# Apply a snapshot by ID or name
qemu-img snapshot -a 123456789 disk

# Delete the snapshot named SNAP1
qemu-img snapshot -d SNAP1 disk
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-guestfish"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-guestfish"><span class="octicon octicon-link"></span></a>üêü guestfish</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># set environment variables for guestfish</span>
</span><span class="code-line line-number" line="2"><span class="token builtin class-name">export</span> <span class="token assign-left variable">LIBGUESTFS_BACKEND_SETTINGS</span><span class="token operator">=</span>force_tcg
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># Launch guestfish with a disk image</span>
</span><span class="code-line line-number" line="5">guestfish <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2
</span><span class="code-line line-number" line="6"><span class="token comment">#run</span>
</span><span class="code-line line-number" line="7"><span class="token comment">#list-partitions</span>
</span><span class="code-line line-number" line="8">
</span><span class="code-line line-number" line="9"><span class="token comment"># Run the commands in a script file</span>
</span><span class="code-line line-number" line="10">guestfish <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 <span class="token parameter variable">-m</span> /dev/sda <span class="token parameter variable">-i</span> <span class="token operator">&#x3C;</span> script.ssh
</span><span class="code-line line-number" line="11">
</span><span class="code-line line-number" line="12"><span class="token comment"># Interactively run commands</span>
</span><span class="code-line line-number" line="13">guestfish <span class="token parameter variable">--rw</span> <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 <span class="token operator">&#x3C;&#x3C;</span><span class="token string">'EOF'
</span></span><span class="code-line line-number" line="14"><span class="token string">run
</span></span><span class="code-line line-number" line="15"><span class="token string">list-filesystems
</span></span><span class="code-line line-number" line="16"><span class="token string">EOF</span>
</span><span class="code-line line-number" line="17">
</span><span class="code-line line-number" line="18"><span class="token comment"># Copy a file from the guest image to the host</span>
</span><span class="code-line line-number" line="19"><span class="token builtin class-name">export</span> <span class="token assign-left variable">LIBGUESTFS_BACKEND_SETTINGS</span><span class="token operator">=</span>force_tcg
</span><span class="code-line line-number" line="20"><span class="token function">sudo</span> guestfish <span class="token parameter variable">--rw</span> <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 <span class="token parameter variable">-i</span> <span class="token operator">&#x3C;&#x3C;</span><span class="token string">'EOF'
</span></span><span class="code-line line-number" line="21"><span class="token string">copy-out /etc/hostname /tmp/
</span></span><span class="code-line line-number" line="22"><span class="token string">EOF</span>
</span><span class="code-line line-number" line="23">
</span><span class="code-line line-number" line="24"><span class="token comment"># Copy a file from the host into the guest image</span>
</span><span class="code-line line-number" line="25"><span class="token builtin class-name">echo</span> <span class="token string">"new-hostname"</span> <span class="token operator">></span> /tmp/hostname
</span><span class="code-line line-number" line="26"><span class="token builtin class-name">export</span> <span class="token assign-left variable">LIBGUESTFS_BACKEND_SETTINGS</span><span class="token operator">=</span>force_tcg
</span><span class="code-line line-number" line="27"><span class="token function">sudo</span> guestfish <span class="token parameter variable">--rw</span> <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 <span class="token parameter variable">-i</span> <span class="token operator">&#x3C;&#x3C;</span><span class="token string">'EOF'
</span></span><span class="code-line line-number" line="28"><span class="token string">copy-in /tmp/hostname /etc/
</span></span><span class="code-line line-number" line="29"><span class="token string">EOF</span>
</span><span class="code-line line-number" line="30">
</span><span class="code-line line-number" line="31"><span class="token comment"># View contents of a file in the guest image</span>
</span><span class="code-line line-number" line="32">guestfish <span class="token parameter variable">--ro</span> <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 <span class="token parameter variable">-i</span> <span class="token operator">&#x3C;&#x3C;</span><span class="token string">'EOF'
</span></span><span class="code-line line-number" line="33"><span class="token string">cat /etc/hostname
</span></span><span class="code-line line-number" line="34"><span class="token string">EOF</span>
</span><span class="code-line line-number" line="35">
</span><span class="code-line line-number" line="36"><span class="token comment"># List files in the guest image</span>
</span><span class="code-line line-number" line="37"><span class="token builtin class-name">export</span> <span class="token assign-left variable">LIBGUESTFS_BACKEND_SETTINGS</span><span class="token operator">=</span>force_tcg
</span><span class="code-line line-number" line="38">guestfish <span class="token parameter variable">--rw</span> <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 <span class="token parameter variable">-i</span> <span class="token operator">&#x3C;&#x3C;</span><span class="token string">'EOF'
</span></span><span class="code-line line-number" line="39"><span class="token string">ls /home/ubuntu
</span></span><span class="code-line line-number" line="40"><span class="token string">EOF</span>
</span><span class="code-line line-number" line="41">
</span><span class="code-line line-number" line="42"><span class="token comment"># Edit a file in the guest image</span>
</span><span class="code-line line-number" line="43"><span class="token builtin class-name">export</span> <span class="token assign-left variable">LIBGUESTFS_BACKEND_SETTINGS</span><span class="token operator">=</span>force_tcg
</span><span class="code-line line-number" line="44">guestfish <span class="token parameter variable">--rw</span> <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 <span class="token parameter variable">-i</span> <span class="token operator">&#x3C;&#x3C;</span><span class="token string">'EOF'
</span></span><span class="code-line line-number" line="45"><span class="token string">edit /etc/hosts
</span></span><span class="code-line line-number" line="46"><span class="token string">EOF</span>
</span></code><div onclick="copied(this)" data-code="# set environment variables for guestfish
export LIBGUESTFS_BACKEND_SETTINGS=force_tcg

# Launch guestfish with a disk image
guestfish -a UbuntuServer_24.04.qcow2
#run
#list-partitions

# Run the commands in a script file
guestfish -a UbuntuServer_24.04.qcow2 -m /dev/sda -i < script.ssh

# Interactively run commands
guestfish --rw -a UbuntuServer_24.04.qcow2 <<&#x27;EOF&#x27;
run
list-filesystems
EOF

# Copy a file from the guest image to the host
export LIBGUESTFS_BACKEND_SETTINGS=force_tcg
sudo guestfish --rw -a UbuntuServer_24.04.qcow2 -i <<&#x27;EOF&#x27;
copy-out /etc/hostname /tmp/
EOF

# Copy a file from the host into the guest image
echo &#x22;new-hostname&#x22; > /tmp/hostname
export LIBGUESTFS_BACKEND_SETTINGS=force_tcg
sudo guestfish --rw -a UbuntuServer_24.04.qcow2 -i <<&#x27;EOF&#x27;
copy-in /tmp/hostname /etc/
EOF

# View contents of a file in the guest image
guestfish --ro -a UbuntuServer_24.04.qcow2 -i <<&#x27;EOF&#x27;
cat /etc/hostname
EOF

# List files in the guest image
export LIBGUESTFS_BACKEND_SETTINGS=force_tcg
guestfish --rw -a UbuntuServer_24.04.qcow2 -i <<&#x27;EOF&#x27;
ls /home/ubuntu
EOF

# Edit a file in the guest image
export LIBGUESTFS_BACKEND_SETTINGS=force_tcg
guestfish --rw -a UbuntuServer_24.04.qcow2 -i <<&#x27;EOF&#x27;
edit /etc/hosts
EOF
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h6 id="Ô∏è-guestmount"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-guestmount"><span class="octicon octicon-link"></span></a>üóÇÔ∏è guestmount</h6>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Mount a disk image to a directory</span>
</span><span class="code-line line-number" line="2">guestmount <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 <span class="token parameter variable">-m</span> /dev/ubuntu-vg/ubuntu-lv /mnt/ubuntu
</span><span class="code-line line-number" line="3"><span class="token comment"># domain</span>
</span><span class="code-line line-number" line="4">guestmount <span class="token parameter variable">-d</span> rocky9-server02 <span class="token parameter variable">-m</span> /dev/ubuntu-vg/ubuntu-lv /mnt/ubuntu 
</span><span class="code-line line-number" line="5">
</span><span class="code-line line-number" line="6"><span class="token comment"># Mount a specific partition from a disk image</span>
</span><span class="code-line line-number" line="7">guestmount <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 <span class="token parameter variable">-m</span> /dev/sda2 /mnt/ubuntu
</span><span class="code-line line-number" line="8"><span class="token comment"># domain</span>
</span><span class="code-line line-number" line="9">guestmount <span class="token parameter variable">-d</span> debian-server01 <span class="token parameter variable">--ro</span> <span class="token parameter variable">-m</span>  /dev/debian-vg/root /mnt/debian
</span></code><div onclick="copied(this)" data-code="# Mount a disk image to a directory
guestmount -a UbuntuServer_24.04.qcow2 -m /dev/ubuntu-vg/ubuntu-lv /mnt/ubuntu
# domain
guestmount -d rocky9-server02 -m /dev/ubuntu-vg/ubuntu-lv /mnt/ubuntu 

# Mount a specific partition from a disk image
guestmount -a UbuntuServer_24.04.qcow2 -m /dev/sda2 /mnt/ubuntu
# domain
guestmount -d debian-server01 --ro -m  /dev/debian-vg/root /mnt/debian
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h6 id="Ô∏è-guestumount"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-guestumount"><span class="octicon octicon-link"></span></a>üóëÔ∏è guestumount</h6>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Umount a disk image to a directory</span>
</span><span class="code-line line-number" line="2"><span class="token function">sudo</span> guestunmount /mnt/ubuntu
</span></code><div onclick="copied(this)" data-code="# Umount a disk image to a directory
sudo guestunmount /mnt/ubuntu
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-virt-df"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-virt-df"><span class="octicon octicon-link"></span></a>üìä virt-df</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Show free and used space on virtual machine filesystems</span>
</span><span class="code-line line-number" line="2">virt-df UbuntuServer_24.04.qcow2 <span class="token parameter variable">-h</span>
</span><span class="code-line line-number" line="3">virt-df <span class="token parameter variable">-d</span> rocky9-server02 <span class="token parameter variable">-h</span>
</span></code><div onclick="copied(this)" data-code="# Show free and used space on virtual machine filesystems
virt-df UbuntuServer_24.04.qcow2 -h
virt-df -d rocky9-server02 -h
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="Ô∏è-virt-filesystems"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-virt-filesystems"><span class="octicon octicon-link"></span></a>üóÉÔ∏è virt-filesystems</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># List filesystems, partitions, and logical volumes in a VM disk image (disk image)</span>
</span><span class="code-line line-number" line="2">virt-filesystems <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 <span class="token parameter variable">--all</span> <span class="token parameter variable">--long</span> <span class="token parameter variable">-h</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># List filesystems, partitions, and logical volumes in a VM disk image (domain)</span>
</span><span class="code-line line-number" line="5">virt-filesystems <span class="token parameter variable">-d</span> debian-server01 <span class="token parameter variable">--all</span> <span class="token parameter variable">--long</span> <span class="token parameter variable">-h</span>
</span></code><div onclick="copied(this)" data-code="# List filesystems, partitions, and logical volumes in a VM disk image (disk image)
virt-filesystems -a UbuntuServer_24.04.qcow2 --all --long -h

# List filesystems, partitions, and logical volumes in a VM disk image (domain)
virt-filesystems -d debian-server01 --all --long -h
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-virt-inspector"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-virt-inspector"><span class="octicon octicon-link"></span></a>üîç virt-inspector</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Inspect and report on the operating system in a VM disk image</span>
</span><span class="code-line line-number" line="2">virt-inspector <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 <span class="token comment">#(disk)</span>
</span><span class="code-line line-number" line="3">virt-inspector <span class="token parameter variable">-d</span> debian-server01 <span class="token comment">#(domain) </span>
</span></code><div onclick="copied(this)" data-code="# Inspect and report on the operating system in a VM disk image
virt-inspector -a UbuntuServer_24.04.qcow2 #(disk)
virt-inspector -d debian-server01 #(domain) 
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-virt-cat"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-virt-cat"><span class="octicon octicon-link"></span></a>üê± virt-cat</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Display the contents of a file inside a VM disk image</span>
</span><span class="code-line line-number" line="2">virt-cat <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 /etc/hosts
</span><span class="code-line line-number" line="3">virt-cat <span class="token parameter variable">-d</span> debian-server01 /etc/hosts <span class="token comment">#(domain)</span>
</span></code><div onclick="copied(this)" data-code="# Display the contents of a file inside a VM disk image
virt-cat -a UbuntuServer_24.04.qcow2 /etc/hosts
virt-cat -d debian-server01 /etc/hosts #(domain)
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-virt-diff"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-virt-diff"><span class="octicon octicon-link"></span></a>üîÄ virt-diff</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Show differences between two VM disk images</span>
</span><span class="code-line line-number" line="2">virt-diff <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 <span class="token parameter variable">-A</span> Rocky-Linux.qcow2
</span></code><div onclick="copied(this)" data-code="# Show differences between two VM disk images
virt-diff -a UbuntuServer_24.04.qcow2 -A Rocky-Linux.qcow2
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-virt-sparsify"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-virt-sparsify"><span class="octicon octicon-link"></span></a>üßπ virt-sparsify</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Make a VM disk image smaller by removing unused space</span>
</span><span class="code-line line-number" line="2">virt-sparsify UbuntuServer_24.04.qcow2 UbuntuServer_24.04-sparse.qcow2
</span></code><div onclick="copied(this)" data-code="# Make a VM disk image smaller by removing unused space
virt-sparsify UbuntuServer_24.04.qcow2 UbuntuServer_24.04-sparse.qcow2
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-virt-resize"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-virt-resize"><span class="octicon octicon-link"></span></a>üìè virt-resize</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Resize a VM disk image or its partitions</span>
</span><span class="code-line line-number" line="2">virt-filesystems <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 <span class="token parameter variable">--all</span> <span class="token parameter variable">--long</span> <span class="token parameter variable">-h</span> <span class="token comment">#(check size of partitions)</span>
</span><span class="code-line line-number" line="3">qemu-img create <span class="token parameter variable">-f</span> qcow2 UbuntuServer_24.04-expanded.qcow2 100G <span class="token comment">#(create new disk image with 100G)</span>
</span><span class="code-line line-number" line="4">virt-resize <span class="token parameter variable">--expand</span> /dev/ubuntu-vg/ubuntu-lv <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="5">UbuntuServer_24.04.qcow2 UbuntuServer_24.04-expanded.qcow2
</span><span class="code-line line-number" line="6">
</span></code><div onclick="copied(this)" data-code="# Resize a VM disk image or its partitions
virt-filesystems -a UbuntuServer_24.04.qcow2 --all --long -h #(check size of partitions)
qemu-img create -f qcow2 UbuntuServer_24.04-expanded.qcow2 100G #(create new disk image with 100G)
virt-resize --expand /dev/ubuntu-vg/ubuntu-lv \
UbuntuServer_24.04.qcow2 UbuntuServer_24.04-expanded.qcow2

" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-virt-copy-in"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-virt-copy-in"><span class="octicon octicon-link"></span></a>üì• virt-copy-in</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Copy files from the host into a VM disk image</span>
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3">virt-copy-in <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 ~vagrant/test-virt-copy-in.txt /home/ubuntu
</span></code><div onclick="copied(this)" data-code="# Copy files from the host into a VM disk image

virt-copy-in -a UbuntuServer_24.04.qcow2 ~vagrant/test-virt-copy-in.txt /home/ubuntu
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-virt-copy-out"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-virt-copy-out"><span class="octicon octicon-link"></span></a>üì§ virt-copy-out</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Copy files from a VM disk image to the host</span>
</span><span class="code-line line-number" line="2">virt-copy-out <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 /home/ubuntu/.bashrc /tmp
</span></code><div onclick="copied(this)" data-code="# Copy files from a VM disk image to the host
virt-copy-out -a UbuntuServer_24.04.qcow2 /home/ubuntu/.bashrc /tmp
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-virt-ls"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-virt-ls"><span class="octicon octicon-link"></span></a>üìã virt-ls</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># List files and directories inside a VM disk image</span>
</span><span class="code-line line-number" line="2">virt-ls <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 /home/ubuntu
</span></code><div onclick="copied(this)" data-code="# List files and directories inside a VM disk image
virt-ls -a UbuntuServer_24.04.qcow2 /home/ubuntu
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-virt-rescue"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-virt-rescue"><span class="octicon octicon-link"></span></a>üöë virt-rescue</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Launch a rescue shell on a VM disk image for recovery</span>
</span><span class="code-line line-number" line="2">virt-rescue <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2
</span></code><div onclick="copied(this)" data-code="# Launch a rescue shell on a VM disk image for recovery
virt-rescue -a UbuntuServer_24.04.qcow2
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-virt-sysprep"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-virt-sysprep"><span class="octicon octicon-link"></span></a>üß∞ virt-sysprep</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Prepare a VM disk image for cloning by removing system-specific data</span>
</span><span class="code-line line-number" line="2">virt-sysprep <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2
</span></code><div onclick="copied(this)" data-code="# Prepare a VM disk image for cloning by removing system-specific data
virt-sysprep -a UbuntuServer_24.04.qcow2
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-virt-v2v"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-virt-v2v"><span class="octicon octicon-link"></span></a>üîÑ virt-v2v</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Convert a VM from a foreign hypervisor to run on KVM</span>
</span><span class="code-line line-number" line="2">virt-v2v <span class="token parameter variable">-i</span> disk input-disk.img <span class="token parameter variable">-o</span> <span class="token builtin class-name">local</span> <span class="token parameter variable">-os</span> /var/tmp
</span></code><div onclick="copied(this)" data-code="# Convert a VM from a foreign hypervisor to run on KVM
virt-v2v -i disk input-disk.img -o local -os /var/tmp
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-virt-p2v"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-virt-p2v"><span class="octicon octicon-link"></span></a>üîÑ virt-p2v</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Convert a physical machine to use KVM</span>
</span></code><div onclick="copied(this)" data-code="# Convert a physical machine to use KVM
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-virt-p2v-make-disk"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-virt-p2v-make-disk"><span class="octicon octicon-link"></span></a>üíΩ virt-p2v-make-disk</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Create a bootable disk image for physical to virtual conversion</span>
</span><span class="code-line line-number" line="2"><span class="token function">sudo</span> virt-p2v-make-disk <span class="token parameter variable">-o</span> output.img
</span></code><div onclick="copied(this)" data-code="# Create a bootable disk image for physical to virtual conversion
sudo virt-p2v-make-disk -o output.img
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="-3515-notes"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-3515-notes"><span class="octicon octicon-link"></span></a>üìù 351.5 Notes</h4>
    <h5 id="-ovf-open-virtualization-format"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-ovf-open-virtualization-format"><span class="octicon octicon-link"></span></a>üì¶ OVF: Open Virtualization Format</h5>
    <p>OVF: An open format that defines a standard for packaging and distributing virtual machines across different environments.</p>
    <p>The generated package has the .ova extension and contains the following files:</p>
    <ul>
      <li>.ovf: XML file with metadata defining the virtual machine environment</li>
      <li>Image files: .vmdk, .vhd, .vhdx, .qcow2, .raw</li>
      <li>Additional files: metadata, snapshots, configuration, hash</li>
    </ul>
    <p align="right">(<a href="#topic-351.5">back to sub Topic 351.5</a>)</p>
    <p align="right">(<a href="#topic-351">back to Topic 351</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr>
    <p><a name="topic-352"></a></p>
    <h2 id="-topic-352-container-virtualization"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-topic-352-container-virtualization"><span class="octicon octicon-link"></span></a>üì¶ Topic 352: container Virtualization</h2>
    <hr>
    <p><a name="topic-352.1"></a></p>
    <h3 id="-3521--container-virtualization-concepts"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-3521--container-virtualization-concepts"><span class="octicon octicon-link"></span></a>üß† 352.1 container Virtualization Concepts</h3>
    <p>
      <img src="images/virtualization-container.png" alt="virtualization-container">
    </p>
    <pre class="language-mermaid"><code class="language-mermaid code-highlight"><span class="code-line line-number" line="1">timeline
</span><span class="code-line line-number" line="2">    title Time Line containers Evolution
</span><span class="code-line line-number" line="3">    1979 <span class="token operator">:</span> chroot
</span><span class="code-line line-number" line="4">    2000 <span class="token operator">:</span> FreeBSD Jails
</span><span class="code-line line-number" line="5">    2002 <span class="token operator">:</span> Linux Namespaces
</span><span class="code-line line-number" line="6">    2005 <span class="token operator">:</span> Solaris containers
</span><span class="code-line line-number" line="7">    2007 <span class="token operator">:</span> cgroups
</span><span class="code-line line-number" line="8">    2008 <span class="token operator">:</span> LXC
</span><span class="code-line line-number" line="9">    2013 <span class="token operator">:</span> Docker
</span><span class="code-line line-number" line="10">    2015 <span class="token operator">:</span> Kubernetes
</span></code><div onclick="copied(this)" data-code="timeline
    title Time Line containers Evolution
    1979 : chroot
    2000 : FreeBSD Jails
    2002 : Linux Namespaces
    2005 : Solaris containers
    2007 : cgroups
    2008 : LXC
    2013 : Docker
    2015 : Kubernetes
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <hr>
    <p><strong>Weight:</strong> 7</p>
    <p><strong>Description:</strong> Candidates should understand the concept of container virtualization. This includes understanding the Linux components used to implement container virtualization as well as using standard Linux tools to troubleshoot these components.</p>
    <p><strong>Key Knowledge Areas:</strong></p>
    <ul>
      <li>Understand the concepts of system and application container</li>
      <li>Understand and analyze kernel namespaces</li>
      <li>Understand and analyze control groups</li>
      <li>Understand and analyze capabilities</li>
      <li>Understand the role of seccomp, SELinux and AppArmor for container virtualization</li>
      <li>Understand how LXC and Docker leverage namespaces, cgroups, capabilities, seccomp and MAC</li>
      <li>Understand the principle of runc</li>
      <li>Understand the principle of CRI-O and containerd</li>
      <li>Awareness of the OCI runtime and image specifications</li>
      <li>Awareness of the Kubernetes container Runtime Interface (CRI)</li>
      <li>Awareness of podman, buildah and skopeo</li>
      <li>Awareness of other container virtualization approaches in Linux and other free operating systems, such as rkt, OpenVZ, systemd-nspawn or BSD Jails</li>
    </ul>
    <hr>
    <h4 id="-3521-cited-objects"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-3521-cited-objects"><span class="octicon octicon-link"></span></a>üìã 352.1 Cited Objects</h4>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">nsenter
</span><span class="code-line line-number" line="2">unshare
</span><span class="code-line line-number" line="3"><span class="token function">ip</span> <span class="token punctuation">(</span>including relevant subcommands<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="4">capsh
</span><span class="code-line line-number" line="5">/sys/fs/cgroups
</span><span class="code-line line-number" line="6">/proc/<span class="token punctuation">[</span><span class="token number">0</span>-9<span class="token punctuation">]</span>+/ns
</span><span class="code-line line-number" line="7">/proc/<span class="token punctuation">[</span><span class="token number">0</span>-9<span class="token punctuation">]</span>+/status
</span></code><div onclick="copied(this)" data-code="nsenter
unshare
ip (including relevant subcommands)
capsh
/sys/fs/cgroups
/proc/[0-9]+/ns
/proc/[0-9]+/status
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <hr>
    <h4 id="-understanding-containers"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-understanding-containers"><span class="octicon octicon-link"></span></a>üß† Understanding containers</h4>
    <p>
      <img src="images/containers1.png" alt="container">
    </p>
    <p>containers are a lightweight virtualization technology that package applications along with their required dependencies ‚Äî code, libraries, environment variables, and configuration files ‚Äî into isolated, portable, and reproducible units.</p>
    <blockquote>
      <p>In simple terms: a container is a self-containerd box that runs your application the same way, anywhere.</p>
    </blockquote>
    <h5 id="-what-is-a-container"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-what-is-a-container"><span class="octicon octicon-link"></span></a>üí° What Is a container?</h5>
    <p>Unlike Virtual Machines (VMs), containers do not virtualize hardware. Instead, they virtualize the operating system. containers share the same Linux kernel with the host, but each one operates in a fully isolated user space.</p>
    <p>üìå containers vs Virtual Machines:</p>
    <table>
      <thead>
        <tr>
          <th>Feature</th>
          <th>containers</th>
          <th>Virtual Machines</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>OS Kernel</td>
          <td>Shared with host</td>
          <td>Each VM has its own OS</td>
        </tr>
        <tr>
          <td>Startup time</td>
          <td>Fast (seconds or less)</td>
          <td>Slow (minutes)</td>
        </tr>
        <tr>
          <td>Image size</td>
          <td>Lightweight (MBs)</td>
          <td>Heavy (GBs)</td>
        </tr>
        <tr>
          <td>Resource efficiency</td>
          <td>High</td>
          <td>Lower</td>
        </tr>
        <tr>
          <td>Isolation mechanism</td>
          <td>Kernel features (namespaces)</td>
          <td>Hypervisor</td>
        </tr>
      </tbody>
    </table>
    <h5 id="-key-characteristics-of-containers"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-key-characteristics-of-containers"><span class="octicon octicon-link"></span></a>üîë Key Characteristics of containers</h5>
    <p>üîπ <strong>Lightweight</strong>: Share the host OS kernel, reducing overhead and enabling fast startup.</p>
    <p>üîπ <strong>Portable</strong>: Run consistently across different environments (dev, staging, prod, cloud, on-prem).</p>
    <p>üîπ <strong>Isolated</strong>: Use namespaces for process, network, and filesystem isolation.</p>
    <p>üîπ <strong>Efficient</strong>: Enable higher density and better resource utilization than traditional VMs.</p>
    <p>üîπ <strong>Scalable</strong>: Perfect fit for microservices and cloud-native architecture.</p>
    <h5 id="-types-of-containers"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-types-of-containers"><span class="octicon octicon-link"></span></a>üß± Types of containers</h5>
    <ol>
      <li>
        <p>System containers</p>
        <ul>
          <li>Designed to run the entire OS, Resemble virtual machines.</li>
          <li>Support multiple processes and system services (init, syslog).</li>
          <li>Ideal for legacy or monolithic applications.</li>
          <li>Example: LXC, libvirt-lxc.</li>
        </ul>
      </li>
      <li>
        <p>Application containers</p>
        <ul>
          <li>Designed to run a single process.</li>
          <li>Stateless, ephemeral, and horizontally scalable.</li>
          <li>Used widely in modern DevOps and Kubernetes environments.</li>
          <li>Example: Docker, containerd, CRI-O.</li>
        </ul>
      </li>
    </ol>
    <h5 id="-popular-container-runtimes"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-popular-container-runtimes"><span class="octicon octicon-link"></span></a>üöÄ Popular container Runtimes</h5>
    <table>
      <thead>
        <tr>
          <th>Runtime</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Docker</strong></td>
          <td>Most widely adopted CLI/daemon for building and running containers.</td>
        </tr>
        <tr>
          <td><strong>containerd</strong></td>
          <td>Lightweight runtime powering Docker and Kubernetes.</td>
        </tr>
        <tr>
          <td><strong>CRI-O</strong></td>
          <td>Kubernetes-native runtime for OCI containers.</td>
        </tr>
        <tr>
          <td><strong>LXC</strong></td>
          <td>Traditional Linux system containers, closer to full OS.</td>
        </tr>
        <tr>
          <td><strong>RKT</strong></td>
          <td>Security-focused runtime (deprecated).</td>
        </tr>
      </tbody>
    </table>
    <h5 id="-container-internals-and-security-elements"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-container-internals-and-security-elements"><span class="octicon octicon-link"></span></a>üîê container Internals and Security Elements</h5>
    <table>
      <thead>
        <tr>
          <th>Component</th>
          <th>Role</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Namespaces</strong></td>
          <td>Isolate processes, users, mounts, networks.</td>
        </tr>
        <tr>
          <td><strong>cgroups</strong></td>
          <td>Control and limit resource usage (CPU, memory, IO).</td>
        </tr>
        <tr>
          <td><strong>Capabilities</strong></td>
          <td>Fine-grained privilege control inside containers.</td>
        </tr>
        <tr>
          <td><strong>seccomp</strong></td>
          <td>Restricts allowed syscalls to reduce attack surface.</td>
        </tr>
        <tr>
          <td><strong>AppArmor / SELinux</strong></td>
          <td>Mandatory Access Control enforcement at kernel level.</td>
        </tr>
      </tbody>
    </table>
    <hr>
    <h4 id="-understanding-chroot---change-root-directory-in-unixlinux"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-understanding-chroot---change-root-directory-in-unixlinux"><span class="octicon octicon-link"></span></a>üß† Understanding chroot - Change Root Directory in Unix/Linux</h4>
    <p>
      <img src="images/chroot.png" alt="chroot">
    </p>
    <h5 id="what-is-chroot"><a class="anchor" aria-hidden="true" tabindex="-1" href="#what-is-chroot"><span class="octicon octicon-link"></span></a>What is chroot?</h5>
    <p>chroot (short for change root) is a system call and command on Unix-like operating systems that changes the apparent root directory (/) for the current running process and its children. This creates an isolated environment, commonly referred to as a chroot jail.</p>
    <h5 id="-purpose-and-use-cases"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-purpose-and-use-cases"><span class="octicon octicon-link"></span></a>üß± Purpose and Use Cases</h5>
    <ul>
      <li>üîí Isolate applications for security (jailing).</li>
      <li>üß™ Create testing environments without impacting the rest of the system.</li>
      <li>üõ†Ô∏è System recovery (e.g., boot into LiveCD and chroot into installed system).</li>
      <li>üì¶ Building software packages in a controlled environment.</li>
    </ul>
    <h5 id="-minimum-required-structure"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-minimum-required-structure"><span class="octicon octicon-link"></span></a>üìÅ Minimum Required Structure</h5>
    <p>The chroot environment must have its own essential files and structure:</p>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">/mnt/myenv/
</span><span class="code-line line-number" line="2">‚îú‚îÄ‚îÄ bin/
</span><span class="code-line line-number" line="3">‚îÇ   ‚îî‚îÄ‚îÄ <span class="token function">bash</span>
</span><span class="code-line line-number" line="4">‚îú‚îÄ‚îÄ etc/
</span><span class="code-line line-number" line="5">‚îú‚îÄ‚îÄ lib/
</span><span class="code-line line-number" line="6">‚îú‚îÄ‚îÄ lib64/
</span><span class="code-line line-number" line="7">‚îú‚îÄ‚îÄ usr/
</span><span class="code-line line-number" line="8">‚îú‚îÄ‚îÄ dev/
</span><span class="code-line line-number" line="9">‚îú‚îÄ‚îÄ proc/
</span><span class="code-line line-number" line="10">‚îî‚îÄ‚îÄ tmp/
</span></code><div onclick="copied(this)" data-code="/mnt/myenv/
‚îú‚îÄ‚îÄ bin/
‚îÇ   ‚îî‚îÄ‚îÄ bash
‚îú‚îÄ‚îÄ etc/
‚îú‚îÄ‚îÄ lib/
‚îú‚îÄ‚îÄ lib64/
‚îú‚îÄ‚îÄ usr/
‚îú‚îÄ‚îÄ dev/
‚îú‚îÄ‚îÄ proc/
‚îî‚îÄ‚îÄ tmp/
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>Use ldd to identify required libraries:</p>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">ldd /bin/bash
</span></code><div onclick="copied(this)" data-code="ldd /bin/bash
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-limitations-and-security-considerations"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-limitations-and-security-considerations"><span class="octicon octicon-link"></span></a>üö® Limitations and Security Considerations</h5>
    <ul>
      <li>chroot is not a security boundary like containers or VMs.</li>
      <li>A privileged user (root) inside the jail can potentially break out.</li>
      <li>No isolation of process namespaces, devices, or kernel-level resources.</li>
    </ul>
    <p>For stronger isolation, consider alternatives like:</p>
    <ul>
      <li>Linux containers (LXC, Docker)</li>
      <li>Virtual machines (KVM, QEMU)</li>
      <li>Kernel namespaces and cgroups</li>
    </ul>
    <h5 id="-test-chroot-with-debootstrap"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-test-chroot-with-debootstrap"><span class="octicon octicon-link"></span></a>üß™ Test chroot with debootstrap</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># download debian files</span>
</span><span class="code-line line-number" line="2"><span class="token function">sudo</span> <span class="token function">debootstrap</span> stable ~vagrant/debian http://deb.debian.org/debian
</span><span class="code-line line-number" line="3"><span class="token function">sudo</span> <span class="token function">chroot</span> ~vagrant/debian <span class="token function">bash</span>
</span></code><div onclick="copied(this)" data-code="# download debian files
sudo debootstrap stable ~vagrant/debian http://deb.debian.org/debian
sudo chroot ~vagrant/debian bash
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-lab-chroot"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-lab-chroot"><span class="octicon octicon-link"></span></a>:üß™ Lab chroot</h5>
    <p>Use this script for lab: <a href="scripts/container/chroot.sh">chroot.sh</a></p>
    <p><a href="https://asciinema.org/a/PWkjazgTXll9678Qy6LLOaKdN"><img src="https://asciinema.org/a/PWkjazgTXll9678Qy6LLOaKdN.svg" alt="asciicast"></a></p>
    <hr>
    <h4 id="-understanding-linux-namespaces"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-understanding-linux-namespaces"><span class="octicon octicon-link"></span></a>üß† Understanding Linux Namespaces</h4>
    <p>
      <img src="images/linux-namespaces2.png" alt="linux-namespaces">
    </p>
    <p>Namespaces are a core Linux kernel feature that enable process-level isolation. They create separate "views" of global system resources ‚Äî such as process IDs, networking, filesystems, and users ‚Äî so that each process group believes it is running in its own system.</p>
    <blockquote>
      <p>In simple terms: namespaces trick a process into thinking it owns the machine, even though it's just sharing it.</p>
    </blockquote>
    <p>This is the foundation for container isolation.</p>
    <h5 id="-what-do-namespaces-isolate"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-what-do-namespaces-isolate"><span class="octicon octicon-link"></span></a>üîç What Do Namespaces Isolate?</h5>
    <p>Each namespace type isolates a specific system resource. Together, they make up the sandbox that a container operates in:</p>
    <table>
      <thead>
        <tr>
          <th>Namespace</th>
          <th>Isolates...</th>
          <th>Real-world example</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>PID</strong></td>
          <td>Process IDs</td>
          <td>Processes inside a container see a different PID space</td>
        </tr>
        <tr>
          <td><strong>Mount</strong></td>
          <td>Filesystem mount points</td>
          <td>Each container sees its own root filesystem</td>
        </tr>
        <tr>
          <td><strong>Network</strong></td>
          <td>Network stack</td>
          <td>containers have isolated IPs, interfaces, and routes</td>
        </tr>
        <tr>
          <td><strong>UTS</strong></td>
          <td>Hostname and domain name</td>
          <td>Each container sets its own hostname</td>
        </tr>
        <tr>
          <td><strong>IPC</strong></td>
          <td>Shared memory and semaphores</td>
          <td>Prevents inter-process communication between containers</td>
        </tr>
        <tr>
          <td><strong>User</strong></td>
          <td>User and group IDs</td>
          <td>Enables fake root (UID 0) inside the container</td>
        </tr>
        <tr>
          <td><strong>Cgroup (v2)</strong></td>
          <td>Control group membership</td>
          <td>Ties into resource controls like CPU and memory limits</td>
        </tr>
      </tbody>
    </table>
    <h5 id="-visual-analogy"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-visual-analogy"><span class="octicon octicon-link"></span></a>üß™ Visual Analogy</h5>
    <p>
      <img src="images/linux-namespaces.png" alt="linux-namespaces">
    </p>
    <p>Imagine a shared office building:</p>
    <ul>
      <li>All tenants share the same foundation (Linux kernel).</li>
      <li>Each company has its own office (namespace): different locks, furniture, phone lines, and company name.</li>
      <li>To each tenant, it feels like their own building.</li>
    </ul>
    <p>That's exactly how containers experience the system ‚Äî isolated, yet efficient.</p>
    <h5 id="-how-containers-use-namespaces"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-how-containers-use-namespaces"><span class="octicon octicon-link"></span></a>üîß How containers Use Namespaces</h5>
    <p>When you run a container (e.g., with Docker or Podman), the runtime creates a new set of namespaces:</p>
    <pre class="language-bash"><code class="language-bash code-highlight"><span class="code-line line-number" line="1"><span class="token function">docker</span> run <span class="token parameter variable">-it</span> <span class="token parameter variable">--rm</span> alpine <span class="token function">sh</span>
</span></code><div onclick="copied(this)" data-code="docker run -it --rm alpine sh
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>This command gives the process:</p>
    <ul>
      <li>A new PID namespace ‚Üí it's process 1 inside the container.</li>
      <li>A new network namespace ‚Üí its own virtual Ethernet.</li>
      <li>A mount namespace ‚Üí a container-specific root filesystem.</li>
      <li>Other namespaces depending on configuration (user, IPC, etc.)</li>
    </ul>
    <p>The result: a lightweight, isolated runtime environment that behaves like a separate system.</p>
    <h5 id="Ô∏è-complementary-kernel-features"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-complementary-kernel-features"><span class="octicon octicon-link"></span></a>‚öôÔ∏è Complementary Kernel Features</h5>
    <p>Namespaces hide resources from containers. But to control how much they can use and what they can do, we need additional mechanisms:</p>
    <h6 id="-cgroups-control-groups"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-cgroups-control-groups"><span class="octicon octicon-link"></span></a>üî© Cgroups (Control Groups)</h6>
    <p>Cgroups allow the kernel to limit, prioritize, and monitor resource usage across process groups.</p>
    <table>
      <thead>
        <tr>
          <th>Resource</th>
          <th>Use case examples</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>CPU</td>
          <td>Limit CPU time per container</td>
        </tr>
        <tr>
          <td>Memory</td>
          <td>Cap RAM usage</td>
        </tr>
        <tr>
          <td>Disk I/O</td>
          <td>Throttle read/write operations</td>
        </tr>
        <tr>
          <td>Network (v2)</td>
          <td>Bandwidth restrictions</td>
        </tr>
      </tbody>
    </table>
    <p>üõ°Ô∏è Prevents the "noisy neighbor" problem by stopping one container from consuming all system resources.</p>
    <h6 id="-capabilities"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-capabilities"><span class="octicon octicon-link"></span></a>üß± Capabilities</h6>
    <p>Traditional Linux uses a binary privilege model: root (UID 0) can do everything, everyone else is limited.</p>
    <table>
      <thead>
        <tr>
          <th>Capability</th>
          <th>Allows...</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>CAP_NET_BIND_SERVICE</code></td>
          <td>Binding to privileged ports (e.g. 80, 443)</td>
        </tr>
        <tr>
          <td><code>CAP_SYS_ADMIN</code></td>
          <td>A powerful catch-all for system admin tasks</td>
        </tr>
        <tr>
          <td><code>CAP_KILL</code></td>
          <td>Sending signals to arbitrary processes</td>
        </tr>
      </tbody>
    </table>
    <p>By dropping unnecessary capabilities, containers can run with only what they need ‚Äî reducing risk.</p>
    <h5 id="-security-mechanisms"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-security-mechanisms"><span class="octicon octicon-link"></span></a>üîê Security Mechanisms</h5>
    <p>Used in conjunction with namespaces and cgroups to lock down what a containerized process can do:</p>
    <table>
      <thead>
        <tr>
          <th>Feature</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>seccomp</strong></td>
          <td>Whitelist or block Linux system calls (syscalls)</td>
        </tr>
        <tr>
          <td><strong>AppArmor</strong></td>
          <td>Apply per-application security profiles</td>
        </tr>
        <tr>
          <td><strong>SELinux</strong></td>
          <td>Enforce Mandatory Access Control with tight system policies</td>
        </tr>
      </tbody>
    </table>
    <h5 id="-summary-for-beginners"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-summary-for-beginners"><span class="octicon octicon-link"></span></a>üß† Summary for Beginners</h5>
    <blockquote>
      <p>
        ‚úÖ Namespaces isolate what a container can see
        ‚úÖ Cgroups control what it can use
        ‚úÖ Capabilities and security modules define what it can do
      </p>
    </blockquote>
    <p>Together, these kernel features form the technical backbone of container isolation ‚Äî enabling high-density, secure, and efficient application deployment without full VMs.</p>
    <h5 id="-lab-namespaces"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-lab-namespaces"><span class="octicon octicon-link"></span></a>üß™ Lab Namespaces</h5>
    <p>Use this script for lab: <a href="scripts/container/namespace.sh">namespace.sh</a></p>
    <p><a href="https://asciinema.org/a/8H6iczCMO24VgjWqwCcXEKWBG"><img src="https://asciinema.org/a/8H6iczCMO24VgjWqwCcXEKWBG.svg" alt="asciicast"></a></p>
    <hr>
    <h4 id="-understanding-cgroups-control-groups"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-understanding-cgroups-control-groups"><span class="octicon octicon-link"></span></a>üß© Understanding Cgroups (Control Groups)</h4>
    <p>
      <img src="images/cgroups1.png" alt="cgroups">
    </p>
    <h5 id="-definition"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-definition"><span class="octicon octicon-link"></span></a>üìå Definition</h5>
    <p>Control Groups (cgroups) are a Linux kernel feature introduced in 2007 that allow you to limit, account for, and isolate the resource usage (CPU, memory, disk I/O, etc.) of groups of processes.</p>
    <p>cgroups are heavily used by low-level container runtimes such as runc and crun, and leveraged by container engines like Docker, Podman, and LXC to enforce resource boundaries and provide isolation between containers.</p>
    <p>Namespaces isolate, cgroups control.</p>
    <p>Namespaces create separate environments for processes (like PID, network, or mounts), while cgroups limit and monitor resource usage (CPU, memory, I/O) for those processes.</p>
    <p>‚öôÔ∏è Key Capabilities</p>
    <table>
      <thead>
        <tr>
          <th>Feature</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Resource Limiting</strong></td>
          <td>Impose limits on how much of a resource a group can use</td>
        </tr>
        <tr>
          <td><strong>Prioritization</strong></td>
          <td>Allocate more CPU/IO priority to some groups over others</td>
        </tr>
        <tr>
          <td><strong>Accounting</strong></td>
          <td>Track usage of resources per group</td>
        </tr>
        <tr>
          <td><strong>Control</strong></td>
          <td>Suspend, resume, or kill processes in bulk</td>
        </tr>
        <tr>
          <td><strong>Isolation</strong></td>
          <td>Prevent resource starvation between groups</td>
        </tr>
      </tbody>
    </table>
    <h5 id="-subsystems-controllers"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-subsystems-controllers"><span class="octicon octicon-link"></span></a>üì¶ Subsystems (Controllers)</h5>
    <p>cgroups operate through controllers, each responsible for managing one type of resource:</p>
    <table>
      <thead>
        <tr>
          <th>Subsystem</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>cpu</code></td>
          <td>Controls CPU scheduling</td>
        </tr>
        <tr>
          <td><code>cpuacct</code></td>
          <td>Generates CPU usage reports</td>
        </tr>
        <tr>
          <td><code>memory</code></td>
          <td>Limits and accounts memory usage</td>
        </tr>
        <tr>
          <td><code>blkio</code></td>
          <td>Limits block device I/O</td>
        </tr>
        <tr>
          <td><code>devices</code></td>
          <td>Controls access to devices</td>
        </tr>
        <tr>
          <td><code>freezer</code></td>
          <td>Suspends/resumes execution of tasks</td>
        </tr>
        <tr>
          <td><code>net_cls</code></td>
          <td>Tags packets for traffic shaping</td>
        </tr>
        <tr>
          <td><code>ns</code></td>
          <td>Manages namespace access (rare)</td>
        </tr>
      </tbody>
    </table>
    <h5 id="-filesystem-layout"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-filesystem-layout"><span class="octicon octicon-link"></span></a>üìÇ Filesystem Layout</h5>
    <p>cgroups are exposed through the virtual filesystem under /sys/fs/cgroup.</p>
    <p>Depending on the version:</p>
    <ul>
      <li><strong>cgroups v1</strong>: separate hierarchies for each controller (e.g., memory, cpu, etc.)</li>
      <li><strong>cgroups v2</strong>: unified hierarchy under a single mount point</li>
    </ul>
    <p>Mounted under:</p>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">/sys/fs/cgroup/
</span></code><div onclick="copied(this)" data-code="/sys/fs/cgroup/
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>Typical cgroups v1 hierarchy:</p>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">/sys/fs/cgroup/
</span><span class="code-line line-number" line="2">‚îú‚îÄ‚îÄ memory/
</span><span class="code-line line-number" line="3">‚îÇ   ‚îú‚îÄ‚îÄ mygroup/
</span><span class="code-line line-number" line="4">‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tasks
</span><span class="code-line line-number" line="5">‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ memory.limit_in_bytes
</span><span class="code-line line-number" line="6">‚îú‚îÄ‚îÄ cpu/
</span><span class="code-line line-number" line="7">‚îÇ   ‚îî‚îÄ‚îÄ mygroup/
</span><span class="code-line line-number" line="8">‚îî‚îÄ‚îÄ <span class="token punctuation">..</span>.
</span></code><div onclick="copied(this)" data-code="/sys/fs/cgroup/
‚îú‚îÄ‚îÄ memory/
‚îÇ   ‚îú‚îÄ‚îÄ mygroup/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tasks
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ memory.limit_in_bytes
‚îú‚îÄ‚îÄ cpu/
‚îÇ   ‚îî‚îÄ‚îÄ mygroup/
‚îî‚îÄ‚îÄ ...
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>In cgroups v2, all resources are managed under a unified hierarchy:</p>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">/sys/fs/cgroup/
</span><span class="code-line line-number" line="2">‚îú‚îÄ‚îÄ cgroup.procs
</span><span class="code-line line-number" line="3">‚îú‚îÄ‚îÄ cgroup.controllers
</span><span class="code-line line-number" line="4">‚îú‚îÄ‚îÄ memory.max
</span><span class="code-line line-number" line="5">‚îú‚îÄ‚îÄ cpu.max
</span><span class="code-line line-number" line="6">‚îî‚îÄ‚îÄ <span class="token punctuation">..</span>.
</span></code><div onclick="copied(this)" data-code="/sys/fs/cgroup/
‚îú‚îÄ‚îÄ cgroup.procs
‚îú‚îÄ‚îÄ cgroup.controllers
‚îú‚îÄ‚îÄ memory.max
‚îú‚îÄ‚îÄ cpu.max
‚îî‚îÄ‚îÄ ...
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-common-usage-v1-and-v2-examples"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-common-usage-v1-and-v2-examples"><span class="octicon octicon-link"></span></a>üß™ Common Usage (v1 and v2 examples)</h5>
    <p>v1 ‚Äì Create and assign memory limit:</p>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Mount memory controller (if needed)</span>
</span><span class="code-line line-number" line="2"><span class="token function">mount</span> <span class="token parameter variable">-t</span> cgroup <span class="token parameter variable">-o</span> memory none /sys/fs/cgroup/memory
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># Create group</span>
</span><span class="code-line line-number" line="5"><span class="token function">mkdir</span> /sys/fs/cgroup/memory/mygroup
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token comment"># Set memory limit (100 MB)</span>
</span><span class="code-line line-number" line="8"><span class="token builtin class-name">echo</span> <span class="token number">104857600</span> <span class="token operator">|</span> <span class="token function">tee</span> /sys/fs/cgroup/memory/mygroup/memory.limit_in_bytes
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10"><span class="token comment"># Assign a process (e.g., current shell)</span>
</span><span class="code-line line-number" line="11"><span class="token builtin class-name">echo</span> <span class="token variable">$$</span> <span class="token operator">|</span> <span class="token function">tee</span> /sys/fs/cgroup/memory/mygroup/tasks
</span></code><div onclick="copied(this)" data-code="# Mount memory controller (if needed)
mount -t cgroup -o memory none /sys/fs/cgroup/memory

# Create group
mkdir /sys/fs/cgroup/memory/mygroup

# Set memory limit (100 MB)
echo 104857600 | tee /sys/fs/cgroup/memory/mygroup/memory.limit_in_bytes

# Assign a process (e.g., current shell)
echo $$ | tee /sys/fs/cgroup/memory/mygroup/tasks
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>v2 ‚Äì Unified hierarchy:</p>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Create subgroup</span>
</span><span class="code-line line-number" line="2"><span class="token function">mkdir</span> /sys/fs/cgroup/mygroup
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># Enable controllers</span>
</span><span class="code-line line-number" line="5"><span class="token builtin class-name">echo</span> +memory +cpu <span class="token operator">></span> /sys/fs/cgroup/cgroup.subtree_control
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token comment"># Move shell into group</span>
</span><span class="code-line line-number" line="8"><span class="token builtin class-name">echo</span> <span class="token variable">$$</span> <span class="token operator">></span> /sys/fs/cgroup/mygroup/cgroup.procs
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10"><span class="token comment"># Set limits</span>
</span><span class="code-line line-number" line="11"><span class="token builtin class-name">echo</span> <span class="token number">104857600</span> <span class="token operator">></span> /sys/fs/cgroup/mygroup/memory.max
</span><span class="code-line line-number" line="12"><span class="token builtin class-name">echo</span> <span class="token string">"50000 100000"</span> <span class="token operator">></span> /sys/fs/cgroup/mygroup/cpu.max  <span class="token comment"># 50ms quota per 100ms period</span>
</span></code><div onclick="copied(this)" data-code="# Create subgroup
mkdir /sys/fs/cgroup/mygroup

# Enable controllers
echo +memory +cpu > /sys/fs/cgroup/cgroup.subtree_control

# Move shell into group
echo $$ > /sys/fs/cgroup/mygroup/cgroup.procs

# Set limits
echo 104857600 > /sys/fs/cgroup/mygroup/memory.max
echo &#x22;50000 100000&#x22; > /sys/fs/cgroup/mygroup/cpu.max  # 50ms quota per 100ms period
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>üß≠ Process &#x26; Group Inspection</p>
    <table>
      <thead>
        <tr>
          <th>Command</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>cat /proc/self/cgroup</code></td>
          <td>Shows current cgroup membership</td>
        </tr>
        <tr>
          <td><code>cat /proc/PID/cgroup</code></td>
          <td>cgroup of another process</td>
        </tr>
        <tr>
          <td><code>cat /proc/PID/status</code></td>
          <td>Memory and cgroup info</td>
        </tr>
        <tr>
          <td><code>ps -o pid,cmd,cgroup</code></td>
          <td>Show process-to-cgroup mapping</td>
        </tr>
      </tbody>
    </table>
    <h5 id="-usage-in-containers"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-usage-in-containers"><span class="octicon octicon-link"></span></a>üì¶ Usage in containers</h5>
    <p>container engines like Docker, Podman, and containerd delegate resource control to cgroups (via runc or crun), allowing:</p>
    <ul>
      <li>Per-container CPU and memory limits</li>
      <li>Fine-grained control over blkio and devices</li>
      <li>Real-time resource accounting</li>
    </ul>
    <p>Docker example:</p>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token function">docker</span> run <span class="token parameter variable">--memory</span><span class="token operator">=</span>256m <span class="token parameter variable">--cpus</span><span class="token operator">=</span><span class="token number">1</span> busybox
</span></code><div onclick="copied(this)" data-code="docker run --memory=256m --cpus=1 busybox
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>Behind the scenes, this creates cgroup rules for memory and CPU limits for the container process.</p>
    <h5 id="-concepts-summary"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-concepts-summary"><span class="octicon octicon-link"></span></a>üß† Concepts Summary</h5>
    <table>
      <thead>
        <tr>
          <th>Concept</th>
          <th>Explanation</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Controllers</strong></td>
          <td>Modules like <code>cpu</code>, <code>memory</code>, <code>blkio</code>, etc. apply limits and rules</td>
        </tr>
        <tr>
          <td><strong>Tasks</strong></td>
          <td>PIDs (processes) assigned to the control group</td>
        </tr>
        <tr>
          <td><strong>Hierarchy</strong></td>
          <td>Cgroups are structured in a parent-child tree</td>
        </tr>
        <tr>
          <td><strong>Delegation</strong></td>
          <td>Systemd and user services may manage subtrees of cgroups</td>
        </tr>
      </tbody>
    </table>
    <h5 id="-lab-cgroups"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-lab-cgroups"><span class="octicon octicon-link"></span></a>üß™ Lab Cgroups</h5>
    <p>Use this script for lab: <a href="scripts/container/cgroups.sh">cgroups.sh</a></p>
    <p><a href="https://asciinema.org/a/WbudWJpHKPzBWMh8CGRxCIpZf"><img src="https://asciinema.org/a/WbudWJpHKPzBWMh8CGRxCIpZf.svg" alt="asciicast"></a></p>
    <hr>
    <h4 id="Ô∏è-understanding-capabilities"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-understanding-capabilities"><span class="octicon octicon-link"></span></a>üõ°Ô∏è Understanding Capabilities</h4>
    <p>‚ùì What Are Linux Capabilities?</p>
    <p>Traditionally in Linux, the root user has unrestricted access to the system. Linux capabilities were introduced to break down these all-powerful privileges into smaller, discrete permissions, allowing processes to perform specific privileged operations without requiring full root access.</p>
    <p>This enhances system security by enforcing the principle of least privilege.</p>
    <table>
      <thead>
        <tr>
          <th>üîê Capability</th>
          <th>üìã Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>CAP_CHOWN</code></td>
          <td>Change file owner regardless of permissions</td>
        </tr>
        <tr>
          <td><code>CAP_NET_BIND_SERVICE</code></td>
          <td>Bind to ports below 1024 (e.g., 80, 443)</td>
        </tr>
        <tr>
          <td><code>CAP_SYS_TIME</code></td>
          <td>Set system clock</td>
        </tr>
        <tr>
          <td><code>CAP_SYS_ADMIN</code></td>
          <td>‚ö†Ô∏è Very powerful ‚Äì includes mount, BPF, and more</td>
        </tr>
        <tr>
          <td><code>CAP_NET_RAW</code></td>
          <td>Use raw sockets (e.g., ping, traceroute)</td>
        </tr>
        <tr>
          <td><code>CAP_SYS_PTRACE</code></td>
          <td>Trace other processes (debugging)</td>
        </tr>
        <tr>
          <td><code>CAP_KILL</code></td>
          <td>Send signals to any process</td>
        </tr>
        <tr>
          <td><code>CAP_DAC_OVERRIDE</code></td>
          <td>Modify files and directories without permission</td>
        </tr>
        <tr>
          <td><code>CAP_SETUID</code></td>
          <td>Change user ID (UID) of the process</td>
        </tr>
        <tr>
          <td><code>CAP_NET_ADMIN</code></td>
          <td>Manage network interfaces, routing, etc.</td>
        </tr>
      </tbody>
    </table>
    <p>üîê Some Linux Capabilities Types</p>
    <table>
      <thead>
        <tr>
          <th>Capability Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>CapInh (Inherited)</strong></td>
          <td>Capabilities inherited from the parent process.</td>
        </tr>
        <tr>
          <td><strong>CapPrm (Permitted)</strong></td>
          <td>Capabilities that the process is allowed to have.</td>
        </tr>
        <tr>
          <td><strong>CapEff (Effective)</strong></td>
          <td>Capabilities that the process is currently using.</td>
        </tr>
        <tr>
          <td><strong>CapBnd (Bounding)</strong></td>
          <td>Restricts the maximum set of effective capabilities a process can obtain.</td>
        </tr>
        <tr>
          <td><strong>CapAmb (Ambient)</strong></td>
          <td>Allows a process to explicitly define its own effective capabilities.</td>
        </tr>
      </tbody>
    </table>
    <p>
      üì¶ Capabilities in containers and Pods
      containers typically do not run as full root, but instead receive a limited set of capabilities by default depending on the runtime.
    </p>
    <p>Capabilities can be added or dropped in Kubernetes using the securityContext.</p>
    <p>üìÑ Kubernetes example:</p>
    <pre class="language-yaml"><code class="language-yaml code-highlight"><span class="code-line line-number" line="1"><span class="token key atrule">securityContext</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="2">  <span class="token key atrule">capabilities</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="3">    <span class="token key atrule">drop</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"ALL"</span><span class="token punctuation">]</span>
</span><span class="code-line line-number" line="4">    <span class="token key atrule">add</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"NET_BIND_SERVICE"</span><span class="token punctuation">]</span>
</span></code><div onclick="copied(this)" data-code="securityContext:
  capabilities:
    drop: [&#x22;ALL&#x22;]
    add: [&#x22;NET_BIND_SERVICE&#x22;]
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>üîê This ensures the container starts with zero privileges and receives only what is needed.</p>
    <h5 id="-lab-capabilities"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-lab-capabilities"><span class="octicon octicon-link"></span></a>üß™ Lab Capabilities</h5>
    <p>Use this script for lab: <a href="scripts/container/capabilities.sh">capabilities.sh</a></p>
    <p><a href="https://asciinema.org/a/kCiUGvY0YGA5Mdzbj1NSdfLAx"><img src="https://asciinema.org/a/kCiUGvY0YGA5Mdzbj1NSdfLAx.svg" alt="asciicast"></a></p>
    <h4 id="Ô∏è-seccomp-secure-computing-mode"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-seccomp-secure-computing-mode"><span class="octicon octicon-link"></span></a>üõ°Ô∏è Seccomp (Secure Computing Mode)</h4>
    <p><strong>What is it?</strong></p>
    <ul>
      <li>A Linux kernel feature for restricting which syscalls (system calls) a process can use.</li>
      <li>Commonly used in containers (like Docker), browsers, sandboxes, etc.</li>
    </ul>
    <p><strong>How does it work?</strong></p>
    <ul>
      <li>A process enables a seccomp profile/filter.</li>
      <li>The kernel blocks, logs, or kills the process if it tries forbidden syscalls.</li>
      <li>Filters are written in BPF (Berkeley Packet Filter) format.</li>
    </ul>
    <p><strong>Quick commands</strong></p>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Check support</span>
</span><span class="code-line line-number" line="2"><span class="token function">docker</span> info <span class="token operator">|</span> <span class="token function">grep</span> Seccomp
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># Disable for a container:</span>
</span><span class="code-line line-number" line="5"><span class="token function">docker</span> run --security-opt <span class="token assign-left variable">seccomp</span><span class="token operator">=</span>unconfined <span class="token punctuation">..</span>.
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token comment"># Inspect running process:</span>
</span><span class="code-line line-number" line="8"><span class="token function">grep</span> Seccomp /proc/<span class="token variable">$$</span>/status
</span></code><div onclick="copied(this)" data-code="# Check support
docker info | grep Seccomp

# Disable for a container:
docker run --security-opt seccomp=unconfined ...

# Inspect running process:
grep Seccomp /proc/$$/status
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p><strong>Tools</strong></p>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># for analyzing</span>
</span><span class="code-line line-number" line="2">seccomp-tools 
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># Profiles</span>
</span><span class="code-line line-number" line="5">/etc/docker/seccomp.json
</span></code><div onclick="copied(this)" data-code="# for analyzing
seccomp-tools 

# Profiles
/etc/docker/seccomp.json
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="apparmor"><a class="anchor" aria-hidden="true" tabindex="-1" href="#apparmor"><span class="octicon octicon-link"></span></a>ü¶∫AppArmor</h4>
    <p><strong>What is it?</strong></p>
    <ul>
      <li>A Mandatory Access Control (MAC) system for restricting what specific programs can access.</li>
      <li>Profiles are text-based, path-oriented, easy to read and edit.</li>
    </ul>
    <p><strong>How does it work?</strong></p>
    <ul>
      <li>Each binary can have a profile that defines its allowed files, network, and capabilities‚Äîeven as root!</li>
      <li>Easy to switch between complain, enforce, and disabled modes.</li>
    </ul>
    <p><strong>Quick commands:</strong></p>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment">#Status</span>
</span><span class="code-line line-number" line="2">aa-status
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># Put a program in enforce mode</span>
</span><span class="code-line line-number" line="5"><span class="token function">sudo</span> aa-enforce /etc/apparmor.d/usr.bin.foo
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token comment"># Profiles</span>
</span><span class="code-line line-number" line="8">location: /etc/apparmor.d/
</span></code><div onclick="copied(this)" data-code="#Status
aa-status

# Put a program in enforce mode
sudo aa-enforce /etc/apparmor.d/usr.bin.foo

# Profiles
location: /etc/apparmor.d/
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p><strong>Tools:</strong></p>
    <p>aa-genprof, aa-logprof for generating/updating profiles</p>
    <p>Logs</p>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">/var/log/syslog <span class="token punctuation">(</span>search <span class="token keyword">for</span> apparmor<span class="token punctuation">)</span>
</span></code><div onclick="copied(this)" data-code="/var/log/syslog (search for apparmor)
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="selinux-security-enhanced-linux"><a class="anchor" aria-hidden="true" tabindex="-1" href="#selinux-security-enhanced-linux"><span class="octicon octicon-link"></span></a>üîíSELinux (Security-Enhanced Linux)</h4>
    <p><strong>What is it?</strong></p>
    <ul>
      <li>A very powerful MAC system for controlling access to everything: files, processes, users, ports, networks, and more.</li>
      <li>Uses labels (contexts) and detailed policies.</li>
    </ul>
    <p><strong>How does it work?</strong></p>
    <ul>
      <li>Everything (process, file, port, etc.) gets a security context.</li>
      <li>Kernel checks every action against policy rules.</li>
    </ul>
    <p><strong>Quick commands:</strong></p>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment">#Status</span>
</span><span class="code-line line-number" line="2">sestatus
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment">#Set to enforcing/permissive:</span>
</span><span class="code-line line-number" line="5">setenforce <span class="token number">1</span>  <span class="token comment"># Enforcing</span>
</span><span class="code-line line-number" line="6">setenforce <span class="token number">0</span>  <span class="token comment"># Permissive</span>
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8"><span class="token comment">#List security contexts:</span>
</span><span class="code-line line-number" line="9"><span class="token function">ls</span> <span class="token parameter variable">-Z</span>  <span class="token comment"># Files</span>
</span><span class="code-line line-number" line="10"><span class="token function">ps</span> <span class="token parameter variable">-eZ</span> <span class="token comment"># Processes</span>
</span></code><div onclick="copied(this)" data-code="#Status
sestatus

#Set to enforcing/permissive:
setenforce 1  # Enforcing
setenforce 0  # Permissive

#List security contexts:
ls -Z  # Files
ps -eZ # Processes
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p><strong>Tools:</strong></p>
    <ul>
      <li>audit2allow, semanage, chcon (for managing policies/labels)</li>
      <li>Logs: /var/log/audit/audit.log</li>
      <li>Policies: /etc/selinux/</li>
    </ul>
    <h4 id="-summary-table-for-common-security-systems"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-summary-table-for-common-security-systems"><span class="octicon octicon-link"></span></a>üìã Summary Table for Common Security Systems</h4>
    <table>
      <thead>
        <tr>
          <th>System</th>
          <th>Focus</th>
          <th>Complexity</th>
          <th>Policy Location</th>
          <th>Typical Use</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Seccomp</td>
          <td>Kernel syscalls</td>
          <td>Medium</td>
          <td>Per-process (via code/config)</td>
          <td>Docker, sandboxes</td>
        </tr>
        <tr>
          <td>AppArmor</td>
          <td>Per-program access</td>
          <td>Easy</td>
          <td>/etc/apparmor.d/</td>
          <td>Ubuntu, Snap, SUSE</td>
        </tr>
        <tr>
          <td>SELinux</td>
          <td>Full-system MAC</td>
          <td>Advanced</td>
          <td>/etc/selinux/ + labels</td>
          <td>RHEL, Fedora, CentOS</td>
        </tr>
      </tbody>
    </table>
    <h4 id="Ô∏è-linux-container-isolation--security-comparison"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-linux-container-isolation--security-comparison"><span class="octicon octicon-link"></span></a>üóÇÔ∏è Linux container Isolation &#x26; Security Comparison</h4>
    <table>
      <thead>
        <tr>
          <th>Technology</th>
          <th>Purpose / What It Does</th>
          <th>Main Differences</th>
          <th>Example in containers</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>chroot üè†</strong></td>
          <td>Changes the apparent root directory for a process. Isolates filesystem.</td>
          <td>Simple filesystem isolation; does<strong>not</strong> restrict resources, privileges, or system calls.</td>
          <td>Docker uses <code>chroot</code> internally for building minimal images, but not for strong isolation.</td>
        </tr>
        <tr>
          <td><strong>cgroups üìä</strong></td>
          <td>Controls and limits resource usage (CPU, memory, disk I/O, etc.) per group of processes.</td>
          <td>Kernel feature; fine-grained resource control, not isolation.</td>
          <td>Docker and Kubernetes use cgroups to limit CPU/mem per container/pod.</td>
        </tr>
        <tr>
          <td><strong>namespaces üåê</strong></td>
          <td>Isolate system resources: PID, mount, UTS, network, user, IPC, time.</td>
          <td>Kernel feature; provides different kinds of isolation.</td>
          <td>Each container runs in its own set of namespaces (PID, net, mount, etc).</td>
        </tr>
        <tr>
          <td><strong>capabilities üõ°Ô∏è</strong></td>
          <td>Split root privileges into fine-grained units (e.g., net_admin, sys_admin).</td>
          <td>More granular than all-or-nothing root/non-root; can drop or grant specific privileges.</td>
          <td>Docker containers usually run with reduced capabilities (drop dangerous ones).</td>
        </tr>
        <tr>
          <td><strong>seccomp üß±</strong></td>
          <td>Filter/restrict which syscalls a process can make (whitelisting/blacklisting).</td>
          <td>Very focused: blocks kernel syscalls; cannot block all actions.</td>
          <td>Docker‚Äôs default profile blocks dangerous syscalls (e.g.,<code>ptrace</code>, <code>mount</code>).</td>
        </tr>
        <tr>
          <td><strong>AppArmor üêß</strong></td>
          <td>Mandatory Access Control (MAC) framework: restricts programs' file/network access via profiles.</td>
          <td>Profile-based, easier to manage than SELinux; less fine-grained in some cases.</td>
          <td>Ubuntu-based containers often use AppArmor for container process profiles.</td>
        </tr>
        <tr>
          <td><strong>SELinux üîí</strong></td>
          <td>More complex MAC framework, label-based, very fine-grained. Can confine users, processes, and files.</td>
          <td>More powerful and complex than AppArmor; enforced on Fedora/RHEL/CentOS.</td>
          <td>On OpenShift/Kubernetes with RHEL, SELinux labels are used to keep pods separate.</td>
        </tr>
      </tbody>
    </table>
    <p>Summary</p>
    <ul>
      <li>chroot: Basic isolation, no resource/security guarantees.</li>
      <li>cgroups: Resource control, not isolation.</li>
      <li>namespaces: Isolate "views" of kernel resources.</li>
      <li>capabilities: Fine-tune process privileges.</li>
      <li>seccomp: Restrict system call surface.</li>
      <li>AppArmor/SELinux: Limit what processes can touch, even as root (MAC).</li>
    </ul>
    <h4 id="-oci-runc-containerd-cri-cri-o--what-they-are-in-the-container-ecosystem"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-oci-runc-containerd-cri-cri-o--what-they-are-in-the-container-ecosystem"><span class="octicon octicon-link"></span></a>üß© OCI, runc, containerd, CRI, CRI-O ‚Äî What They Are in the container Ecosystem</h4>
    <h5 id="overview-and-roles"><a class="anchor" aria-hidden="true" tabindex="-1" href="#overview-and-roles"><span class="octicon octicon-link"></span></a>Overview and Roles</h5>
    <ul>
      <li>
        <p><strong>OCI (Open container Initiative) üèõÔ∏è</strong></p>
        <p>A foundation creating open standards for <strong>container images</strong> and <strong>runtimes</strong> .</p>
        <p><em>Defines how images are formatted, stored, and how containers are started/stopped (runtime spec).</em></p>
      </li>
      <li>
        <p><strong>runc ‚öôÔ∏è</strong></p>
        <p>A universal, low-level, lightweight CLI tool that can run containers according to the OCI runtime specification.</p>
        <p><em>‚ÄúThe engine‚Äù that turns an image + configuration into an actual running Linux container.</em></p>
      </li>
      <li>
        <p><strong>containerd üèãÔ∏è</strong></p>
        <p>A core container runtime daemon for managing the complete container lifecycle: <strong>pulling images, managing storage, running containers</strong> (calls runc), networking plugins, etc.</p>
        <p><em>Used by Docker, Kubernetes, nerdctl, and other tools as their main container runtime backend.</em></p>
      </li>
      <li>
        <p><strong>CRI (container Runtime Interface) üîå</strong></p>
        <p>A Kubernetes-specific gRPC API to connect Kubernetes with container runtimes.</p>
        <p><em>Not used outside Kubernetes, but enables K8s to talk to containerd, CRI-O, etc.</em></p>
      </li>
      <li>
        <p><strong>CRI-O ü•§</strong></p>
        <p>A lightweight, Kubernetes-focused runtime that <strong>only</strong> runs OCI containers, using runc under the hood.</p>
        <p><em>Mostly used in Kubernetes, but demonstrates how to build a minimal container runtime focused on open standards.</em></p>
      </li>
    </ul>
    <h5 id="Ô∏è-comparison-table-oci-runc-containerd-cri-cri-o"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-comparison-table-oci-runc-containerd-cri-cri-o"><span class="octicon octicon-link"></span></a>üè∑Ô∏è Comparison Table: OCI, runc, containerd, CRI, CRI-O</h5>
    <table>
      <thead>
        <tr>
          <th>Component</th>
          <th>Emoji</th>
          <th>What Is It?</th>
          <th>Who Uses It?</th>
          <th>Example Usage</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>OCI</strong></td>
          <td>üèõÔ∏è</td>
          <td>Standards/specifications</td>
          <td>Docker, Podman, CRI-O, containerd, runc</td>
          <td>Ensures images/containers are compatible across tools</td>
        </tr>
        <tr>
          <td><strong>runc</strong></td>
          <td>‚öôÔ∏è</td>
          <td>container runtime (CLI)</td>
          <td>containerd, CRI-O, Docker, Podman</td>
          <td>Directly running a container from a bundle (e.g.<code>runc run</code>)</td>
        </tr>
        <tr>
          <td><strong>containerd</strong></td>
          <td>üèãÔ∏è</td>
          <td>container runtime daemon</td>
          <td>Docker, Kubernetes, nerdctl</td>
          <td>Handles pulling images, managing storage/network, starts containers via runc</td>
        </tr>
        <tr>
          <td><strong>CRI</strong></td>
          <td>üîå</td>
          <td>K8s runtime interface (API)</td>
          <td>Kubernetes only</td>
          <td>Lets kubelet talk to containerd/CRI-O</td>
        </tr>
        <tr>
          <td><strong>CRI-O</strong></td>
          <td>ü•§</td>
          <td>Lightweight container runtime for K8s</td>
          <td>Kubernetes, OpenShift</td>
          <td>Used as K8s container engine</td>
        </tr>
      </tbody>
    </table>
    <hr>
    <h5 id="Ô∏è-practical-examples-general-container-world"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-practical-examples-general-container-world"><span class="octicon octicon-link"></span></a>üõ†Ô∏è Practical Examples (General container World)</h5>
    <ul>
      <li>
        <p><strong>Building images:</strong></p>
        <p>Any tool (Docker, Podman, Buildah) can produce images following the <strong>OCI Image Spec</strong> so they‚Äôre compatible everywhere.</p>
      </li>
      <li>
        <p><strong>Running containers:</strong></p>
        <p>Both Podman and Docker ultimately use <strong>runc</strong> (via containerd or directly) to create containers.</p>
      </li>
      <li>
        <p><strong>Managing many containers:</strong></p>
        <p><strong>containerd</strong> can be used on its own (via <code>ctr</code> or <code>nerdctl</code>) or as a backend for Docker and Kubernetes.</p>
      </li>
      <li>
        <p><strong>Plug-and-play runtimes:</strong></p>
        <p>Thanks to <strong>OCI</strong> , you could swap runc for another OCI-compliant runtime (like Kata containers for VMs, gVisor for sandboxing) without changing how you build or manage images.</p>
      </li>
    </ul>
    <hr>
    <h5 id="-typical-stack"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-typical-stack"><span class="octicon octicon-link"></span></a>üö¢ Typical Stack</h5>
    <pre class="language-plaintext"><code class="language-plaintext code-highlight"><span class="code-line line-number" line="1">[User CLI / Orchestration]
</span><span class="code-line line-number" line="2">           |
</span><span class="code-line line-number" line="3">   [containerd / CRI-O]
</span><span class="code-line line-number" line="4">           |
</span><span class="code-line line-number" line="5">        [runc]
</span><span class="code-line line-number" line="6">           |
</span><span class="code-line line-number" line="7">[Linux Kernel: namespaces, cgroups, etc]
</span></code><div onclick="copied(this)" data-code="[User CLI / Orchestration]
           |
   [containerd / CRI-O]
           |
        [runc]
           |
[Linux Kernel: namespaces, cgroups, etc]
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <ul>
      <li><strong>Docker</strong> : User CLI ‚Üí containerd ‚Üí runc</li>
      <li><strong>Podman</strong> : User CLI ‚Üí runc</li>
      <li><strong>Kubernetes</strong> : kubelet (CRI) ‚Üí containerd or CRI-O ‚Üí runc</li>
    </ul>
    <hr>
    <h5 id="-summary"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-summary"><span class="octicon octicon-link"></span></a>üß† Summary</h5>
    <ul>
      <li><strong>OCI</strong> = Common language for images/runtimes (standards/specs)</li>
      <li><strong>runc</strong> = Actual tool that creates and manages container processes</li>
      <li><strong>containerd</strong> = Full-featured daemon that manages images, containers, lifecycle</li>
      <li><strong>CRI</strong> = Only for Kubernetes, to make runtimes pluggable</li>
      <li><strong>CRI-O</strong> = Lightweight runtime focused on Kubernetes, built on OCI standards and runc</li>
    </ul>
    <h5 id="-diagram-container-ecosystem"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-diagram-container-ecosystem"><span class="octicon octicon-link"></span></a>üß© Diagram: container Ecosystem</h5>
    <pre class="language-mermaid"><code class="language-mermaid code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">graph</span> TD
</span><span class="code-line line-number" line="2">    <span class="token keyword">subgraph</span> OCI_Standards
</span><span class="code-line line-number" line="3">        OCI1<span class="token text string">["OCI Image Spec"]</span>
</span><span class="code-line line-number" line="4">        OCI2<span class="token text string">["OCI Runtime Spec"]</span>
</span><span class="code-line line-number" line="5">    <span class="token keyword">end</span>
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7">    <span class="token keyword">subgraph</span> Orchestration_CLI
</span><span class="code-line line-number" line="8">        Docker<span class="token text string">["Docker CLI"]</span>
</span><span class="code-line line-number" line="9">        Podman<span class="token text string">["Podman CLI"]</span>
</span><span class="code-line line-number" line="10">        Kubelet<span class="token text string">["Kubelet"]</span>
</span><span class="code-line line-number" line="11">        Nerdctl<span class="token text string">["nerdctl CLI"]</span>
</span><span class="code-line line-number" line="12">    <span class="token keyword">end</span>
</span><span class="code-line line-number" line="13">
</span><span class="code-line line-number" line="14">    <span class="token keyword">subgraph</span> container_Runtimes
</span><span class="code-line line-number" line="15">        containerd<span class="token text string">["containerd"]</span>
</span><span class="code-line line-number" line="16">        crio<span class="token text string">["CRI-O"]</span>
</span><span class="code-line line-number" line="17">    <span class="token keyword">end</span>
</span><span class="code-line line-number" line="18">
</span><span class="code-line line-number" line="19">    runc<span class="token text string">["runc"]</span>
</span><span class="code-line line-number" line="20">
</span><span class="code-line line-number" line="21">    Kernel<span class="token text string">["Linux Kernel(namespaces, cgroups, seccomp, etc)"]</span>
</span><span class="code-line line-number" line="22">
</span><span class="code-line line-number" line="23">    <span class="token comment">%% Connections</span>
</span><span class="code-line line-number" line="24">    Docker <span class="token arrow operator">--></span> containerd
</span><span class="code-line line-number" line="25">    Podman <span class="token arrow operator">--></span> runc
</span><span class="code-line line-number" line="26">    Nerdctl <span class="token arrow operator">--></span> containerd
</span><span class="code-line line-number" line="27">    Kubelet <span class="token arrow operator">--></span> CRI<span class="token text string">[CRI API]</span>
</span><span class="code-line line-number" line="28">    CRI <span class="token arrow operator">--></span> containerd
</span><span class="code-line line-number" line="29">    CRI <span class="token arrow operator">--></span> crio
</span><span class="code-line line-number" line="30">    containerd <span class="token arrow operator">--></span> runc
</span><span class="code-line line-number" line="31">    crio <span class="token arrow operator">--></span> runc
</span><span class="code-line line-number" line="32">    runc <span class="token arrow operator">--></span> Kernel
</span><span class="code-line line-number" line="33">
</span><span class="code-line line-number" line="34">    OCI1 <span class="token arrow operator">-.-></span> containerd
</span><span class="code-line line-number" line="35">    OCI1 <span class="token arrow operator">-.-></span> crio
</span><span class="code-line line-number" line="36">    OCI2 <span class="token arrow operator">-.-></span> runc
</span></code><div onclick="copied(this)" data-code="graph TD
    subgraph OCI_Standards
        OCI1[&#x22;OCI Image Spec&#x22;]
        OCI2[&#x22;OCI Runtime Spec&#x22;]
    end

    subgraph Orchestration_CLI
        Docker[&#x22;Docker CLI&#x22;]
        Podman[&#x22;Podman CLI&#x22;]
        Kubelet[&#x22;Kubelet&#x22;]
        Nerdctl[&#x22;nerdctl CLI&#x22;]
    end

    subgraph container_Runtimes
        containerd[&#x22;containerd&#x22;]
        crio[&#x22;CRI-O&#x22;]
    end

    runc[&#x22;runc&#x22;]

    Kernel[&#x22;Linux Kernel(namespaces, cgroups, seccomp, etc)&#x22;]

    %% Connections
    Docker --> containerd
    Podman --> runc
    Nerdctl --> containerd
    Kubelet --> CRI[CRI API]
    CRI --> containerd
    CRI --> crio
    containerd --> runc
    crio --> runc
    runc --> Kernel

    OCI1 -.-> containerd
    OCI1 -.-> crio
    OCI2 -.-> runc
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-lab-runc"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-lab-runc"><span class="octicon octicon-link"></span></a>üß™ lab runc</h5>
    <p>For runc lab, you can use this script: <a href="scripts/container/runc.sh">runc.sh</a></p>
    <p><a href="https://asciinema.org/a/UDVnhKSxPFRXDcwg0HYFkZdlX"><img src="https://asciinema.org/a/UDVnhKSxPFRXDcwg0HYFkZdlX.svg" alt="asciicast"></a></p>
    <h5 id="-lab-containerd"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-lab-containerd"><span class="octicon octicon-link"></span></a>üß™ lab containerd</h5>
    <p>For containerd, you can use this script: <a href="scripts/container/container.sh">containerd.sh</a></p>
    <p><a href="https://asciinema.org/a/fCJsiwcL2ePneQX1aafITtoGM"><img src="https://asciinema.org/a/fCJsiwcL2ePneQX1aafITtoGM.svg" alt="asciicast"></a></p>
    <hr>
    <h4 id="-podman-buildah-skopeo-openvz-crun--kata-containers--fast-track"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-podman-buildah-skopeo-openvz-crun--kata-containers--fast-track"><span class="octicon octicon-link"></span></a>üöÄ Podman, Buildah, Skopeo, OpenVZ, crun &#x26; Kata containers ‚Äì Fast Track</h4>
    <hr>
    <h5 id="-podman"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-podman"><span class="octicon octicon-link"></span></a>üê≥ <strong>Podman</strong></h5>
    <ul>
      <li><strong>What is it?</strong> A container manager compatible with Docker CLI, but <strong>daemonless</strong> and can run <strong>rootless</strong> .</li>
      <li><strong>Use:</strong> Create, run, stop, and inspect containers and pods.</li>
      <li><strong>Highlights:</strong> No central daemon, safer for multi-user, integrates with systemd.</li>
      <li><a href="">More info</a></li>
    </ul>
    <hr>
    <h5 id="-buildah"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-buildah"><span class="octicon octicon-link"></span></a>üì¶ <strong>Buildah</strong></h5>
    <ul>
      <li><strong>What is it?</strong> Tool to <strong>build and manipulate container images</strong> (OCI/Docker) without a daemon.</li>
      <li><strong>Use:</strong> Building images in CI/CD pipelines or scripting.</li>
      <li><strong>Highlights:</strong> Lightweight, rootless support, used by Podman under the hood.</li>
      <li><a href="https://www.redhat.com/en/topics/containers/what-is-buildah">More info</a></li>
    </ul>
    <hr>
    <h5 id="-skopeo"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-skopeo"><span class="octicon octicon-link"></span></a>üî≠ <strong>Skopeo</strong></h5>
    <ul>
      <li><strong>What is it?</strong> Utility to <strong>inspect, copy, and move container images</strong> between registries <strong>without pulling or running</strong> them.</li>
      <li><strong>Use:</strong> Move images, check signatures and metadata.</li>
      <li><strong>Highlights:</strong> No daemon, ideal for automation and security.</li>
      <li><a href="">More info</a></li>
    </ul>
    <hr>
    <h5 id="-openvz"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-openvz"><span class="octicon octicon-link"></span></a>üè¢ <strong>OpenVZ</strong></h5>
    <ul>
      <li><strong>What is it?</strong> <strong>container-based virtualization</strong> solution for Linux (pre-dating modern container tools).</li>
      <li><strong>Use:</strong> Lightweight VPS (virtual private servers) sharing the same kernel.</li>
      <li><strong>Highlights:</strong> Very efficient, but less isolated than VM (shares kernel).</li>
      <li><a href="https://en.wikipedia.org/wiki/OpenVZ">More info</a></li>
    </ul>
    <hr>
    <h5 id="-crun"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-crun"><span class="octicon octicon-link"></span></a>‚ö° <strong>crun</strong></h5>
    <ul>
      <li><strong>What is it?</strong> Ultra-fast, minimal OCI runtime for containers, written in C (not Go).</li>
      <li><strong>Use:</strong> Executes containers with minimal overhead.</li>
      <li><strong>Highlights:</strong> Faster and lighter than runc, default for Podman on some systems.</li>
      <li><a href="https://www.redhat.com/sysadmin/introduction-crun">More info</a></li>
    </ul>
    <hr>
    <h5 id="Ô∏è-kata-containers"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-kata-containers"><span class="octicon octicon-link"></span></a>üõ°Ô∏è <strong>Kata containers</strong></h5>
    <ul>
      <li><strong>What is it?</strong> Open source project combining containers and VMs: each container runs in a lightweight micro-VM.</li>
      <li><strong>Use:</strong> Strong isolation for sensitive workloads or multi-tenant environments.</li>
      <li><strong>Highlights:</strong> VM-grade security, near-container performance.</li>
      <li><a href="https://katacontainers.io/">More info</a></li>
    </ul>
    <hr>
    <h5 id="-comparison-table"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-comparison-table"><span class="octicon octicon-link"></span></a>üìä <strong>Comparison Table</strong></h5>
    <table>
      <thead>
        <tr>
          <th>Project</th>
          <th>Category</th>
          <th>Isolation</th>
          <th>Daemon?</th>
          <th>Main Use</th>
          <th>Rootless</th>
          <th>Notes</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Podman</strong></td>
          <td>Orchestration</td>
          <td>container</td>
          <td>No</td>
          <td>Manage containers</td>
          <td>Yes</td>
          <td>Docker-like CLI</td>
        </tr>
        <tr>
          <td><strong>Buildah</strong></td>
          <td>Build</td>
          <td>N/A</td>
          <td>No</td>
          <td>Build images</td>
          <td>Yes</td>
          <td>For CI/CD, no container run</td>
        </tr>
        <tr>
          <td><strong>Skopeo</strong></td>
          <td>Image transfer</td>
          <td>N/A</td>
          <td>No</td>
          <td>Move/check images</td>
          <td>Yes</td>
          <td>No container execution</td>
        </tr>
        <tr>
          <td><strong>OpenVZ</strong></td>
          <td>Virtualization</td>
          <td>container/VPS</td>
          <td>Yes</td>
          <td>Lightweight VPS</td>
          <td>No</td>
          <td>Kernel shared, legacy tech</td>
        </tr>
        <tr>
          <td><strong>crun</strong></td>
          <td>OCI Runtime</td>
          <td>container</td>
          <td>No</td>
          <td>Fast container runtime</td>
          <td>Yes</td>
          <td>Faster than runc</td>
        </tr>
        <tr>
          <td><strong>Kata containers</strong></td>
          <td>Runtime/VM</td>
          <td>MicroVM per container</td>
          <td>No</td>
          <td>Strong isolation</td>
          <td>Yes</td>
          <td>VM-level security</td>
        </tr>
      </tbody>
    </table>
    <hr>
    <h5 id="Ô∏è-quick-recap"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-quick-recap"><span class="octicon octicon-link"></span></a>‚òëÔ∏è <strong>Quick Recap</strong></h5>
    <ul>
      <li><strong>Podman:</strong> Modern, daemonless Docker alternative.</li>
      <li><strong>Buildah:</strong> Build images, doesn't run containers.</li>
      <li><strong>Skopeo:</strong> Moves/inspects images, never runs them.</li>
      <li><strong>OpenVZ:</strong> Legacy container-based VPS.</li>
      <li><strong>crun:</strong> Super fast, lightweight OCI runtime.</li>
      <li><strong>Kata:</strong> containers with VM-level isolation.</li>
    </ul>
    <h4 id="Ô∏è-3521-important-commands"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-3521-important-commands"><span class="octicon octicon-link"></span></a>üõ†Ô∏è 352.1 Important Commands</h4>
    <h5 id="-unshare"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-unshare"><span class="octicon octicon-link"></span></a>üîó unshare</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># create a new namespaces and run a command in it</span>
</span><span class="code-line line-number" line="2">unshare <span class="token parameter variable">--mount</span> <span class="token parameter variable">--uts</span> <span class="token parameter variable">--ipc</span> <span class="token parameter variable">--user</span> <span class="token parameter variable">--pid</span> <span class="token parameter variable">--net</span>  --map-root-user --mount-proc <span class="token parameter variable">--fork</span> <span class="token function">chroot</span> ~vagrant/debian <span class="token function">bash</span>
</span><span class="code-line line-number" line="3"><span class="token comment"># mount /proc for test</span>
</span><span class="code-line line-number" line="4"><span class="token comment">#mount -t proc proc /proc</span>
</span><span class="code-line line-number" line="5"><span class="token comment">#ps -aux</span>
</span><span class="code-line line-number" line="6"><span class="token comment">#ip addr show</span>
</span><span class="code-line line-number" line="7"><span class="token comment">#umount /proc</span>
</span></code><div onclick="copied(this)" data-code="# create a new namespaces and run a command in it
unshare --mount --uts --ipc --user --pid --net  --map-root-user --mount-proc --fork chroot ~vagrant/debian bash
# mount /proc for test
#mount -t proc proc /proc
#ps -aux
#ip addr show
#umount /proc
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-lsns"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-lsns"><span class="octicon octicon-link"></span></a>üîç lsns</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># show all namespaces</span>
</span><span class="code-line line-number" line="2">lsns
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># show only pid namespace</span>
</span><span class="code-line line-number" line="5">lsns <span class="token parameter variable">-p</span> <span class="token operator">&#x3C;</span>pid<span class="token operator">></span>
</span><span class="code-line line-number" line="6">lsns <span class="token parameter variable">-p</span> <span class="token number">3669</span>
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8"><span class="token function">ls</span> <span class="token parameter variable">-l</span> /proc/<span class="token operator">&#x3C;</span>pid<span class="token operator">></span>/ns
</span><span class="code-line line-number" line="9"><span class="token function">ls</span> <span class="token parameter variable">-l</span> /proc/3669/ns
</span><span class="code-line line-number" line="10">
</span><span class="code-line line-number" line="11"><span class="token function">ps</span> <span class="token parameter variable">-o</span> pid,pidns,netns,ipcns,utsns,userns,args <span class="token parameter variable">-p</span> <span class="token operator">&#x3C;</span>PID<span class="token operator">></span>
</span><span class="code-line line-number" line="12"><span class="token function">ps</span> <span class="token parameter variable">-o</span> pid,pidns,netns,ipcns,utsns,userns,args <span class="token parameter variable">-p</span> <span class="token number">3669</span>
</span></code><div onclick="copied(this)" data-code="# show all namespaces
lsns

# show only pid namespace
lsns -p <pid>
lsns -p 3669

ls -l /proc/<pid>/ns
ls -l /proc/3669/ns

ps -o pid,pidns,netns,ipcns,utsns,userns,args -p <PID>
ps -o pid,pidns,netns,ipcns,utsns,userns,args -p 3669
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-nsenter"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-nsenter"><span class="octicon octicon-link"></span></a>üö™ nsenter</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># get PID docker container</span>
</span><span class="code-line line-number" line="2"><span class="token comment"># execute a command in namespace Network</span>
</span><span class="code-line line-number" line="3"><span class="token function">sudo</span> nsenter <span class="token parameter variable">-t</span> <span class="token number">3669</span> <span class="token parameter variable">-n</span> <span class="token function">ip</span> <span class="token function">link</span> show
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token comment"># execute a command in namespace UTS</span>
</span><span class="code-line line-number" line="6"><span class="token function">sudo</span> nsenter <span class="token parameter variable">-t</span> <span class="token number">3669</span> <span class="token parameter variable">-u</span> <span class="token function">hostname</span>
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8"><span class="token comment"># execute a command in namespace mount</span>
</span><span class="code-line line-number" line="9">nsenter <span class="token parameter variable">-t</span> <span class="token number">3669</span> <span class="token parameter variable">-m</span> <span class="token function">ls</span>
</span><span class="code-line line-number" line="10">
</span><span class="code-line line-number" line="11"><span class="token comment"># execute a command in all namespaces</span>
</span><span class="code-line line-number" line="12"><span class="token function">sudo</span> nsenter <span class="token parameter variable">-t</span> <span class="token number">3669</span> <span class="token parameter variable">-a</span> <span class="token function">ps</span>
</span></code><div onclick="copied(this)" data-code="# get PID docker container
# execute a command in namespace Network
sudo nsenter -t 3669 -n ip link show

# execute a command in namespace UTS
sudo nsenter -t 3669 -u hostname

# execute a command in namespace mount
nsenter -t 3669 -m ls

# execute a command in all namespaces
sudo nsenter -t 3669 -a ps
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-2521-ip"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-2521-ip"><span class="octicon octicon-link"></span></a>üåê 252.1 ip</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># create a new network namespace</span>
</span><span class="code-line line-number" line="2"><span class="token function">sudo</span> <span class="token function">ip</span> netns <span class="token function">add</span> lxc1
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># list network list</span>
</span><span class="code-line line-number" line="5"><span class="token function">ip</span> netns list
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token comment"># exec command in network namespace</span>
</span><span class="code-line line-number" line="8"><span class="token function">sudo</span> <span class="token function">ip</span> netns <span class="token builtin class-name">exec</span> lxc1 <span class="token function">ip</span> addr show
</span></code><div onclick="copied(this)" data-code="# create a new network namespace
sudo ip netns add lxc1

# list network list
ip netns list

# exec command in network namespace
sudo ip netns exec lxc1 ip addr show
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-stat"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-stat"><span class="octicon octicon-link"></span></a>üìä stat</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># get cgroup version</span>
</span><span class="code-line line-number" line="2"><span class="token function">stat</span> <span class="token parameter variable">-fc</span> %T /sys/fs/cgroup
</span></code><div onclick="copied(this)" data-code="# get cgroup version
stat -fc %T /sys/fs/cgroup
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="Ô∏è-systemctl-and-systemd"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-systemctl-and-systemd"><span class="octicon octicon-link"></span></a>üõ†Ô∏è systemctl and systemd</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># get cgroups of system</span>
</span><span class="code-line line-number" line="2">systemctl status
</span><span class="code-line line-number" line="3">systemd-cgls
</span></code><div onclick="copied(this)" data-code="# get cgroups of system
systemctl status
systemd-cgls
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="Ô∏è-cgcreate"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-cgcreate"><span class="octicon octicon-link"></span></a>üèóÔ∏è cgcreate</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">cgcreate <span class="token parameter variable">-g</span> memory,cpu:lsf
</span></code><div onclick="copied(this)" data-code="cgcreate -g memory,cpu:lsf
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="Ô∏è-cgclassify"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-cgclassify"><span class="octicon octicon-link"></span></a>üè∑Ô∏è cgclassify</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">cgclassify <span class="token parameter variable">-g</span> memory,cpu:lsf <span class="token operator">&#x3C;</span>PID<span class="token operator">></span>
</span></code><div onclick="copied(this)" data-code="cgclassify -g memory,cpu:lsf <PID>
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="Ô∏è-pscap---list-process-capabilities"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-pscap---list-process-capabilities"><span class="octicon octicon-link"></span></a>üõ°Ô∏è pscap - List Process Capabilities</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># List capabilities of all process</span>
</span><span class="code-line line-number" line="2">pscap
</span></code><div onclick="copied(this)" data-code="# List capabilities of all process
pscap
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="Ô∏è-getcap-usrbintcpdump"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-getcap-usrbintcpdump"><span class="octicon octicon-link"></span></a>üõ°Ô∏è getcap /usr/bin/tcpdump</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">getcap /usr/bin/tcpdump
</span></code><div onclick="copied(this)" data-code="getcap /usr/bin/tcpdump
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="Ô∏è-setcap-cap_net_rawep-usrbintcpdump"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-setcap-cap_net_rawep-usrbintcpdump"><span class="octicon octicon-link"></span></a>üõ°Ô∏è setcap cap_net_raw=ep /usr/bin/tcpdump</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># add capabilities to tcpdump</span>
</span><span class="code-line line-number" line="2"><span class="token function">sudo</span> setcap <span class="token assign-left variable">cap_net_raw</span><span class="token operator">=</span>ep /usr/bin/tcpdump
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># remove capabilities from tcpdump</span>
</span><span class="code-line line-number" line="5"><span class="token function">sudo</span> setcap <span class="token parameter variable">-r</span> /usr/bin/tcpdump
</span><span class="code-line line-number" line="6"><span class="token function">sudo</span> setcap <span class="token string">''</span> /usr/bin/tcpdump
</span></code><div onclick="copied(this)" data-code="# add capabilities to tcpdump
sudo setcap cap_net_raw=ep /usr/bin/tcpdump

# remove capabilities from tcpdump
sudo setcap -r /usr/bin/tcpdump
sudo setcap &#x27;&#x27; /usr/bin/tcpdump
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="Ô∏è-check-capabilities-by-process"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-check-capabilities-by-process"><span class="octicon octicon-link"></span></a>üõ°Ô∏è check capabilities by process</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token function">grep</span> Cap /proc/<span class="token operator">&#x3C;</span>PID<span class="token operator">></span>/status
</span></code><div onclick="copied(this)" data-code="grep Cap /proc/<PID>/status
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="Ô∏è-capsh---capability-shell-wrapper"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-capsh---capability-shell-wrapper"><span class="octicon octicon-link"></span></a>üõ°Ô∏è capsh - capability shell wrapper</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># use grep Cap /proc/&#x3C;PID>/statusfor get hexadecimal value(Example CApEff=0000000000002000)</span>
</span><span class="code-line line-number" line="2">capsh <span class="token parameter variable">--decode</span><span class="token operator">=</span>0000000000002000
</span></code><div onclick="copied(this)" data-code="# use grep Cap /proc/<PID>/statusfor get hexadecimal value(Example CApEff=0000000000002000)
capsh --decode=0000000000002000
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-apparmor---kernel-enhancement-to-confine-programs-to-a-limited-set-of-resources"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-apparmor---kernel-enhancement-to-confine-programs-to-a-limited-set-of-resources"><span class="octicon octicon-link"></span></a>ü¶∫ AppArmor - kernel enhancement to confine programs to a limited set of resources</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># check AppArmor status</span>
</span><span class="code-line line-number" line="2"><span class="token function">sudo</span> aa-status
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment">#  unload all AppArmor profiles</span>
</span><span class="code-line line-number" line="5">aa-teardown
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token comment"># loads AppArmor profiles into the kernel</span>
</span><span class="code-line line-number" line="8">aaparmor_parser
</span></code><div onclick="copied(this)" data-code="# check AppArmor status
sudo aa-status

#  unload all AppArmor profiles
aa-teardown

# loads AppArmor profiles into the kernel
aaparmor_parser
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-selinux---security-enhanced-linux"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-selinux---security-enhanced-linux"><span class="octicon octicon-link"></span></a>üîí SELinux - Security-Enhanced Linux</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># check SELinux status</span>
</span><span class="code-line line-number" line="2"><span class="token function">sudo</span> sestatus
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># check SELinux mode</span>
</span><span class="code-line line-number" line="5"><span class="token function">sudo</span> getenforce 
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token comment"># set SELinux to enforcing mode</span>
</span><span class="code-line line-number" line="8"><span class="token function">sudo</span> setenforce <span class="token number">1</span>
</span></code><div onclick="copied(this)" data-code="# check SELinux status
sudo sestatus

# check SELinux mode
sudo getenforce 

# set SELinux to enforcing mode
sudo setenforce 1
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="Ô∏è-runc"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-runc"><span class="octicon octicon-link"></span></a>‚öôÔ∏è runc</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment">#create a spec file for runc</span>
</span><span class="code-line line-number" line="2">runc spec
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># run a container using runc</span>
</span><span class="code-line line-number" line="5"><span class="token function">sudo</span> runc run mycontainer
</span></code><div onclick="copied(this)" data-code="#create a spec file for runc
runc spec

# run a container using runc
sudo runc run mycontainer
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <hr>
    <p align="right">(<a href="#topic-352.1">back to sub topic 352.1</a>)</p>
    <p align="right">(<a href="#topic-352">back to topic 352</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr>
    <p><a name="topic-352.2"></a></p>
    <h3 id="-3522-lxc"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-3522-lxc"><span class="octicon octicon-link"></span></a>üì¶ 352.2 LXC</h3>
    <p><strong>Weight:</strong> 6</p>
    <p><strong>Description:</strong> Candidates should be able to use system containers using LXC and LXD. The version of LXC covered is 3.0 or higher.</p>
    <p><strong>Key Knowledge Areas:</strong></p>
    <ul>
      <li>Understand the architecture of LXC and LXD</li>
      <li>Manage LXC containers based on existing images using LXD, including networking and storage</li>
      <li>Configure LXC container properties</li>
      <li>Limit LXC container resource usage</li>
      <li>Use LXD profiles</li>
      <li>Understand LXC images</li>
      <li>Awareness of traditional LXC tools</li>
    </ul>
    <h4 id="-3522-cited-objects"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-3522-cited-objects"><span class="octicon octicon-link"></span></a>üìã 352.2 Cited Objects</h4>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">lxd
</span><span class="code-line line-number" line="2">lxc <span class="token punctuation">(</span>including relevant subcommands<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="3">/etc/lxc/
</span><span class="code-line line-number" line="4">/etc/default/lxc
</span><span class="code-line line-number" line="5">/var/log/lxc/
</span><span class="code-line line-number" line="6">/usr/share/lxc/templates
</span></code><div onclick="copied(this)" data-code="lxd
lxc (including relevant subcommands)
/etc/lxc/
/etc/default/lxc
/var/log/lxc/
/usr/share/lxc/templates
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="-lxc--lxd--the-linux-system-containers-suite"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-lxc--lxd--the-linux-system-containers-suite"><span class="octicon octicon-link"></span></a>üß© LXC &#x26; LXD ‚Äì The Linux System containers Suite</h4>
    <hr>
    <h5 id="-lxc-linux-containers"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-lxc-linux-containers"><span class="octicon octicon-link"></span></a>üì¶ LXC (Linux containers)</h5>
    <ul>
      <li>
        <p><strong>What is it?</strong></p>
        <p>The <em>core</em> userspace toolset for managing application and system containers on Linux. Think of LXC as <strong>"chroot on steroids"</strong> ‚Äì it provides lightweight process isolation using kernel features (namespaces, cgroups, AppArmor, seccomp, etc).</p>
      </li>
      <li>
        <p><strong>Use:</strong></p>
        <ul>
          <li>Run full Linux distributions as containers (not just single apps).</li>
          <li>Useful for testing, legacy apps, or simulating servers.</li>
        </ul>
      </li>
      <li>
        <p><strong>Highlights:</strong></p>
        <ul>
          <li>CLI-focused: <code>lxc-create</code>, <code>lxc-start</code>, <code>lxc-attach</code>, etc.</li>
          <li>Fine-grained control over container resources.</li>
          <li>No daemon ‚Äì runs per-container processes.</li>
        </ul>
      </li>
      <li>
        <p><strong>Best for:</strong></p>
        <p>Linux experts who want total control and ‚Äúbare-metal‚Äù feel for containers.</p>
      </li>
    </ul>
    <h5 id="-lab-lxc"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-lab-lxc"><span class="octicon octicon-link"></span></a>üß™ lab LXC</h5>
    <p>For LXC lab, you can use this script: <a href="scripts/container/lxc.sh">lxc.sh</a></p>
    <p><a href="https://asciinema.org/a/CpjDAXRnaKH5kExg9eWSBJGHI"><img src="https://asciinema.org/a/CpjDAXRnaKH5kExg9eWSBJGHI.svg" alt="asciicast"></a></p>
    <hr>
    <h5 id="-lxd"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-lxd"><span class="octicon octicon-link"></span></a>üåê LXD</h5>
    <ul>
      <li>
        <p><strong>What is it?</strong></p>
        <p><strong>LXD</strong> is a <em>next-generation</em> container and VM manager, <strong>built on top of LXC</strong> . It offers a powerful but user-friendly experience to manage containers and virtual machines via REST API, CLI, or even a Web UI.</p>
      </li>
      <li>
        <p><strong>Use:</strong></p>
        <ul>
          <li>Manage system containers and virtual machines at scale.</li>
          <li>Networked ‚Äúcontainer as a service‚Äù with easy orchestration.</li>
        </ul>
      </li>
      <li>
        <p><strong>Highlights:</strong></p>
        <ul>
          <li><strong>REST API</strong> : manage containers/VMs over the network.</li>
          <li><strong>Images:</strong> Instant deployment of many Linux distros.</li>
          <li><strong>Snapshots, storage pools, clustering, live migration.</strong></li>
          <li>Supports running unprivileged containers by default.</li>
          <li>CLI: <code>lxc launch</code>, <code>lxc exec</code>, <code>lxc snapshot</code>, etc. <em>(Yes, same prefix as LXC, but different backend!)</em></li>
        </ul>
      </li>
      <li>
        <p><strong>Best for:</strong></p>
        <p>DevOps, sysadmins, cloud-native setups, lab environments.</p>
      </li>
    </ul>
    <h5 id="-lxd-storage-feature-table-per-backend"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-lxd-storage-feature-table-per-backend"><span class="octicon octicon-link"></span></a>üìù <strong>LXD Storage: Feature Table (per backend)</strong></h5>
    <table>
      <thead>
        <tr>
          <th>Feature</th>
          <th>dir</th>
          <th>zfs</th>
          <th>btrfs</th>
          <th>lvm/lvmthin</th>
          <th>ceph/cephfs</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Snapshots</strong></td>
          <td>‚ùå</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
        </tr>
        <tr>
          <td><strong>Thin Provisioning</strong></td>
          <td>‚ùå</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>‚úÖ (lvmthin)</td>
          <td>‚úÖ</td>
        </tr>
        <tr>
          <td><strong>Resizing</strong></td>
          <td>‚ùå</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
        </tr>
        <tr>
          <td><strong>Quotas</strong></td>
          <td>‚ùå</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>‚úÖ (lvmthin)</td>
          <td>‚úÖ</td>
        </tr>
        <tr>
          <td><strong>Live Migration</strong></td>
          <td>‚ùå</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
        </tr>
        <tr>
          <td><strong>Deduplication</strong></td>
          <td>‚ùå</td>
          <td>‚úÖ</td>
          <td>‚ùå</td>
          <td>‚ùå</td>
          <td>‚úÖ (Ceph)</td>
        </tr>
        <tr>
          <td><strong>Compression</strong></td>
          <td>‚ùå</td>
          <td>‚úÖ</td>
          <td>‚úÖ</td>
          <td>‚ùå</td>
          <td>‚úÖ (Ceph)</td>
        </tr>
        <tr>
          <td><strong>Encryption</strong></td>
          <td>‚ùå</td>
          <td>‚úÖ</td>
          <td>‚ùå</td>
          <td>‚úÖ (LUKS)</td>
          <td>‚úÖ</td>
        </tr>
        <tr>
          <td><strong>Cluster/Remote</strong></td>
          <td>‚ùå</td>
          <td>‚ùå</td>
          <td>‚ùå</td>
          <td>‚ùå</td>
          <td>‚úÖ</td>
        </tr>
        <tr>
          <td><strong>Best Use Case</strong></td>
          <td>Dev</td>
          <td>Labs/Prod</td>
          <td>Labs/Prod</td>
          <td>Labs/Prod</td>
          <td>Clusters, Enterprise</td>
        </tr>
      </tbody>
    </table>
    <h5 id="-quick-lxd-storage-summary"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-quick-lxd-storage-summary"><span class="octicon octicon-link"></span></a>üîç <strong>Quick LXD Storage Summary</strong></h5>
    <ul>
      <li><strong>Storage Pools:</strong> Abstracts the backend‚Äîmultiple pools, different drivers per pool.</li>
      <li><strong>Available Drivers:</strong> dir, zfs, btrfs, lvm, lvmthin, ceph, cephfs (more via plugins).</li>
      <li><strong>Custom Volumes:</strong> Create, mount, unmount for containers/VMs.</li>
      <li><strong>Snapshots &#x26; Clones:</strong> Native, fast, supports backup/restore, copy-on-write migration.</li>
      <li><strong>Quotas &#x26; Resize:</strong> Easy live management for pools, containers, or volumes.</li>
      <li><strong>Live Migration:</strong> Move containers/VMs across hosts without downtime.</li>
      <li><strong>Security:</strong> Built-in encryption (ZFS, LVM, Ceph), ACLs, backup/restore, etc.</li>
      <li><strong>Enterprise-ready:</strong> Suits clustered and high-availability setups.</li>
    </ul>
    <hr>
    <h5 id="-lxc-vs-lxd-comparison-table"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-lxc-vs-lxd-comparison-table"><span class="octicon octicon-link"></span></a>üìä LXC vs LXD Comparison Table</h5>
    <table>
      <thead>
        <tr>
          <th>Feature</th>
          <th>üè∑Ô∏è LXC</th>
          <th>üåê LXD</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Type</strong></td>
          <td>Low-level userspace container manager</td>
          <td>High-level manager (containers + VMs)</td>
        </tr>
        <tr>
          <td><strong>Interface</strong></td>
          <td>CLI only</td>
          <td>REST API, CLI, Web UI</td>
        </tr>
        <tr>
          <td><strong>Daemon?</strong></td>
          <td>No (runs as processes)</td>
          <td>Yes (central daemon/service)</td>
        </tr>
        <tr>
          <td><strong>Orchestration</strong></td>
          <td>Manual, scriptable</td>
          <td>Built-in clustering &#x26; API</td>
        </tr>
        <tr>
          <td><strong>Images</strong></td>
          <td>Template-based</td>
          <td>Full image repository, many OSes</td>
        </tr>
        <tr>
          <td><strong>Snapshots</strong></td>
          <td>Manual</td>
          <td>Native, integrated</td>
        </tr>
        <tr>
          <td><strong>VM support</strong></td>
          <td>No</td>
          <td>Yes (QEMU/KVM)</td>
        </tr>
        <tr>
          <td><strong>Use-case</strong></td>
          <td>Fine-grained control, ‚Äúbare-metal‚Äù</td>
          <td>Scalable, user-friendly, multi-host</td>
        </tr>
        <tr>
          <td><strong>Security</strong></td>
          <td>Can be unprivileged, but DIY</td>
          <td>Default unprivileged, more isolation</td>
        </tr>
        <tr>
          <td><strong>Best for</strong></td>
          <td>Linux pros, advanced scripting</td>
          <td>DevOps, cloud, teams, self-service</td>
        </tr>
      </tbody>
    </table>
    <hr>
    <h5 id="Ô∏è-quick-recap-1"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-quick-recap-1"><span class="octicon octicon-link"></span></a>‚òëÔ∏è Quick Recap</h5>
    <ul>
      <li><strong>LXC</strong> = The low-level building blocks. Power and flexibility for <em>container purists</em> .</li>
      <li><strong>LXD</strong> = Modern, API-driven, scalable platform on top of LXC for <em>easy</em> container and VM management (single node or clusters).</li>
    </ul>
    <h5 id="Ô∏è-lxc-vs-lxd---storage-support-summary"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-lxc-vs-lxd---storage-support-summary"><span class="octicon octicon-link"></span></a>üóÉÔ∏è LXC vs LXD - Storage Support (Summary)</h5>
    <table>
      <thead>
        <tr>
          <th>Feature</th>
          <th><strong>LXC</strong></th>
          <th><strong>LXD</strong></th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Storage Backends</strong></td>
          <td>Local filesystem (default only)</td>
          <td><strong>dir</strong>(filesystem), <strong>zfs</strong> , <strong>btrfs</strong> , <strong>lvm</strong> , <strong>ceph</strong> , <strong>cephfs</strong> ,<strong>lvmthin</strong></td>
        </tr>
        <tr>
          <td><strong>Storage Pools</strong></td>
          <td>‚ùå (just local paths, no native pools)</td>
          <td>‚úÖ Multiple storage pools, each with different drivers</td>
        </tr>
        <tr>
          <td><strong>Snapshots</strong></td>
          <td>Manual/FS dependent</td>
          <td>‚úÖ Native, fast, automatic, scheduled, consistent snapshots</td>
        </tr>
        <tr>
          <td><strong>Thin Provisioning</strong></td>
          <td>‚ùå (not supported natively)</td>
          <td>‚úÖ Supported in ZFS, Btrfs, LVM thin, Ceph</td>
        </tr>
        <tr>
          <td><strong>Quotas</strong></td>
          <td>‚ùå</td>
          <td>‚úÖ Supported per container/volume (in ZFS, Btrfs, Ceph, LVMthin)</td>
        </tr>
        <tr>
          <td><strong>Live Migration</strong></td>
          <td>Limited</td>
          <td>‚úÖ Live storage migration between hosts, copy-on-write</td>
        </tr>
        <tr>
          <td><strong>Encryption</strong></td>
          <td>‚ùå</td>
          <td>‚úÖ (ZFS, LVM, Ceph)</td>
        </tr>
        <tr>
          <td><strong>Custom Volumes</strong></td>
          <td>‚ùå</td>
          <td>‚úÖ Create, attach/detach custom storage volumes for containers/VMs</td>
        </tr>
        <tr>
          <td><strong>Remote Storage</strong></td>
          <td>‚ùå</td>
          <td>‚úÖ Ceph, CephFS, NFS, SMB support</td>
        </tr>
        <tr>
          <td><strong>Filesystem Features</strong></td>
          <td>Host dependent</td>
          <td>ZFS: dedup, compress, snapshots, send/receive, cache, quotas. LVM: thin, snapshots, etc.</td>
        </tr>
        <tr>
          <td><strong>Resizing</strong></td>
          <td>Manual (via host)</td>
          <td>‚úÖ Volumes and pools can be resized live</td>
        </tr>
        <tr>
          <td><strong>Storage Drivers</strong></td>
          <td>Basic/local only</td>
          <td>Extensible plugins, multiple enterprise-ready drivers</td>
        </tr>
      </tbody>
    </table>
    <h5 id="-final-storage-comparison-table"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-final-storage-comparison-table"><span class="octicon octicon-link"></span></a>üìä Final Storage Comparison Table</h5>
    <table>
      <thead>
        <tr>
          <th></th>
          <th><strong>LXC</strong></th>
          <th><strong>LXD</strong></th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Storage Backend</strong></td>
          <td>Local only</td>
          <td>dir, zfs, btrfs, lvm, lvmthin, ceph, cephfs</td>
        </tr>
        <tr>
          <td><strong>Storage Pools</strong></td>
          <td>‚ùå</td>
          <td>‚úÖ Multiple, independent, hot-pluggable</td>
        </tr>
        <tr>
          <td><strong>Snapshots</strong></td>
          <td>Limited/manual</td>
          <td>‚úÖ Fast, automatic, consistent</td>
        </tr>
        <tr>
          <td><strong>Thin Provisioning</strong></td>
          <td>‚ùå</td>
          <td>‚úÖ (ZFS, Btrfs, LVMthin, Ceph)</td>
        </tr>
        <tr>
          <td><strong>Quotas</strong></td>
          <td>‚ùå</td>
          <td>‚úÖ</td>
        </tr>
        <tr>
          <td><strong>Resizing</strong></td>
          <td>Manual</td>
          <td>‚úÖ</td>
        </tr>
        <tr>
          <td><strong>Remote Storage</strong></td>
          <td>‚ùå</td>
          <td>‚úÖ (Ceph, NFS, SMB)</td>
        </tr>
        <tr>
          <td><strong>Custom Volumes</strong></td>
          <td>‚ùå</td>
          <td>‚úÖ</td>
        </tr>
        <tr>
          <td><strong>Cluster Ready</strong></td>
          <td>‚ùå</td>
          <td>‚úÖ</td>
        </tr>
        <tr>
          <td><strong>Enterprise</strong></td>
          <td>No</td>
          <td>Yes‚ÄîHA, backup, migration, security, production ready</td>
        </tr>
      </tbody>
    </table>
    <h5 id="-lxc-vs-lxd---network-support-summary"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-lxc-vs-lxd---network-support-summary"><span class="octicon octicon-link"></span></a>üåê LXC vs LXD - Network Support (Summary)</h5>
    <table>
      <thead>
        <tr>
          <th>Feature</th>
          <th><strong>LXC</strong></th>
          <th><strong>LXD</strong></th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Network Types</strong></td>
          <td>bridge, veth, macvlan, phys, vlan</td>
          <td>bridge, ovn, macvlan, sriov, physical, vlan, fan, tunnels</td>
        </tr>
        <tr>
          <td><strong>Managed Networks</strong></td>
          <td>‚ùå Manual (host config)</td>
          <td>‚úÖ Natively managed via API/CLI, easy to create and edit</td>
        </tr>
        <tr>
          <td><strong>Network API</strong></td>
          <td>‚ùå CLI commands only</td>
          <td>‚úÖ REST API, CLI, integration with external tools</td>
        </tr>
        <tr>
          <td><strong>Bridge Support</strong></td>
          <td>‚úÖ Manual</td>
          <td>‚úÖ Automatic and advanced (L2, Open vSwitch, native bridge)</td>
        </tr>
        <tr>
          <td><strong>NAT &#x26; DHCP</strong></td>
          <td>‚ùå Manual (iptables/dnsmasq)</td>
          <td>‚úÖ Integrated NAT, DHCP, DNS, per-network configurable</td>
        </tr>
        <tr>
          <td><strong>DNS</strong></td>
          <td>‚ùå Manual</td>
          <td>‚úÖ Integrated DNS, custom domains, systemd-resolved integration</td>
        </tr>
        <tr>
          <td><strong>IPv6</strong></td>
          <td>‚úÖ (manual, limited)</td>
          <td>‚úÖ Full support, auto, DHCPv6, NAT6, routing</td>
        </tr>
        <tr>
          <td><strong>VLAN</strong></td>
          <td>‚úÖ (manual, host)</td>
          <td>‚úÖ Native VLANs, easy configuration</td>
        </tr>
        <tr>
          <td><strong>SR-IOV</strong></td>
          <td>‚ùå</td>
          <td>‚úÖ Native support</td>
        </tr>
        <tr>
          <td><strong>Network ACLs</strong></td>
          <td>‚ùå</td>
          <td>‚úÖ ACLs, forwards, zones, peerings, firewall rules</td>
        </tr>
        <tr>
          <td><strong>Clustering</strong></td>
          <td>‚ùå</td>
          <td>‚úÖ Replicated and managed networks in clusters</td>
        </tr>
        <tr>
          <td><strong>Attach/Detach</strong></td>
          <td>Manual (host)</td>
          <td>‚úÖ CLI/API, hotplug, easy for containers/VMs</td>
        </tr>
        <tr>
          <td><strong>Security</strong></td>
          <td>Manual (host)</td>
          <td>‚úÖ Isolation, firewall, ACL, firewalld integration, per-network rules</td>
        </tr>
        <tr>
          <td><strong>Custom Routes</strong></td>
          <td>Manual</td>
          <td>‚úÖ Custom routes support, multiple gateways</td>
        </tr>
        <tr>
          <td><strong>Network Profiles</strong></td>
          <td>‚ùå</td>
          <td>‚úÖ Reusable network profiles</td>
        </tr>
        <tr>
          <td><strong>Monitoring</strong></td>
          <td>Manual</td>
          <td>‚úÖ Status, IPAM, logs, detailed info via CLI/API</td>
        </tr>
        <tr>
          <td><strong>Enterprise</strong></td>
          <td>No</td>
          <td>Yes‚Äîmulti-tenant, ACL, clustering, cloud integration</td>
        </tr>
      </tbody>
    </table>
    <h5 id="-final-network-comparison-table"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-final-network-comparison-table"><span class="octicon octicon-link"></span></a>üìä Final Network Comparison Table</h5>
    <table>
      <thead>
        <tr>
          <th></th>
          <th><strong>LXC</strong></th>
          <th><strong>LXD</strong></th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Network Types</strong></td>
          <td>bridge, veth, vlan</td>
          <td>bridge, ovn, macvlan, sriov, physical, vlan, fan, tunnels</td>
        </tr>
        <tr>
          <td><strong>Managed</strong></td>
          <td>‚ùå</td>
          <td>‚úÖ</td>
        </tr>
        <tr>
          <td><strong>NAT/DHCP/DNS</strong></td>
          <td>Manual</td>
          <td>‚úÖ Integrated</td>
        </tr>
        <tr>
          <td><strong>VLAN</strong></td>
          <td>Manual</td>
          <td>‚úÖ</td>
        </tr>
        <tr>
          <td><strong>SR-IOV</strong></td>
          <td>‚ùå</td>
          <td>‚úÖ</td>
        </tr>
        <tr>
          <td><strong>API</strong></td>
          <td>‚ùå</td>
          <td>‚úÖ</td>
        </tr>
        <tr>
          <td><strong>Clustering</strong></td>
          <td>‚ùå</td>
          <td>‚úÖ</td>
        </tr>
        <tr>
          <td><strong>Security/ACL</strong></td>
          <td>Manual</td>
          <td>‚úÖ</td>
        </tr>
        <tr>
          <td><strong>Profiles</strong></td>
          <td>‚ùå</td>
          <td>‚úÖ</td>
        </tr>
        <tr>
          <td><strong>Enterprise</strong></td>
          <td>No</td>
          <td>Yes</td>
        </tr>
      </tbody>
    </table>
    <h5 id="-lab-lxd"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-lab-lxd"><span class="octicon octicon-link"></span></a>üß™ lab LXD</h5>
    <p>For LXD lab, you can use this script: <a href="scripts/container/lxd.sh">lxd.sh</a></p>
    <h4 id="Ô∏è-3522-important-commands"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-3522-important-commands"><span class="octicon octicon-link"></span></a>üõ†Ô∏è 352.2 Important Commands</h4>
    <h5 id="-lxc"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-lxc"><span class="octicon octicon-link"></span></a>üì¶ lxc</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">
</span><span class="code-line line-number" line="2"><span class="token comment"># lxc configuration</span>
</span><span class="code-line line-number" line="3">/etc/default/lxc
</span><span class="code-line line-number" line="4">/etc/default/lxc-net
</span><span class="code-line line-number" line="5">/etc/lxc/default.conf
</span><span class="code-line line-number" line="6">/usr/share/lxc/
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8"><span class="token comment"># lxc container configuration</span>
</span><span class="code-line line-number" line="9">/var/lib/lxc/
</span><span class="code-line line-number" line="10">
</span><span class="code-line line-number" line="11"><span class="token comment"># check lxc version</span>
</span><span class="code-line line-number" line="12">lxc-create <span class="token parameter variable">--version</span>
</span><span class="code-line line-number" line="13">
</span><span class="code-line line-number" line="14"><span class="token comment"># list containers</span>
</span><span class="code-line line-number" line="15"><span class="token function">sudo</span> lxc-ls <span class="token parameter variable">--fancy</span>
</span><span class="code-line line-number" line="16"><span class="token function">sudo</span> lxc-ls <span class="token parameter variable">-f</span>
</span><span class="code-line line-number" line="17">
</span><span class="code-line line-number" line="18"><span class="token comment"># create a priveleged container</span>
</span><span class="code-line line-number" line="19"><span class="token function">sudo</span> lxc-create <span class="token parameter variable">-n</span> busybox <span class="token parameter variable">-t</span> busybox
</span><span class="code-line line-number" line="20">
</span><span class="code-line line-number" line="21"><span class="token comment"># create a priveleged container with template</span>
</span><span class="code-line line-number" line="22"><span class="token function">sudo</span> lxc-create <span class="token parameter variable">-n</span> debian01 <span class="token parameter variable">-t</span> download
</span><span class="code-line line-number" line="23"><span class="token function">sudo</span> lxc-create <span class="token parameter variable">--name</span> server2 <span class="token parameter variable">--template</span> download -- <span class="token parameter variable">--dist</span> alpine <span class="token parameter variable">--release</span> <span class="token number">3.19</span> <span class="token parameter variable">--arch</span> amd64
</span><span class="code-line line-number" line="24">
</span><span class="code-line line-number" line="25"><span class="token comment"># get container info</span>
</span><span class="code-line line-number" line="26"><span class="token function">sudo</span> lxc-info <span class="token parameter variable">-n</span> debian01
</span><span class="code-line line-number" line="27">
</span><span class="code-line line-number" line="28"><span class="token comment"># get container PID</span>
</span><span class="code-line line-number" line="29"><span class="token function">sudo</span> lxc-info <span class="token parameter variable">-n</span> debian01 <span class="token parameter variable">-pH</span>
</span><span class="code-line line-number" line="30">
</span><span class="code-line line-number" line="31"><span class="token comment"># get container config</span>
</span><span class="code-line line-number" line="32"><span class="token function">sudo</span> lxc-checkconfig <span class="token parameter variable">-n</span> debian01
</span><span class="code-line line-number" line="33">
</span><span class="code-line line-number" line="34"><span class="token comment"># start container</span>
</span><span class="code-line line-number" line="35"><span class="token function">sudo</span> lxc-start <span class="token parameter variable">-n</span> debian01
</span><span class="code-line line-number" line="36">
</span><span class="code-line line-number" line="37"><span class="token comment"># stop container</span>
</span><span class="code-line line-number" line="38"><span class="token function">sudo</span> lxc-stop <span class="token parameter variable">-n</span> debian01
</span><span class="code-line line-number" line="39">
</span><span class="code-line line-number" line="40"><span class="token comment"># connect to container</span>
</span><span class="code-line line-number" line="41"><span class="token function">sudo</span> lxc-attach <span class="token parameter variable">-n</span> debian01
</span><span class="code-line line-number" line="42">
</span><span class="code-line line-number" line="43"><span class="token comment"># execute a command in container</span>
</span><span class="code-line line-number" line="44"><span class="token function">sudo</span> lxc-attach <span class="token parameter variable">-n</span> debian01 --  <span class="token builtin class-name">echo</span> <span class="token string">"Hello from"</span>
</span><span class="code-line line-number" line="45"><span class="token function">sudo</span> lxc-attach <span class="token parameter variable">-n</span> debian01 -- <span class="token function">bash</span> <span class="token parameter variable">-c</span> <span class="token function">ls</span>
</span><span class="code-line line-number" line="46">
</span><span class="code-line line-number" line="47"><span class="token comment"># delete container</span>
</span><span class="code-line line-number" line="48"><span class="token function">sudo</span> lxc-destroy <span class="token parameter variable">-n</span> debian01
</span><span class="code-line line-number" line="49">
</span><span class="code-line line-number" line="50"><span class="token comment"># delete container and snapshot</span>
</span><span class="code-line line-number" line="51"><span class="token function">sudo</span> lxc-destroy <span class="token parameter variable">-n</span> <span class="token parameter variable">-s</span> debian01
</span><span class="code-line line-number" line="52">
</span><span class="code-line line-number" line="53"><span class="token comment"># rootfs of a container</span>
</span><span class="code-line line-number" line="54"><span class="token function">sudo</span> <span class="token function">ls</span> <span class="token parameter variable">-l</span> /var/lib/lxc/server1/rootfs
</span><span class="code-line line-number" line="55">
</span><span class="code-line line-number" line="56"><span class="token comment"># modify rootfs of a container</span>
</span><span class="code-line line-number" line="57"><span class="token function">sudo</span> <span class="token function">touch</span>  /var/lib/lxc/server1/rootfs/tmp/test_roofs_file
</span><span class="code-line line-number" line="58"><span class="token function">sudo</span> lxc-attach server1
</span><span class="code-line line-number" line="59"><span class="token function">ls</span> /tmp
</span><span class="code-line line-number" line="60">
</span><span class="code-line line-number" line="61"><span class="token comment"># get lxc namespaces</span>
</span><span class="code-line line-number" line="62"><span class="token function">sudo</span> lsns <span class="token parameter variable">-p</span> <span class="token operator">&#x3C;</span>LXC_container_PID<span class="token operator">></span>
</span><span class="code-line line-number" line="63"><span class="token function">sudo</span> lsns <span class="token parameter variable">-p</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">sudo</span> lxc-info server2 <span class="token parameter variable">-pH</span><span class="token variable">)</span></span>
</span><span class="code-line line-number" line="64"><span class="token function">sudo</span> lsns <span class="token parameter variable">-p</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">sudo</span> lxc-info <span class="token parameter variable">-n</span> server1 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'/PID:/ { print $2 }'</span><span class="token variable">)</span></span>
</span><span class="code-line line-number" line="65">
</span><span class="code-line line-number" line="66"><span class="token comment"># unprivileged container namespaces</span>
</span><span class="code-line line-number" line="67">lsns <span class="token parameter variable">-p</span> <span class="token variable"><span class="token variable">$(</span>lxc-info <span class="token parameter variable">-n</span> ubuntu <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'/PID:/ { print $2 }'</span><span class="token variable">)</span></span>
</span><span class="code-line line-number" line="68">
</span><span class="code-line line-number" line="69"><span class="token comment"># get container resource </span>
</span><span class="code-line line-number" line="70"><span class="token function">sudo</span> lxc-top
</span><span class="code-line line-number" line="71">
</span><span class="code-line line-number" line="72"><span class="token comment"># create a container snapshot</span>
</span><span class="code-line line-number" line="73"><span class="token function">sudo</span> lxc-stop <span class="token parameter variable">-k</span> <span class="token parameter variable">-n</span> debian01
</span><span class="code-line line-number" line="74"><span class="token function">sudo</span> lxc-snapshot <span class="token parameter variable">-n</span> debian01
</span><span class="code-line line-number" line="75">
</span><span class="code-line line-number" line="76"><span class="token comment"># list snapshots</span>
</span><span class="code-line line-number" line="77"><span class="token function">sudo</span> lxc-snapshot <span class="token parameter variable">-n</span> debian01 <span class="token parameter variable">-L</span>
</span><span class="code-line line-number" line="78">
</span><span class="code-line line-number" line="79"><span class="token comment"># restore snapshot</span>
</span><span class="code-line line-number" line="80"><span class="token function">sudo</span> lxc-stop <span class="token parameter variable">-n</span> debian01
</span><span class="code-line line-number" line="81"><span class="token function">sudo</span> lxc-snapshot <span class="token parameter variable">-n</span> debian01 <span class="token parameter variable">-r</span> snap0
</span><span class="code-line line-number" line="82">
</span><span class="code-line line-number" line="83"><span class="token comment"># delete snapshot</span>
</span><span class="code-line line-number" line="84"><span class="token function">sudo</span> lxc-snapshot <span class="token parameter variable">-n</span> debian01 <span class="token parameter variable">-d</span> snap0
</span><span class="code-line line-number" line="85">
</span><span class="code-line line-number" line="86"><span class="token comment"># create a new container with snapshot</span>
</span><span class="code-line line-number" line="87"><span class="token function">sudo</span> lxc-snapshot <span class="token parameter variable">-n</span> debian01 <span class="token parameter variable">-r</span> snap0 <span class="token parameter variable">-N</span> debian02
</span><span class="code-line line-number" line="88">
</span><span class="code-line line-number" line="89"><span class="token comment"># create container checkpoint (privileged container)</span>
</span><span class="code-line line-number" line="90"><span class="token function">sudo</span> lxc-checkpoint <span class="token parameter variable">-n</span> debian01 <span class="token parameter variable">-s</span> <span class="token parameter variable">-D</span> /home/vagrant/.config/lxc/checkpoints/debian01-checkpoint01.file 
</span><span class="code-line line-number" line="91">
</span><span class="code-line line-number" line="92"><span class="token comment"># define memory container limits with cgroups</span>
</span><span class="code-line line-number" line="93"><span class="token function">sudo</span> lxc-cgroup <span class="token parameter variable">-n</span> debian01 memory.max <span class="token number">262144000</span> <span class="token comment">#(250 MB √ó 1.048.576 bytes = 262144000 bytes)</span>
</span><span class="code-line line-number" line="94">
</span><span class="code-line line-number" line="95"><span class="token comment"># define CPU cores of container  with cgroups</span>
</span><span class="code-line line-number" line="96"><span class="token function">sudo</span> lxc-cgroup <span class="token parameter variable">-n</span> debian01 cpuset.cpus <span class="token number">0</span>-2
</span><span class="code-line line-number" line="97">
</span><span class="code-line line-number" line="98"><span class="token comment"># get container cgroup limits</span>
</span><span class="code-line line-number" line="99"><span class="token function">sudo</span> cgget <span class="token parameter variable">-g</span> :lxc.payload.debian01 <span class="token parameter variable">-a</span> <span class="token operator">|</span><span class="token function">grep</span> memory.max
</span><span class="code-line line-number" line="100"><span class="token function">sudo</span> cgget <span class="token parameter variable">-g</span> :lxc.payload.debian01 <span class="token parameter variable">-a</span> <span class="token operator">|</span><span class="token function">grep</span> cpuset
</span><span class="code-line line-number" line="101">
</span><span class="code-line line-number" line="102"><span class="token comment"># set container cgroup vcpus range in file</span>
</span><span class="code-line line-number" line="103"><span class="token function">sudo</span> <span class="token function">vim</span> /var/lib/lxc/debian01/config
</span><span class="code-line line-number" line="104"><span class="token comment"># add the following lines</span>
</span><span class="code-line line-number" line="105">lxc.cgroup2.cpuset.cpus <span class="token operator">=</span> <span class="token string">"5-6"</span>
</span><span class="code-line line-number" line="106">
</span><span class="code-line line-number" line="107"><span class="token comment">######## create unprivileged container #######</span>
</span><span class="code-line line-number" line="108">
</span><span class="code-line line-number" line="109"><span class="token comment">## create directory for unprivileged container</span>
</span><span class="code-line line-number" line="110"><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /home/vagrant/.config/lxc
</span><span class="code-line line-number" line="111">
</span><span class="code-line line-number" line="112"><span class="token comment">## copy default config</span>
</span><span class="code-line line-number" line="113"><span class="token function">cp</span> /etc/lxc/default.conf /home/vagrant/.config/lxc/
</span><span class="code-line line-number" line="114">
</span><span class="code-line line-number" line="115"><span class="token comment">## get subordinate user and group IDs</span>
</span><span class="code-line line-number" line="116"><span class="token function">cat</span> /etc/subuid
</span><span class="code-line line-number" line="117">
</span><span class="code-line line-number" line="118"><span class="token comment">## configure subordinate user and group IDs</span>
</span><span class="code-line line-number" line="119"><span class="token function">vim</span> /home/vagrant/.config/lxc/default.conf
</span><span class="code-line line-number" line="120">
</span><span class="code-line line-number" line="121"><span class="token comment">## add the following lines</span>
</span><span class="code-line line-number" line="122">lxc.idmap <span class="token operator">=</span> u <span class="token number">0</span> <span class="token number">100000</span> <span class="token number">65536</span>
</span><span class="code-line line-number" line="123">lxc.idmap <span class="token operator">=</span> g <span class="token number">0</span> <span class="token number">100000</span> <span class="token number">65536</span>
</span><span class="code-line line-number" line="124">
</span><span class="code-line line-number" line="125"><span class="token comment">## configure lxc-usernet</span>
</span><span class="code-line line-number" line="126"><span class="token function">sudo</span> <span class="token function">vim</span> /etc/lxc/lxc-usernet
</span><span class="code-line line-number" line="127">
</span><span class="code-line line-number" line="128"><span class="token comment">## add the following line</span>
</span><span class="code-line line-number" line="129">vagrant veth lxcbr0 <span class="token number">10</span>
</span><span class="code-line line-number" line="130">
</span><span class="code-line line-number" line="131"><span class="token comment">## create unprivileged container</span>
</span><span class="code-line line-number" line="132">lxc-create <span class="token parameter variable">-n</span> unprivileged <span class="token parameter variable">-t</span> download -- <span class="token parameter variable">-d</span> ubuntu <span class="token parameter variable">-r</span> jammy <span class="token parameter variable">-a</span> amd64
</span><span class="code-line line-number" line="133">
</span><span class="code-line line-number" line="134"><span class="token comment">## set permissions for unprivileged container</span>
</span><span class="code-line line-number" line="135"><span class="token function">sudo</span> setfacl <span class="token parameter variable">-m</span> u:100000:--x /home/vagrant
</span><span class="code-line line-number" line="136"><span class="token function">sudo</span> setfacl <span class="token parameter variable">-m</span> u:100000:--x /home/vagrant/.config
</span><span class="code-line line-number" line="137"><span class="token function">sudo</span> setfacl <span class="token parameter variable">-m</span> u:100000:--x /home/vagrant/.local
</span><span class="code-line line-number" line="138"><span class="token function">sudo</span> setfacl <span class="token parameter variable">-m</span> u:100000:--x /home/vagrant/.local/share
</span><span class="code-line line-number" line="139">
</span><span class="code-line line-number" line="140"><span class="token comment">## start unprivileged container</span>
</span><span class="code-line line-number" line="141">lxc-start <span class="token parameter variable">-n</span> unprivileged <span class="token parameter variable">--logpriority</span><span class="token operator">=</span>DEBUG <span class="token parameter variable">--logfile</span><span class="token operator">=</span>lxc.log
</span><span class="code-line line-number" line="142">
</span><span class="code-line line-number" line="143"><span class="token comment">## check container status</span>
</span><span class="code-line line-number" line="144">lxc-ls <span class="token parameter variable">-f</span>
</span><span class="code-line line-number" line="145">
</span><span class="code-line line-number" line="146"><span class="token comment">## unprivileged container files</span>
</span><span class="code-line line-number" line="147"><span class="token function">ls</span> .local/share/lxc/unprivileged/
</span></code><div onclick="copied(this)" data-code="
# lxc configuration
/etc/default/lxc
/etc/default/lxc-net
/etc/lxc/default.conf
/usr/share/lxc/

# lxc container configuration
/var/lib/lxc/

# check lxc version
lxc-create --version

# list containers
sudo lxc-ls --fancy
sudo lxc-ls -f

# create a priveleged container
sudo lxc-create -n busybox -t busybox

# create a priveleged container with template
sudo lxc-create -n debian01 -t download
sudo lxc-create --name server2 --template download -- --dist alpine --release 3.19 --arch amd64

# get container info
sudo lxc-info -n debian01

# get container PID
sudo lxc-info -n debian01 -pH

# get container config
sudo lxc-checkconfig -n debian01

# start container
sudo lxc-start -n debian01

# stop container
sudo lxc-stop -n debian01

# connect to container
sudo lxc-attach -n debian01

# execute a command in container
sudo lxc-attach -n debian01 --  echo &#x22;Hello from&#x22;
sudo lxc-attach -n debian01 -- bash -c ls

# delete container
sudo lxc-destroy -n debian01

# delete container and snapshot
sudo lxc-destroy -n -s debian01

# rootfs of a container
sudo ls -l /var/lib/lxc/server1/rootfs

# modify rootfs of a container
sudo touch  /var/lib/lxc/server1/rootfs/tmp/test_roofs_file
sudo lxc-attach server1
ls /tmp

# get lxc namespaces
sudo lsns -p <LXC_container_PID>
sudo lsns -p $(sudo lxc-info server2 -pH)
sudo lsns -p $(sudo lxc-info -n server1 | awk &#x27;/PID:/ { print $2 }&#x27;)

# unprivileged container namespaces
lsns -p $(lxc-info -n ubuntu | awk &#x27;/PID:/ { print $2 }&#x27;)

# get container resource 
sudo lxc-top

# create a container snapshot
sudo lxc-stop -k -n debian01
sudo lxc-snapshot -n debian01

# list snapshots
sudo lxc-snapshot -n debian01 -L

# restore snapshot
sudo lxc-stop -n debian01
sudo lxc-snapshot -n debian01 -r snap0

# delete snapshot
sudo lxc-snapshot -n debian01 -d snap0

# create a new container with snapshot
sudo lxc-snapshot -n debian01 -r snap0 -N debian02

# create container checkpoint (privileged container)
sudo lxc-checkpoint -n debian01 -s -D /home/vagrant/.config/lxc/checkpoints/debian01-checkpoint01.file 

# define memory container limits with cgroups
sudo lxc-cgroup -n debian01 memory.max 262144000 #(250 MB √ó 1.048.576 bytes = 262144000 bytes)

# define CPU cores of container  with cgroups
sudo lxc-cgroup -n debian01 cpuset.cpus 0-2

# get container cgroup limits
sudo cgget -g :lxc.payload.debian01 -a |grep memory.max
sudo cgget -g :lxc.payload.debian01 -a |grep cpuset

# set container cgroup vcpus range in file
sudo vim /var/lib/lxc/debian01/config
# add the following lines
lxc.cgroup2.cpuset.cpus = &#x22;5-6&#x22;

######## create unprivileged container #######

## create directory for unprivileged container
mkdir -p /home/vagrant/.config/lxc

## copy default config
cp /etc/lxc/default.conf /home/vagrant/.config/lxc/

## get subordinate user and group IDs
cat /etc/subuid

## configure subordinate user and group IDs
vim /home/vagrant/.config/lxc/default.conf

## add the following lines
lxc.idmap = u 0 100000 65536
lxc.idmap = g 0 100000 65536

## configure lxc-usernet
sudo vim /etc/lxc/lxc-usernet

## add the following line
vagrant veth lxcbr0 10

## create unprivileged container
lxc-create -n unprivileged -t download -- -d ubuntu -r jammy -a amd64

## set permissions for unprivileged container
sudo setfacl -m u:100000:--x /home/vagrant
sudo setfacl -m u:100000:--x /home/vagrant/.config
sudo setfacl -m u:100000:--x /home/vagrant/.local
sudo setfacl -m u:100000:--x /home/vagrant/.local/share

## start unprivileged container
lxc-start -n unprivileged --logpriority=DEBUG --logfile=lxc.log

## check container status
lxc-ls -f

## unprivileged container files
ls .local/share/lxc/unprivileged/
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-lxd-1"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-lxd-1"><span class="octicon octicon-link"></span></a>üåê lxd</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># lxd configuration files</span>
</span><span class="code-line line-number" line="2">/var/lib/lxd
</span><span class="code-line line-number" line="3">/var/log/lxd
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token comment"># initialize lxd</span>
</span><span class="code-line line-number" line="6"><span class="token function">sudo</span> lxd init
</span><span class="code-line line-number" line="7"><span class="token function">sudo</span> lxd init <span class="token parameter variable">--auto</span>
</span><span class="code-line line-number" line="8"><span class="token function">sudo</span> <span class="token function">cat</span> lxd-init.yaml <span class="token operator">|</span> lxd init <span class="token parameter variable">--preseed</span>
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10"><span class="token comment"># check lxd version</span>
</span><span class="code-line line-number" line="11"><span class="token function">sudo</span> lxd <span class="token parameter variable">--version</span>
</span><span class="code-line line-number" line="12">
</span><span class="code-line line-number" line="13"><span class="token comment"># check lxd status</span>
</span><span class="code-line line-number" line="14">systemctl status lxd
</span><span class="code-line line-number" line="15">
</span><span class="code-line line-number" line="16"><span class="token comment">#### LXD STORAGE MANAGEMENT ####</span>
</span><span class="code-line line-number" line="17">
</span><span class="code-line line-number" line="18"><span class="token comment"># lxd list storage</span>
</span><span class="code-line line-number" line="19">lxc storage list
</span><span class="code-line line-number" line="20">
</span><span class="code-line line-number" line="21"><span class="token comment"># show lxd storage pools</span>
</span><span class="code-line line-number" line="22">lxc storage show default
</span><span class="code-line line-number" line="23">
</span><span class="code-line line-number" line="24"><span class="token comment"># lxd storage info</span>
</span><span class="code-line line-number" line="25">lxc storage info default
</span><span class="code-line line-number" line="26">
</span><span class="code-line line-number" line="27"><span class="token comment"># create a new storage pool dir</span>
</span><span class="code-line line-number" line="28">lxc storage create lpic3-dir <span class="token function">dir</span> 
</span><span class="code-line line-number" line="29">
</span><span class="code-line line-number" line="30"><span class="token comment"># create a new storage pool lvm</span>
</span><span class="code-line line-number" line="31">lxc storage create lpic3-lvm lvm <span class="token assign-left variable">source</span><span class="token operator">=</span>/dev/sdb1
</span><span class="code-line line-number" line="32">
</span><span class="code-line line-number" line="33"><span class="token comment"># create a new storage pool btrfs</span>
</span><span class="code-line line-number" line="34">lxc storage create lpic3-btrfs btrfs
</span><span class="code-line line-number" line="35">lxc storage create lpic3-btrfs btrfs <span class="token assign-left variable">size</span><span class="token operator">=</span>10GB
</span><span class="code-line line-number" line="36">lxc storage create lpic3-btrfs btrfs <span class="token assign-left variable">source</span><span class="token operator">=</span>/dev/sdb2
</span><span class="code-line line-number" line="37">
</span><span class="code-line line-number" line="38"><span class="token comment"># create a new storage pool zfs</span>
</span><span class="code-line line-number" line="39">lxc storage create lpic3-zfs zfs <span class="token assign-left variable">source</span><span class="token operator">=</span>/dev/sdb3
</span><span class="code-line line-number" line="40">
</span><span class="code-line line-number" line="41"><span class="token comment"># delete storage pool</span>
</span><span class="code-line line-number" line="42">lxc storage delete lpic3-btrfs
</span><span class="code-line line-number" line="43">
</span><span class="code-line line-number" line="44"><span class="token comment"># edit storage pool</span>
</span><span class="code-line line-number" line="45">lxc storage edit lpic3-btrfs
</span><span class="code-line line-number" line="46">
</span><span class="code-line line-number" line="47"><span class="token comment"># get storage pool properties</span>
</span><span class="code-line line-number" line="48">lxc storage  get lpic3-btrfs size
</span><span class="code-line line-number" line="49">
</span><span class="code-line line-number" line="50"><span class="token comment"># set storage pool properties</span>
</span><span class="code-line line-number" line="51">lxc storage <span class="token builtin class-name">set</span> lpic3-btrfs size 20GB
</span><span class="code-line line-number" line="52">
</span><span class="code-line line-number" line="53"><span class="token comment"># list storage volumes</span>
</span><span class="code-line line-number" line="54">lxc storage volume list lpic3-btrfs
</span><span class="code-line line-number" line="55">
</span><span class="code-line line-number" line="56"><span class="token comment"># create a new storage volume</span>
</span><span class="code-line line-number" line="57">lxc storage volume create lpic3-btrfs vol-lpic3-btrfs
</span><span class="code-line line-number" line="58">
</span><span class="code-line line-number" line="59"><span class="token comment"># delete storage volume</span>
</span><span class="code-line line-number" line="60">lxc storage volume delete lpic3-btrfs vol-lpic3-btrfs
</span><span class="code-line line-number" line="61">
</span><span class="code-line line-number" line="62"><span class="token comment">### Management lxd storage buckets ####</span>
</span><span class="code-line line-number" line="63">
</span><span class="code-line line-number" line="64"><span class="token comment"># create lxd bucket</span>
</span><span class="code-line line-number" line="65">lxc storage bucket create lpic3-btrfs bucket-lpic3-btrfs
</span><span class="code-line line-number" line="66">lxc storage bucket create lpic3-zfs bucket-lpic3-zfs
</span><span class="code-line line-number" line="67">
</span><span class="code-line line-number" line="68"><span class="token comment"># list lxd buckets</span>
</span><span class="code-line line-number" line="69">lxc storage bucket list lpic3-btrfs
</span><span class="code-line line-number" line="70">
</span><span class="code-line line-number" line="71"><span class="token comment"># set lxd bucket properties</span>
</span><span class="code-line line-number" line="72">lxc storage bucket <span class="token builtin class-name">set</span> lpic3-btrfs bucket-lpic3-btrfs size 10GB
</span><span class="code-line line-number" line="73">
</span><span class="code-line line-number" line="74"><span class="token comment"># edit lxd bucket </span>
</span><span class="code-line line-number" line="75">lxc storage bucket edit lpic3-btrfs bucket-lpic3-btrfs
</span><span class="code-line line-number" line="76">
</span><span class="code-line line-number" line="77"><span class="token comment"># delete lxd bucket</span>
</span><span class="code-line line-number" line="78">lxc storage bucket delete lpic3-btrfs bucket-lpic3-btrfs
</span><span class="code-line line-number" line="79">
</span><span class="code-line line-number" line="80"><span class="token comment"># show ldx storage bucket</span>
</span><span class="code-line line-number" line="81">lxc storage bucket show lpic3-btrfs bucket-lpic3-btrfs
</span><span class="code-line line-number" line="82">
</span><span class="code-line line-number" line="83"><span class="token comment"># create storage bucket keys</span>
</span><span class="code-line line-number" line="84">lxc storage bucket key create lpic3-btrfs bucket-lpic3-btrfs key-bucket-lpic3-btrfs
</span><span class="code-line line-number" line="85">
</span><span class="code-line line-number" line="86"><span class="token comment"># edit storage bucket keys</span>
</span><span class="code-line line-number" line="87">lxc storage bucket key edit lpic3-btrfs bucket-lpic3-btrfs key-bucket-lpic3-btrfs
</span><span class="code-line line-number" line="88">
</span><span class="code-line line-number" line="89"><span class="token comment"># list storage bucket keys</span>
</span><span class="code-line line-number" line="90">lxc storage bucket key list lpic3-btrfs bucket-lpic3-btrfs
</span><span class="code-line line-number" line="91">
</span><span class="code-line line-number" line="92"><span class="token comment"># show storage bucket keys</span>
</span><span class="code-line line-number" line="93">lxc storage bucket key show lpic3-btrfs bucket-lpic3-btrfs key-bucket-lpic3-btrfs
</span><span class="code-line line-number" line="94">
</span><span class="code-line line-number" line="95"><span class="token comment"># delete storage bucket keys</span>
</span><span class="code-line line-number" line="96">lxc storage bucket key delete lpic3-btrfs bucket-lpic3-btrfs key-bucket-lpic3-btrfs
</span><span class="code-line line-number" line="97">
</span><span class="code-line line-number" line="98"><span class="token comment">### LXD IMAGE MANAGEMENT ###</span>
</span><span class="code-line line-number" line="99">
</span><span class="code-line line-number" line="100"><span class="token comment"># list lxd repositories</span>
</span><span class="code-line line-number" line="101">lxc remote list
</span><span class="code-line line-number" line="102">
</span><span class="code-line line-number" line="103"><span class="token comment"># add lxd remote repository</span>
</span><span class="code-line line-number" line="104">lxc remote <span class="token function">add</span> lpic3-images https://images.lxd.canonical.com <span class="token parameter variable">--protocol</span><span class="token operator">=</span>simplestreams
</span><span class="code-line line-number" line="105">
</span><span class="code-line line-number" line="106"><span class="token comment"># remove lxd remote repository</span>
</span><span class="code-line line-number" line="107">lxc remote remove lpic3-images 
</span><span class="code-line line-number" line="108">
</span><span class="code-line line-number" line="109"><span class="token comment"># list lxd images</span>
</span><span class="code-line line-number" line="110">lxc image list
</span><span class="code-line line-number" line="111">
</span><span class="code-line line-number" line="112"><span class="token comment"># list lxd images from remote repository</span>
</span><span class="code-line line-number" line="113">lxc image list images:
</span><span class="code-line line-number" line="114">lxc image list images: <span class="token assign-left variable">os</span><span class="token operator">=</span>Ubuntu
</span><span class="code-line line-number" line="115">lxc image list images: <span class="token assign-left variable">os</span><span class="token operator">=</span>Ubuntu <span class="token assign-left variable">release</span><span class="token operator">=</span>jammy
</span><span class="code-line line-number" line="116">lxc image list images: <span class="token assign-left variable">os</span><span class="token operator">=</span>Ubuntu <span class="token assign-left variable">release</span><span class="token operator">=</span>jammy <span class="token assign-left variable">architecture</span><span class="token operator">=</span>amd64
</span><span class="code-line line-number" line="117">lxc image list images: <span class="token assign-left variable">architecture</span><span class="token operator">=</span>amd64 <span class="token assign-left variable">type</span><span class="token operator">=</span>container
</span><span class="code-line line-number" line="118">lxc image list images: d kal
</span><span class="code-line line-number" line="119">
</span><span class="code-line line-number" line="120"><span class="token comment"># download lxd image to local</span>
</span><span class="code-line line-number" line="121">lxc image copy images:centos/9-Stream local: <span class="token parameter variable">--alias</span> centos-9
</span><span class="code-line line-number" line="122">
</span><span class="code-line line-number" line="123"><span class="token comment"># export lxd remote image</span>
</span><span class="code-line line-number" line="124">lxc image <span class="token builtin class-name">export</span> aed8a3749942  ./lxd-images/centos-9
</span><span class="code-line line-number" line="125">
</span><span class="code-line line-number" line="126"><span class="token comment"># export lxd remote image</span>
</span><span class="code-line line-number" line="127">lxc image <span class="token builtin class-name">export</span> images:f8fadb0d1b28 ./lxd-images/alma-9
</span><span class="code-line line-number" line="128">
</span><span class="code-line line-number" line="129"><span class="token comment"># remove lxd image</span>
</span><span class="code-line line-number" line="130">lxc image delete centos-9
</span><span class="code-line line-number" line="131">
</span><span class="code-line line-number" line="132"><span class="token comment"># mount lxd rootfs</span>
</span><span class="code-line line-number" line="133"><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /mnt/lxd-rootfs/centos-9
</span><span class="code-line line-number" line="134"><span class="token function">sudo</span> <span class="token function">mount</span> lxd-images/centos-9/aed8a374994230243aaa82e979ac7d23f379e511556d35af051b1638662d47ae.squashfs  /mnt/lxd-rootfs/centos-9/
</span><span class="code-line line-number" line="135"><span class="token function">ls</span> /mnt/lxd-rootfs/centos-9/
</span><span class="code-line line-number" line="136">
</span><span class="code-line line-number" line="137"><span class="token comment">### LXD INSTANCES MANAGEMENT ###</span>
</span><span class="code-line line-number" line="138">
</span><span class="code-line line-number" line="139"><span class="token comment"># create a new container from image</span>
</span><span class="code-line line-number" line="140">lxc launch images:ubuntu/jammy ubuntu-lxd
</span><span class="code-line line-number" line="141">lxc launch images:debian/12 debian12lxc
</span><span class="code-line line-number" line="142">lxc launch images:fedora/41 fedora41
</span><span class="code-line line-number" line="143">lxc launch images:opensuse/15.6 opensuse15
</span><span class="code-line line-number" line="144">
</span><span class="code-line line-number" line="145"><span class="token comment"># create a new container from image with storage pool</span>
</span><span class="code-line line-number" line="146">lxc launch images:alpine/3.19 alpine <span class="token parameter variable">--storage</span> lpic3-lvm
</span><span class="code-line line-number" line="147">lxc launch images:kali kali <span class="token parameter variable">--storage</span> lpic3-zfs
</span><span class="code-line line-number" line="148">
</span><span class="code-line line-number" line="149"><span class="token comment"># create a new container from image local</span>
</span><span class="code-line line-number" line="150">lxc launch 757b2a721e9d kali-local-image
</span><span class="code-line line-number" line="151">
</span><span class="code-line line-number" line="152"><span class="token comment"># create new vm</span>
</span><span class="code-line line-number" line="153">lxc launch <span class="token parameter variable">--vm</span>  images:debian/13 debian13 <span class="token parameter variable">--storage</span> lpic3-zfs
</span><span class="code-line line-number" line="154">lxc launch <span class="token parameter variable">--vm</span>  images:e44d713a71b6 rocky9 <span class="token parameter variable">--storage</span> lpic3-btrfs
</span><span class="code-line line-number" line="155">
</span><span class="code-line line-number" line="156"><span class="token comment"># list container\instances</span>
</span><span class="code-line line-number" line="157">lxc list
</span><span class="code-line line-number" line="158">
</span><span class="code-line line-number" line="159"><span class="token comment"># stop container\instance</span>
</span><span class="code-line line-number" line="160">lxc stop alpine
</span><span class="code-line line-number" line="161">
</span><span class="code-line line-number" line="162"><span class="token comment"># start container\instance</span>
</span><span class="code-line line-number" line="163">lxc start alpine
</span><span class="code-line line-number" line="164">
</span><span class="code-line line-number" line="165"><span class="token comment"># delete container\instance</span>
</span><span class="code-line line-number" line="166">lxc delete alpine <span class="token parameter variable">--force</span>
</span><span class="code-line line-number" line="167">
</span><span class="code-line line-number" line="168"><span class="token comment"># show container\instance</span>
</span><span class="code-line line-number" line="169">lxc info alpine
</span><span class="code-line line-number" line="170">
</span><span class="code-line line-number" line="171"><span class="token comment"># show container\instance config</span>
</span><span class="code-line line-number" line="172">lxc config show alpine
</span><span class="code-line line-number" line="173">
</span><span class="code-line line-number" line="174"><span class="token comment"># edit container\instance config</span>
</span><span class="code-line line-number" line="175">lxc config edit alpine
</span><span class="code-line line-number" line="176">
</span><span class="code-line line-number" line="177"><span class="token comment"># view container\instance config</span>
</span><span class="code-line line-number" line="178">lxc config get alpine boot.autostart
</span><span class="code-line line-number" line="179">
</span><span class="code-line line-number" line="180"><span class="token comment"># set container\instance config</span>
</span><span class="code-line line-number" line="181">lxc config <span class="token builtin class-name">set</span> alpine <span class="token assign-left variable">boot.autostart</span><span class="token operator">=</span>false
</span><span class="code-line line-number" line="182">
</span><span class="code-line line-number" line="183"><span class="token comment"># set limit for container\instance</span>
</span><span class="code-line line-number" line="184">lxc config <span class="token builtin class-name">set</span> alpine limits.cpu <span class="token number">2</span>
</span><span class="code-line line-number" line="185">lxc config <span class="token builtin class-name">set</span> alpine limits.memory <span class="token number">10</span>%
</span><span class="code-line line-number" line="186">
</span><span class="code-line line-number" line="187"><span class="token comment"># unset limit for container\instance</span>
</span><span class="code-line line-number" line="188">lxc config <span class="token builtin class-name">unset</span> alpine limits.cpu  
</span><span class="code-line line-number" line="189">lxc config <span class="token builtin class-name">unset</span> alpine limits.memory
</span><span class="code-line line-number" line="190">
</span><span class="code-line line-number" line="191"><span class="token comment"># execute command in container\instance</span>
</span><span class="code-line line-number" line="192">lxc <span class="token parameter variable">--exec</span> alpine -- /bin/bash
</span><span class="code-line line-number" line="193">lxc <span class="token builtin class-name">exec</span> alpine -- <span class="token function">uname</span> <span class="token parameter variable">-a</span> <span class="token operator">||</span> dhclient
</span><span class="code-line line-number" line="194">lxc <span class="token builtin class-name">exec</span> alpine -- <span class="token function">sh</span> <span class="token parameter variable">-c</span> <span class="token string">"echo 'Hello from Alpine'"</span>
</span><span class="code-line line-number" line="195">
</span><span class="code-line line-number" line="196"><span class="token comment"># lxd copy file to container\instance</span>
</span><span class="code-line line-number" line="197">lxc <span class="token function">file</span> push /etc/hosts alpine/etc/hosts
</span><span class="code-line line-number" line="198">
</span><span class="code-line line-number" line="199"><span class="token comment"># lxd edit file in container\instance</span>
</span><span class="code-line line-number" line="200">lxc <span class="token function">file</span> edit alpine/etc/hosts
</span><span class="code-line line-number" line="201">
</span><span class="code-line line-number" line="202"><span class="token comment"># download file from container\instance</span>
</span><span class="code-line line-number" line="203">lxc <span class="token function">file</span> pull alpine/etc/hosts /tmp/alpine-hosts
</span><span class="code-line line-number" line="204">
</span><span class="code-line line-number" line="205"><span class="token comment">### LXD NETWORK MANAGEMENT ###</span>
</span><span class="code-line line-number" line="206">
</span><span class="code-line line-number" line="207"><span class="token comment"># list networks</span>
</span><span class="code-line line-number" line="208">lxc network list
</span><span class="code-line line-number" line="209">
</span><span class="code-line line-number" line="210"><span class="token comment"># show network details</span>
</span><span class="code-line line-number" line="211">lxc network show lxdbr0
</span><span class="code-line line-number" line="212">
</span><span class="code-line line-number" line="213"><span class="token comment"># create a new network</span>
</span><span class="code-line line-number" line="214">lxc network create lxdbr1
</span><span class="code-line line-number" line="215">
</span><span class="code-line line-number" line="216"><span class="token comment"># delete a network</span>
</span><span class="code-line line-number" line="217">lxc network delete lxdbr0
</span><span class="code-line line-number" line="218">
</span><span class="code-line line-number" line="219"><span class="token comment"># show network details</span>
</span><span class="code-line line-number" line="220">lxc network show lxdbr0
</span><span class="code-line line-number" line="221">
</span><span class="code-line line-number" line="222"><span class="token comment"># set ipv4.dhcp.ranges</span>
</span><span class="code-line line-number" line="223">lxc network <span class="token builtin class-name">set</span> lxdbr0 <span class="token assign-left variable">ipv4.dhcp.ranges</span><span class="token operator">=</span><span class="token number">10.119</span>.220.100-10.119.220.200
</span><span class="code-line line-number" line="224">
</span><span class="code-line line-number" line="225"><span class="token comment"># attach a network to a container</span>
</span><span class="code-line line-number" line="226">lxc network attach lxdbr0 alpine
</span><span class="code-line line-number" line="227">
</span><span class="code-line line-number" line="228"><span class="token comment"># detach a network from a container</span>
</span><span class="code-line line-number" line="229">lxc network detach lxdbr0 alpine
</span><span class="code-line line-number" line="230">
</span><span class="code-line line-number" line="231"><span class="token comment">### LXD SNAPSHOT MANAGEMENT ###</span>
</span><span class="code-line line-number" line="232">
</span><span class="code-line line-number" line="233"><span class="token comment"># snapshot files</span>
</span><span class="code-line line-number" line="234">/var/lib/lxd/snapshots/
</span><span class="code-line line-number" line="235">/var/snap/lxd/common/lxd/snapshots
</span><span class="code-line line-number" line="236">
</span><span class="code-line line-number" line="237"><span class="token comment"># create a snapshot</span>
</span><span class="code-line line-number" line="238">lxc snapshot debian12
</span><span class="code-line line-number" line="239">
</span><span class="code-line line-number" line="240"><span class="token comment"># create a snapshot</span>
</span><span class="code-line line-number" line="241">lxc snapshot debian12 nome-snapshot
</span><span class="code-line line-number" line="242">
</span><span class="code-line line-number" line="243"><span class="token comment"># restore a snapshot</span>
</span><span class="code-line line-number" line="244">lxc restore debian12 nome-snapshot
</span><span class="code-line line-number" line="245">
</span><span class="code-line line-number" line="246"><span class="token comment"># delete a snapshot</span>
</span><span class="code-line line-number" line="247">lxc delete debian12/snap0
</span><span class="code-line line-number" line="248">
</span><span class="code-line line-number" line="249"><span class="token comment"># show snapshot info</span>
</span><span class="code-line line-number" line="250">lxc info debian12
</span><span class="code-line line-number" line="251">
</span><span class="code-line line-number" line="252"><span class="token comment"># copy a snapshot</span>
</span><span class="code-line line-number" line="253">lxc copy debian12/snap0 debian12-2
</span><span class="code-line line-number" line="254">
</span><span class="code-line line-number" line="255"><span class="token comment">### LXD PROFILES MANAGEMENT ###</span>
</span><span class="code-line line-number" line="256">
</span><span class="code-line line-number" line="257"><span class="token comment"># list profiles</span>
</span><span class="code-line line-number" line="258">lxc profile list
</span><span class="code-line line-number" line="259">
</span><span class="code-line line-number" line="260"><span class="token comment"># show profile details</span>
</span><span class="code-line line-number" line="261">lxc profile show default
</span><span class="code-line line-number" line="262">
</span><span class="code-line line-number" line="263"><span class="token comment"># copy profile</span>
</span><span class="code-line line-number" line="264">lxc profile copy default production
</span><span class="code-line line-number" line="265">
</span><span class="code-line line-number" line="266"><span class="token comment"># edit profile</span>
</span><span class="code-line line-number" line="267">lxc profile edit production
</span><span class="code-line line-number" line="268">
</span><span class="code-line line-number" line="269"><span class="token comment">#set environment variables</span>
</span><span class="code-line line-number" line="270">lxc profile <span class="token builtin class-name">set</span> production environment.EDITOR <span class="token function">vim</span>
</span><span class="code-line line-number" line="271">
</span><span class="code-line line-number" line="272"><span class="token comment"># unset memory limit</span>
</span><span class="code-line line-number" line="273">lxc profile <span class="token builtin class-name">unset</span> production limits.memory
</span><span class="code-line line-number" line="274">
</span><span class="code-line line-number" line="275"><span class="token comment"># set boot autostart</span>
</span><span class="code-line line-number" line="276">lxc profile <span class="token builtin class-name">set</span> production boot.autostart <span class="token boolean">true</span>
</span><span class="code-line line-number" line="277">
</span><span class="code-line line-number" line="278"><span class="token comment"># add profile to container</span>
</span><span class="code-line line-number" line="279">lxc profile <span class="token function">add</span> debian12 production
</span><span class="code-line line-number" line="280">
</span><span class="code-line line-number" line="281"><span class="token comment"># remove profile from container</span>
</span><span class="code-line line-number" line="282">lxc profile remove debian12 production
</span><span class="code-line line-number" line="283">
</span><span class="code-line line-number" line="284"><span class="token comment"># launch container with profile</span>
</span><span class="code-line line-number" line="285">lxc launch 1u1u1u1u1u1 rockylinux9-2 <span class="token parameter variable">-p</span> production
</span></code><div onclick="copied(this)" data-code="# lxd configuration files
/var/lib/lxd
/var/log/lxd

# initialize lxd
sudo lxd init
sudo lxd init --auto
sudo cat lxd-init.yaml | lxd init --preseed

# check lxd version
sudo lxd --version

# check lxd status
systemctl status lxd

#### LXD STORAGE MANAGEMENT ####

# lxd list storage
lxc storage list

# show lxd storage pools
lxc storage show default

# lxd storage info
lxc storage info default

# create a new storage pool dir
lxc storage create lpic3-dir dir 

# create a new storage pool lvm
lxc storage create lpic3-lvm lvm source=/dev/sdb1

# create a new storage pool btrfs
lxc storage create lpic3-btrfs btrfs
lxc storage create lpic3-btrfs btrfs size=10GB
lxc storage create lpic3-btrfs btrfs source=/dev/sdb2

# create a new storage pool zfs
lxc storage create lpic3-zfs zfs source=/dev/sdb3

# delete storage pool
lxc storage delete lpic3-btrfs

# edit storage pool
lxc storage edit lpic3-btrfs

# get storage pool properties
lxc storage  get lpic3-btrfs size

# set storage pool properties
lxc storage set lpic3-btrfs size 20GB

# list storage volumes
lxc storage volume list lpic3-btrfs

# create a new storage volume
lxc storage volume create lpic3-btrfs vol-lpic3-btrfs

# delete storage volume
lxc storage volume delete lpic3-btrfs vol-lpic3-btrfs

### Management lxd storage buckets ####

# create lxd bucket
lxc storage bucket create lpic3-btrfs bucket-lpic3-btrfs
lxc storage bucket create lpic3-zfs bucket-lpic3-zfs

# list lxd buckets
lxc storage bucket list lpic3-btrfs

# set lxd bucket properties
lxc storage bucket set lpic3-btrfs bucket-lpic3-btrfs size 10GB

# edit lxd bucket 
lxc storage bucket edit lpic3-btrfs bucket-lpic3-btrfs

# delete lxd bucket
lxc storage bucket delete lpic3-btrfs bucket-lpic3-btrfs

# show ldx storage bucket
lxc storage bucket show lpic3-btrfs bucket-lpic3-btrfs

# create storage bucket keys
lxc storage bucket key create lpic3-btrfs bucket-lpic3-btrfs key-bucket-lpic3-btrfs

# edit storage bucket keys
lxc storage bucket key edit lpic3-btrfs bucket-lpic3-btrfs key-bucket-lpic3-btrfs

# list storage bucket keys
lxc storage bucket key list lpic3-btrfs bucket-lpic3-btrfs

# show storage bucket keys
lxc storage bucket key show lpic3-btrfs bucket-lpic3-btrfs key-bucket-lpic3-btrfs

# delete storage bucket keys
lxc storage bucket key delete lpic3-btrfs bucket-lpic3-btrfs key-bucket-lpic3-btrfs

### LXD IMAGE MANAGEMENT ###

# list lxd repositories
lxc remote list

# add lxd remote repository
lxc remote add lpic3-images https://images.lxd.canonical.com --protocol=simplestreams

# remove lxd remote repository
lxc remote remove lpic3-images 

# list lxd images
lxc image list

# list lxd images from remote repository
lxc image list images:
lxc image list images: os=Ubuntu
lxc image list images: os=Ubuntu release=jammy
lxc image list images: os=Ubuntu release=jammy architecture=amd64
lxc image list images: architecture=amd64 type=container
lxc image list images: d kal

# download lxd image to local
lxc image copy images:centos/9-Stream local: --alias centos-9

# export lxd remote image
lxc image export aed8a3749942  ./lxd-images/centos-9

# export lxd remote image
lxc image export images:f8fadb0d1b28 ./lxd-images/alma-9

# remove lxd image
lxc image delete centos-9

# mount lxd rootfs
mkdir -p /mnt/lxd-rootfs/centos-9
sudo mount lxd-images/centos-9/aed8a374994230243aaa82e979ac7d23f379e511556d35af051b1638662d47ae.squashfs  /mnt/lxd-rootfs/centos-9/
ls /mnt/lxd-rootfs/centos-9/

### LXD INSTANCES MANAGEMENT ###

# create a new container from image
lxc launch images:ubuntu/jammy ubuntu-lxd
lxc launch images:debian/12 debian12lxc
lxc launch images:fedora/41 fedora41
lxc launch images:opensuse/15.6 opensuse15

# create a new container from image with storage pool
lxc launch images:alpine/3.19 alpine --storage lpic3-lvm
lxc launch images:kali kali --storage lpic3-zfs

# create a new container from image local
lxc launch 757b2a721e9d kali-local-image

# create new vm
lxc launch --vm  images:debian/13 debian13 --storage lpic3-zfs
lxc launch --vm  images:e44d713a71b6 rocky9 --storage lpic3-btrfs

# list container\instances
lxc list

# stop container\instance
lxc stop alpine

# start container\instance
lxc start alpine

# delete container\instance
lxc delete alpine --force

# show container\instance
lxc info alpine

# show container\instance config
lxc config show alpine

# edit container\instance config
lxc config edit alpine

# view container\instance config
lxc config get alpine boot.autostart

# set container\instance config
lxc config set alpine boot.autostart=false

# set limit for container\instance
lxc config set alpine limits.cpu 2
lxc config set alpine limits.memory 10%

# unset limit for container\instance
lxc config unset alpine limits.cpu  
lxc config unset alpine limits.memory

# execute command in container\instance
lxc --exec alpine -- /bin/bash
lxc exec alpine -- uname -a || dhclient
lxc exec alpine -- sh -c &#x22;echo &#x27;Hello from Alpine&#x27;&#x22;

# lxd copy file to container\instance
lxc file push /etc/hosts alpine/etc/hosts

# lxd edit file in container\instance
lxc file edit alpine/etc/hosts

# download file from container\instance
lxc file pull alpine/etc/hosts /tmp/alpine-hosts

### LXD NETWORK MANAGEMENT ###

# list networks
lxc network list

# show network details
lxc network show lxdbr0

# create a new network
lxc network create lxdbr1

# delete a network
lxc network delete lxdbr0

# show network details
lxc network show lxdbr0

# set ipv4.dhcp.ranges
lxc network set lxdbr0 ipv4.dhcp.ranges=10.119.220.100-10.119.220.200

# attach a network to a container
lxc network attach lxdbr0 alpine

# detach a network from a container
lxc network detach lxdbr0 alpine

### LXD SNAPSHOT MANAGEMENT ###

# snapshot files
/var/lib/lxd/snapshots/
/var/snap/lxd/common/lxd/snapshots

# create a snapshot
lxc snapshot debian12

# create a snapshot
lxc snapshot debian12 nome-snapshot

# restore a snapshot
lxc restore debian12 nome-snapshot

# delete a snapshot
lxc delete debian12/snap0

# show snapshot info
lxc info debian12

# copy a snapshot
lxc copy debian12/snap0 debian12-2

### LXD PROFILES MANAGEMENT ###

# list profiles
lxc profile list

# show profile details
lxc profile show default

# copy profile
lxc profile copy default production

# edit profile
lxc profile edit production

#set environment variables
lxc profile set production environment.EDITOR vim

# unset memory limit
lxc profile unset production limits.memory

# set boot autostart
lxc profile set production boot.autostart true

# add profile to container
lxc profile add debian12 production

# remove profile from container
lxc profile remove debian12 production

# launch container with profile
lxc launch 1u1u1u1u1u1 rockylinux9-2 -p production
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p align="right">(<a href="#topic-352.2">back to sub topic 352.2</a>)</p>
    <p align="right">(<a href="#topic-352">back to topic 352</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr>
    <p><a name="topic-352.3"></a></p>
    <h3 id="-3523-docker"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-3523-docker"><span class="octicon octicon-link"></span></a>üê≥ 352.3 Docker</h3>
    <p>
      <img src="images/docker.png" alt="docker-architecture">
    </p>
    <p>
      <img src="images/docker-containerd.png" alt="docker-runtime">
    </p>
    <p><strong>Weight:</strong> 9</p>
    <p><strong>Description:</strong> Candidate should be able to manage Docker nodes and Docker containers. This include understand the architecture of Docker as well as understanding how Docker interacts with the node‚Äôs Linux system.</p>
    <p><strong>Key Knowledge Areas:</strong></p>
    <ul>
      <li>Understand the architecture and components of Docker</li>
      <li>Manage Docker containers by using images from a Docker registry</li>
      <li>Understand and manage images and volumes for Docker containers</li>
      <li>Understand and manage logging for Docker containers</li>
      <li>Understand and manage networking for Docker</li>
      <li>Use Dockerfiles to create container images</li>
      <li>Run a Docker registry using the registry Docker image</li>
    </ul>
    <h4 id="-3523-cited-objects"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-3523-cited-objects"><span class="octicon octicon-link"></span></a>üìã 352.3 Cited Objects</h4>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">dockerd
</span><span class="code-line line-number" line="2">/etc/docker/daemon.json
</span><span class="code-line line-number" line="3">/var/lib/docker/
</span><span class="code-line line-number" line="4"><span class="token function">docker</span>
</span><span class="code-line line-number" line="5">Dockerfile
</span></code><div onclick="copied(this)" data-code="dockerd
/etc/docker/daemon.json
/var/lib/docker/
docker
Dockerfile
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="-definition-1"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-definition-1"><span class="octicon octicon-link"></span></a>üìñ Definition</h4>
    <p>Docker is an <strong>open-source container platform</strong> that allows developers and operators to package applications and their dependencies into <strong>containers</strong> .</p>
    <p>These containers ensure <strong>consistency across environments</strong> , speed up deployments, and reduce infrastructure complexity.</p>
    <hr>
    <h4 id="-key-concepts"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-key-concepts"><span class="octicon octicon-link"></span></a>üîë Key Concepts</h4>
    <ul>
      <li>üì¶ <strong>container</strong> ‚Üí Lightweight, isolated runtime sharing the host kernel.</li>
      <li>üñºÔ∏è <strong>Image</strong> ‚Üí Read-only template containing the app and dependencies.</li>
      <li>‚öôÔ∏è <strong>Docker Engine (dockerd)</strong> ‚Üí Daemon managing containers, images, and volumes.</li>
      <li>‚å®Ô∏è <strong>Docker CLI</strong> ‚Üí Command-line tool (<code>docker</code>) communicating with the daemon.</li>
      <li>‚òÅÔ∏è <strong>Docker Hub</strong> ‚Üí Default registry for storing and distributing images.</li>
    </ul>
    <hr>
    <h4 id="-advantages"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-advantages"><span class="octicon octicon-link"></span></a>üöÄ Advantages</h4>
    <ul>
      <li>‚ö° <strong>Lightweight &#x26; Fast</strong> ‚Üí Much faster than virtual machines.</li>
      <li>üåç <strong>Portability</strong> ‚Üí Runs anywhere Docker is supported.</li>
      <li>üõ†Ô∏è <strong>Rich Ecosystem</strong> ‚Üí Compose, Swarm, Hub, Desktop UI, registries.</li>
      <li>üîÑ <strong>DevOps Friendly</strong> ‚Üí CI/CD integration and IaC alignment.</li>
    </ul>
    <hr>
    <h4 id="-docker-registries"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-docker-registries"><span class="octicon octicon-link"></span></a>üìë Docker Registries</h4>
    <ul>
      <li>‚òÅÔ∏è <strong>Docker Hub</strong> ‚Üí Default, public registry.</li>
      <li>üè¢ <strong>Private Registries</strong> ‚Üí Harbor, Artifactory, GitHub container Registry.</li>
      <li>üîí Use <code>docker login</code> to authenticate, push, and pull images.</li>
    </ul>
    <hr>
    <h4 id="docker-images"><a class="anchor" aria-hidden="true" tabindex="-1" href="#docker-images"><span class="octicon octicon-link"></span></a>Docker Images</h4>
    <p>
      <img src="images/docker-images.png" alt="docker-images">
    </p>
    <ul>
      <li>Concept: immutable package with app, dependencies, and metadata.</li>
      <li>Layers and cache: each Dockerfile instruction becomes a reusable layer</li>
      <li>Builds and pulls share layers.</li>
      <li>Naming: <code>registry/namespace/repo:tag</code> (e.g., <code>docker.io/library/nginx:1.27</code>).</li>
      <li>Digest: use <code>@sha256:...</code> to pin exact content (good for production).</li>
      <li>Image vs container: image is read-only; container is an instance with an ephemeral write layer.</li>
      <li>Basic commands: <code>docker image ls</code>, <code>docker pull</code>, <code>docker run</code>, <code>docker inspect</code>, <code>docker history</code>, <code>docker tag</code>, <code>docker push</code>, <code>docker rmi</code>, <code>docker image prune -a</code>, <code>docker save</code>/<code>docker load</code>.</li>
      <li>Best practices: minimal base (alpine/distroless), multi-stage builds, pin versions/tags, run as non-root <code>USER</code>.</li>
    </ul>
    <h5 id="docker-image-layers"><a class="anchor" aria-hidden="true" tabindex="-1" href="#docker-image-layers"><span class="octicon octicon-link"></span></a>Docker Image Layers</h5>
    <p>In this example, I demonstrate a docker image layers.</p>
    <p>In the first image we have a base image of alpine and add one layer.</p>
    <pre class="language-dockerfile"><code class="language-dockerfile code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># syntax=docker/dockerfile:1</span>
</span><span class="code-line line-number" line="2"><span class="token instruction"><span class="token keyword">FROM</span> alpine</span>
</span><span class="code-line line-number" line="3"><span class="token instruction"><span class="token keyword">RUN</span> apk add --no-cache bash</span>
</span></code><div onclick="copied(this)" data-code="# syntax=docker/dockerfile:1
FROM alpine
RUN apk add --no-cache bash
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>The second image I have a my-base-image:1.0 and add two layers, generating a new image with name acme/my-final-image:1.0.</p>
    <pre class="language-dockerfile"><code class="language-dockerfile code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># syntax=docker/dockerfile:1</span>
</span><span class="code-line line-number" line="2"><span class="token instruction"><span class="token keyword">FROM</span> acme/my-base-image:1.0</span>
</span><span class="code-line line-number" line="3"><span class="token instruction"><span class="token keyword">COPY</span> . /app</span>
</span><span class="code-line line-number" line="4"><span class="token instruction"><span class="token keyword">RUN</span> chmod +x /app/hello.sh</span>
</span><span class="code-line line-number" line="5"><span class="token instruction"><span class="token keyword">CMD</span> /app/hello.sh</span>
</span></code><div onclick="copied(this)" data-code="# syntax=docker/dockerfile:1
FROM acme/my-base-image:1.0
COPY . /app
RUN chmod +x /app/hello.sh
CMD /app/hello.sh
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>
      <img src="images/docker-image-layers.png" alt="docker-image-layers">
    </p>
    <h5 id="docker-image-copy-on-write-cow"><a class="anchor" aria-hidden="true" tabindex="-1" href="#docker-image-copy-on-write-cow"><span class="octicon octicon-link"></span></a>Docker image Copy-on-Write (CoW)</h5>
    <p>In this example, I demonstrate a docker image Copy-on-Write (CoW).</p>
    <p>Create a 5 containers from the same image.</p>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token function">docker</span> run <span class="token parameter variable">-dit</span> <span class="token parameter variable">--name</span> my_container_1 acme/my-final-image:1.0 <span class="token function">bash</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="2">  <span class="token operator">&#x26;&#x26;</span> <span class="token function">docker</span> run <span class="token parameter variable">-dit</span> <span class="token parameter variable">--name</span> my_container_2 acme/my-final-image:1.0 <span class="token function">bash</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="3">  <span class="token operator">&#x26;&#x26;</span> <span class="token function">docker</span> run <span class="token parameter variable">-dit</span> <span class="token parameter variable">--name</span> my_container_3 acme/my-final-image:1.0 <span class="token function">bash</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="4">  <span class="token operator">&#x26;&#x26;</span> <span class="token function">docker</span> run <span class="token parameter variable">-dit</span> <span class="token parameter variable">--name</span> my_container_4 acme/my-final-image:1.0 <span class="token function">bash</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="5">  <span class="token operator">&#x26;&#x26;</span> <span class="token function">docker</span> run <span class="token parameter variable">-dit</span> <span class="token parameter variable">--name</span> my_container_5 acme/my-final-image:1.0 <span class="token function">bash</span>
</span></code><div onclick="copied(this)" data-code="docker run -dit --name my_container_1 acme/my-final-image:1.0 bash \
  &#x26;&#x26; docker run -dit --name my_container_2 acme/my-final-image:1.0 bash \
  &#x26;&#x26; docker run -dit --name my_container_3 acme/my-final-image:1.0 bash \
  &#x26;&#x26; docker run -dit --name my_container_4 acme/my-final-image:1.0 bash \
  &#x26;&#x26; docker run -dit --name my_container_5 acme/my-final-image:1.0 bash
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>See the size of the containers.</p>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">--size</span> <span class="token parameter variable">--format</span> <span class="token string">"table {{.ID}}<span class="token entity" title="\t">\t</span>{{.Image}}<span class="token entity" title="\t">\t</span>{{.Names}}<span class="token entity" title="\t">\t</span>{{.Size}}"</span>
</span></code><div onclick="copied(this)" data-code="docker ps --size --format &#x22;table {{.ID}}\t{{.Image}}\t{{.Names}}\t{{.Size}}&#x22;
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>To demonstrate this, run the following command to write the word 'hello' to a file on the container's writable layer in containers my_container_1, my_container_2, and my_container_3:</p>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token keyword">do</span> <span class="token function">docker</span> <span class="token builtin class-name">exec</span> my_container_<span class="token variable">$i</span> <span class="token function">sh</span> <span class="token parameter variable">-c</span> <span class="token string">'printf hello > /out.txt'</span><span class="token punctuation">;</span> <span class="token keyword">done</span>
</span></code><div onclick="copied(this)" data-code="for i in {1..3}; do docker exec my_container_$i sh -c &#x27;printf hello > /out.txt&#x27;; done
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>Check the size of the containers again.</p>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">--size</span> <span class="token parameter variable">--format</span> <span class="token string">"table {{.ID}}<span class="token entity" title="\t">\t</span>{{.Image}}<span class="token entity" title="\t">\t</span>{{.Names}}<span class="token entity" title="\t">\t</span>{{.Size}}"</span>
</span></code><div onclick="copied(this)" data-code="docker ps --size --format &#x22;table {{.ID}}\t{{.Image}}\t{{.Names}}\t{{.Size}}&#x22;
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>
      <img src="images/docker-image-cow.png" alt="docker-image-cow">
    </p>
    <h5 id="-dockerfile-image-instructions-and-layers"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-dockerfile-image-instructions-and-layers"><span class="octicon octicon-link"></span></a>üê≥ Dockerfile Image Instructions and Layers</h5>
    <p><strong>üìä Table: Instruction vs. Layer Generation</strong></p>
    <table>
      <thead>
        <tr>
          <th>Instruction</th>
          <th>Creates a Filesystem Layer?</th>
          <th>Notes</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>FROM</code></td>
          <td>‚ùå No</td>
          <td>Sets the base image; underlying layers come from it.</td>
        </tr>
        <tr>
          <td><code>RUN</code></td>
          <td>‚úÖ Yes</td>
          <td>Executes filesystem changes; adds content that persists.</td>
        </tr>
        <tr>
          <td><code>COPY</code></td>
          <td>‚úÖ Yes</td>
          <td>Adds files from build context into the image filesystem.</td>
        </tr>
        <tr>
          <td><code>ADD</code></td>
          <td>‚úÖ Yes</td>
          <td>Similar to COPY, with additional features (URLs, tar extraction).</td>
        </tr>
        <tr>
          <td><code>LABEL</code></td>
          <td>‚ùå No</td>
          <td>Only adds metadata; doesn‚Äôt change filesystem content.</td>
        </tr>
        <tr>
          <td><code>ENV</code></td>
          <td>‚ùå No</td>
          <td>Defines environment variables; stored as metadata.</td>
        </tr>
        <tr>
          <td><code>ARG</code></td>
          <td>‚ùå No</td>
          <td>Build-time only; does not affect final image unless used later.</td>
        </tr>
        <tr>
          <td><code>WORKDIR</code></td>
          <td>‚ùå No</td>
          <td>Changes working directory; metadata only.</td>
        </tr>
        <tr>
          <td><code>USER</code></td>
          <td>‚ùå No</td>
          <td>Sets the user; metadata only.</td>
        </tr>
        <tr>
          <td><code>EXPOSE</code></td>
          <td>‚ùå No</td>
          <td>Declares exposed port(s); metadata only.</td>
        </tr>
        <tr>
          <td><code>ENTRYPOINT</code></td>
          <td>‚ùå No</td>
          <td>Defines how container starts; metadata configuration.</td>
        </tr>
        <tr>
          <td><code>CMD</code></td>
          <td>‚ùå No</td>
          <td>Default command or args; metadata only.</td>
        </tr>
        <tr>
          <td><code>VOLUME</code></td>
          <td>‚úÖ Yes / Partial</td>
          <td>Declares mount points; metadata + volumes in runtime; has filesystem implications.</td>
        </tr>
        <tr>
          <td><code>HEALTHCHECK</code></td>
          <td>‚ùå No</td>
          <td>Defines health check config; stored as metadata.</td>
        </tr>
        <tr>
          <td><code>STOPSIGNAL</code></td>
          <td>‚ùå No</td>
          <td>Defines signal to stop container; metadata only.</td>
        </tr>
        <tr>
          <td><code>SHELL</code></td>
          <td>‚ùå No</td>
          <td>Changes shell for later <code>RUN</code>; metadata only.</td>
        </tr>
        <tr>
          <td><code>ONBUILD</code></td>
          <td>‚ùå No</td>
          <td>Triggers for future builds; metadata only.</td>
        </tr>
      </tbody>
    </table>
    <p><strong>üîé Key Insights</strong></p>
    <ul>
      <li>Most Dockerfile instructions <strong>create a new image layer</strong> ‚Äî even metadata changes (<code>CMD</code>, <code>EXPOSE</code>, etc.) are stored as part of the final image configuration.</li>
      <li><strong>Heavyweight layers</strong> come from instructions that <strong>modify the filesystem</strong> (<code>RUN</code>, <code>COPY</code>, <code>ADD</code>).</li>
      <li><strong>Lightweight/metadata layers</strong> come from instructions like <code>ENV</code>, <code>CMD</code>, <code>LABEL</code>.</li>
      <li><strong><code>ARG</code> is special</strong> : it exists only at build-time and is discarded in the final image unless used in other instructions.</li>
      <li>To minimize image size:
        <ul>
          <li>Combine multiple <code>RUN</code> commands into one.</li>
          <li>Use <code>.dockerignore</code> to avoid copying unnecessary files.</li>
          <li>Order instructions to maximize Docker‚Äôs <strong>build cache efficiency</strong> .</li>
        </ul>
      </li>
    </ul>
    <hr>
    <h4 id="-dockerfile"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-dockerfile"><span class="octicon octicon-link"></span></a>üê≥ Dockerfile</h4>
    <p>A <strong>Dockerfile</strong> is a declarative text file that contains a sequence of instructions to build a Docker image. It's the blueprint for creating reproducible, portable, and automated containerized environments.</p>
    <h5 id="-key-concepts-1"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-key-concepts-1"><span class="octicon octicon-link"></span></a>‚ú® Key Concepts</h5>
    <table>
      <thead>
        <tr>
          <th align="left">Concept</th>
          <th align="left">Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td align="left">üìú <strong>Declarative Script</strong></td>
          <td align="left">A simple text file with line-by-line instructions for assembling an image.</td>
        </tr>
        <tr>
          <td align="left">Í≤π <strong>Layered Architecture</strong></td>
          <td align="left">Each instruction in a Dockerfile creates a new layer in the image. Layers are stacked and are read-only.</td>
        </tr>
        <tr>
          <td align="left">‚ö° <strong>Build Cache</strong></td>
          <td align="left">Docker caches the result of each layer. If a layer and its dependencies haven't changed, Docker reuses the cached layer, making builds significantly faster.</td>
        </tr>
        <tr>
          <td align="left">üì¶ <strong>Build Context</strong></td>
          <td align="left">The set of files at a specified <code>PATH</code> or <code>URL</code> that are sent to the Docker daemon during a build. Use a <code>.dockerignore</code> file to exclude unnecessary files.</td>
        </tr>
        <tr>
          <td align="left">üèóÔ∏è <strong>Multi-Stage Builds</strong></td>
          <td align="left">A powerful feature that allows you to use multiple <code>FROM</code> instructions in a single Dockerfile. This helps to separate build-time dependencies from runtime dependencies, resulting in smaller and more secure production images.</td>
        </tr>
      </tbody>
    </table>
    <hr>
    <h5 id="-core-instructions"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-core-instructions"><span class="octicon octicon-link"></span></a>üìù Core Instructions</h5>
    <p>The following table summarizes the most common Dockerfile instructions.</p>
    <table>
      <thead>
        <tr>
          <th align="left">Instruction</th>
          <th align="left">Purpose</th>
          <th align="left">Example</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td align="left">üèÅ <strong><code>FROM</code></strong></td>
          <td align="left">Specifies the base image for subsequent instructions. Must be the first instruction.</td>
          <td align="left"><code>FROM ubuntu:22.04</code></td>
        </tr>
        <tr>
          <td align="left">üè∑Ô∏è <strong><code>LABEL</code></strong></td>
          <td align="left">Adds metadata to an image as key-value pairs.</td>
          <td align="left"><code>LABEL version="1.0" maintainer="me@example.com"</code></td>
        </tr>
        <tr>
          <td align="left">üèÉ <strong><code>RUN</code></strong></td>
          <td align="left">Executes any commands in a new layer on top of the current image and commits the results.</td>
          <td align="left"><code>RUN apt-get update &#x26;&#x26; apt-get install -y nginx</code></td>
        </tr>
        <tr>
          <td align="left">üöÄ <strong><code>CMD</code></strong></td>
          <td align="left">Provides defaults for an executing container. There can only be one <code>CMD</code>.</td>
          <td align="left"><code>CMD ["nginx", "-g", "daemon off;"]</code></td>
        </tr>
        <tr>
          <td align="left">üö™ <strong><code>ENTRYPOINT</code></strong></td>
          <td align="left">Configures a container that will run as an executable.</td>
          <td align="left"><code>ENTRYPOINT ["/usr/sbin/nginx"]</code></td>
        </tr>
        <tr>
          <td align="left">üåê <strong><code>EXPOSE</code></strong></td>
          <td align="left">Informs Docker that the container listens on the specified network ports at runtime.</td>
          <td align="left"><code>EXPOSE 80</code></td>
        </tr>
        <tr>
          <td align="left">üå≥ <strong><code>ENV</code></strong></td>
          <td align="left">Sets environment variables.</td>
          <td align="left"><code>ENV APP_VERSION=1.0</code></td>
        </tr>
        <tr>
          <td align="left">üìÇ <strong><code>COPY</code></strong></td>
          <td align="left">Copies new files or directories from the build context to the filesystem of the image.</td>
          <td align="left"><code>COPY ./app /app</code></td>
        </tr>
        <tr>
          <td align="left">üîó <strong><code>ADD</code></strong></td>
          <td align="left">Similar to <code>COPY</code>, but with more features like remote URL support and tar extraction.</td>
          <td align="left"><code>ADD http://example.com/big.tar.xz /usr/src</code></td>
        </tr>
        <tr>
          <td align="left">üë§ <strong><code>USER</code></strong></td>
          <td align="left">Sets the user name (or UID) and optionally the user group (or GID) to use when running the image.</td>
          <td align="left"><code>USER appuser</code></td>
        </tr>
        <tr>
          <td align="left">üìÅ <strong><code>WORKDIR</code></strong></td>
          <td align="left">Sets the working directory for any <code>RUN</code>, <code>CMD</code>, <code>ENTRYPOINT</code>, <code>COPY</code>, and <code>ADD</code> instructions.</td>
          <td align="left"><code>WORKDIR /app</code></td>
        </tr>
        <tr>
          <td align="left">üíæ <strong><code>VOLUME</code></strong></td>
          <td align="left">Creates a mount point with the specified name and marks it as holding externally mounted volumes.</td>
          <td align="left"><code>VOLUME /var/lib/mysql</code></td>
        </tr>
        <tr>
          <td align="left">üèóÔ∏è <strong><code>ONBUILD</code></strong></td>
          <td align="left">Adds to the image a trigger instruction to be executed at a later time, when the image is used as the base for another build.</td>
          <td align="left"><code>ONBUILD COPY . /app/src</code></td>
        </tr>
        <tr>
          <td align="left">üíä <strong><code>HEALTHCHECK</code></strong></td>
          <td align="left">Tells Docker how to test a container to check that it is still working.</td>
          <td align="left">`HEALTHCHECK --interval=5m --timeout=3s CMD curl -f <a href="http://localhost/">http://localhost/</a></td>
        </tr>
        <tr>
          <td align="left">üêö <strong><code>SHELL</code></strong></td>
          <td align="left">Allows the default shell used for the shell form of commands to be overridden.</td>
          <td align="left"><code>SHELL ["/bin/bash", "-c"]</code></td>
        </tr>
      </tbody>
    </table>
    <hr>
    <h5 id="-best-practices-for-writing-dockerfiles"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-best-practices-for-writing-dockerfiles"><span class="octicon octicon-link"></span></a>‚≠ê Best Practices for Writing Dockerfiles</h5>
    <p>Following best practices is crucial for creating efficient, secure, and maintainable images.</p>
    <table>
      <thead>
        <tr>
          <th align="left">Guideline</th>
          <th align="left">Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td align="left">ü§è <strong>Keep it Small</strong></td>
          <td align="left">Start with a minimal base image (like <code>alpine</code> or <code>distroless</code>). Don't install unnecessary packages to reduce size and attack surface.</td>
        </tr>
        <tr>
          <td align="left">‚ôªÔ∏è <strong>Leverage Build Cache</strong></td>
          <td align="left">Order your Dockerfile instructions from least to most frequently changing. Place <code>COPY</code> and <code>ADD</code> instructions as late as possible to avoid cache invalidation.</td>
        </tr>
        <tr>
          <td align="left">üèóÔ∏è <strong>Use Multi-Stage Builds</strong></td>
          <td align="left">Separate your build environment from your runtime environment. This dramatically reduces the size of your final image by excluding build tools and dependencies.</td>
        </tr>
        <tr>
          <td align="left">üö´ <strong>Use <code>.dockerignore</code></strong></td>
          <td align="left">Exclude files and directories that are not necessary for the build (e.g., <code>.git</code>, <code>node_modules</code>, local test scripts) to keep the build context small and avoid sending sensitive data.</td>
        </tr>
        <tr>
          <td align="left">üì¶ <strong>Combine <code>RUN</code> Instructions</strong></td>
          <td align="left">Chain related commands using <code>&#x26;&#x26;</code> to create a single layer. For example, combine <code>apt-get update</code> with <code>apt-get install</code> and clean up afterwards (<code>rm -rf /var/lib/apt/lists/*</code>).</td>
        </tr>
        <tr>
          <td align="left">üìå <strong>Pin Versions</strong></td>
          <td align="left">Pin versions for base images (<code>ubuntu:22.04</code>) and packages (<code>nginx=1.21.6-1~bullseye</code>) to ensure reproducible builds and avoid unexpected changes.</td>
        </tr>
        <tr>
          <td align="left">üë§ <strong>Run as Non-Root</strong></td>
          <td align="left">Create a dedicated user and group with <code>RUN useradd</code>, and use the <code>USER</code> instruction to switch to that user. This improves security by avoiding running containers with root privileges.</td>
        </tr>
        <tr>
          <td align="left">üöÄ <strong><code>CMD</code> vs <code>ENTRYPOINT</code></strong></td>
          <td align="left">Use <code>ENTRYPOINT</code> for the main executable of the image and <code>CMD</code> to specify default arguments. This makes the image behave like a binary.</td>
        </tr>
        <tr>
          <td align="left">üí¨ <strong>Sort Multi-line Arguments</strong></td>
          <td align="left">Sort multi-line arguments alphanumerically (e.g., in a long <code>RUN apt-get install</code> command) to make the Dockerfile easier to read and maintain.</td>
        </tr>
        <tr>
          <td align="left">üìù <strong>Be Explicit</strong></td>
          <td align="left">Use <code>COPY</code> instead of <code>ADD</code> when the extra magic of <code>ADD</code> (like tar extraction or URL fetching) is not needed. It's more transparent.</td>
        </tr>
      </tbody>
    </table>
    <p><strong>Dockerfile example</strong></p>
    <pre class="language-dockerfile"><code class="language-dockerfile code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># syntax=docker/dockerfile:1</span>
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3"><span class="token comment"># ---- Base Stage ----</span>
</span><span class="code-line line-number" line="4"><span class="token instruction"><span class="token keyword">FROM</span> ubuntu:22.04 <span class="token keyword">AS</span> base</span>
</span><span class="code-line line-number" line="5"><span class="token instruction"><span class="token keyword">RUN</span> apt-get update &#x26;&#x26; apt-get install -y --no-install-recommends nginx <span class="token operator">\</span>
</span></span><span class="code-line line-number" line="6"><span class="token instruction">    &#x26;&#x26; rm -rf /var/lib/apt/lists/*</span>
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8"><span class="token comment"># ---- Production Stage ----</span>
</span><span class="code-line line-number" line="9"><span class="token instruction"><span class="token keyword">FROM</span> base <span class="token keyword">AS</span> production</span>
</span><span class="code-line line-number" line="10"><span class="token instruction"><span class="token keyword">COPY</span> ./html /usr/share/nginx/html</span>
</span><span class="code-line line-number" line="11"><span class="token instruction"><span class="token keyword">EXPOSE</span> 80</span>
</span><span class="code-line line-number" line="12"><span class="token instruction"><span class="token keyword">CMD</span> [<span class="token string">"nginx"</span>, <span class="token string">"-g"</span>, <span class="token string">"daemon off;"</span>]</span>
</span></code><div onclick="copied(this)" data-code="# syntax=docker/dockerfile:1

# ---- Base Stage ----
FROM ubuntu:22.04 AS base
RUN apt-get update &#x26;&#x26; apt-get install -y --no-install-recommends nginx \
    &#x26;&#x26; rm -rf /var/lib/apt/lists/*

# ---- Production Stage ----
FROM base AS production
COPY ./html /usr/share/nginx/html
EXPOSE 80
CMD [&#x22;nginx&#x22;, &#x22;-g&#x22;, &#x22;daemon off;&#x22;]
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <hr>
    <h4 id="docker--containerd--shim--runc-architecture"><a class="anchor" aria-hidden="true" tabindex="-1" href="#docker--containerd--shim--runc-architecture"><span class="octicon octicon-link"></span></a>Docker + containerd + shim + runc Architecture</h4>
    <p>
      <img src="images/docker-shim.png" alt="Docker shim architecture example">
    </p>
    <h5 id="-main-components"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-main-components"><span class="octicon octicon-link"></span></a>üîπ Main Components</h5>
    <ul>
      <li>
        <p><strong>Docker CLI / Docker Daemon (<code>dockerd</code>)</strong></p>
        <p>The <code>docker</code> command communicates with the Docker daemon, which orchestrates container lifecycle, images, networks, and volumes.</p>
      </li>
      <li>
        <p><strong>containerd</strong></p>
        <p>A high-level container runtime that manages the entire container lifecycle: pulling images, managing storage, networking, and execution.</p>
      </li>
      <li>
        <p><strong>containerd-shim</strong></p>
        <ul>
          <li>Acts as the <em>parent process</em> of each container once <code>runc</code> has done its job.</li>
          <li>Keeps <strong>stdin/stdout/stderr</strong> streams open, even if Docker or containerd restarts (so <code>docker logs</code> / <code>kubectl logs</code> still work).</li>
          <li>Collects the container exit code and reports it back to the manager.</li>
          <li>Prevents containers from becoming orphans if the daemon crashes or is restarted.</li>
        </ul>
      </li>
      <li>
        <p><strong>runc</strong></p>
        <p>A low-level runtime (OCI-compliant) that creates containers using Linux namespaces and cgroups.</p>
        <p>After launching the container, <code>runc</code> exits, and <code>containerd-shim</code> takes over as the parent process.</p>
      </li>
    </ul>
    <hr>
    <h5 id="-execution-flow"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-execution-flow"><span class="octicon octicon-link"></span></a>üîπ Execution Flow</h5>
    <ol>
      <li><strong>User</strong> runs <code>docker run ...</code> ‚Üí the <strong>Docker Daemon</strong> is called.</li>
      <li><strong>Docker Daemon</strong> delegates to <strong>containerd</strong> .</li>
      <li><strong>containerd</strong> spawns <strong>runc</strong> , which sets up the container.</li>
      <li>Once the container starts, <strong>runc exits</strong> .</li>
      <li><strong>containerd-shim</strong> remains as the <strong>container‚Äôs parent process</strong> , handling logging and exit codes.</li>
    </ol>
    <hr>
    <h5 id="-benefits-of-the-shim-layer"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-benefits-of-the-shim-layer"><span class="octicon octicon-link"></span></a>üîπ Benefits of the Shim Layer</h5>
    <ul>
      <li><strong>Resilience</strong> ‚Üí Containers continue running even if <code>dockerd</code> or <code>containerd</code> crash or restart.</li>
      <li><strong>Logging</strong> ‚Üí Maintains container log streams for <code>docker logs</code> or <code>kubectl logs</code>.</li>
      <li><strong>Isolation</strong> ‚Üí Each container has its own shim, simplifying lifecycle management.</li>
      <li><strong>Standards Compliance</strong> ‚Üí Works with the <strong>OCI runtime spec</strong> , ensuring compatibility.</li>
    </ul>
    <h4 id="Ô∏è-docker-vs-containerd"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-docker-vs-containerd"><span class="octicon octicon-link"></span></a>‚öñÔ∏è Docker vs. containerd</h4>
    <table>
      <thead>
        <tr>
          <th>üîπ Feature / Component</th>
          <th>üê≥ Docker (dockerd)</th>
          <th>üêã containerd</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Scope</td>
          <td>Full platform (build, CLI, UI, Hub)</td>
          <td>Core container runtime only</td>
        </tr>
        <tr>
          <td>API</td>
          <td>High-level Docker API</td>
          <td>Low-level CRI/runtime API</td>
        </tr>
        <tr>
          <td>Built upon</td>
          <td>Uses containerd internally</td>
          <td>Standalone runtime</td>
        </tr>
        <tr>
          <td>Features</td>
          <td>Build, Compose, Swarm, Hub, Desktop</td>
          <td>Image lifecycle, pull/run, runtime</td>
        </tr>
        <tr>
          <td>Use Cases</td>
          <td>Dev workflows, local testing</td>
          <td>Kubernetes, production runtimes</td>
        </tr>
        <tr>
          <td>Footprint</td>
          <td>Heavier, more tooling</td>
          <td>Lightweight, efficient</td>
        </tr>
        <tr>
          <td>Ecosystem</td>
          <td>Rich developer tools</td>
          <td>CNCF project, Kubernetes default</td>
        </tr>
      </tbody>
    </table>
    <h4 id="docker-storage"><a class="anchor" aria-hidden="true" tabindex="-1" href="#docker-storage"><span class="octicon octicon-link"></span></a>Docker Storage</h4>
    <h5 id="-core-concepts"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-core-concepts"><span class="octicon octicon-link"></span></a>üß± Core Concepts</h5>
    <table>
      <thead>
        <tr>
          <th>üîç Focus</th>
          <th>Details</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Union FS</td>
          <td>Read-only image layers + the container's writable layer form a union filesystem; removing the container drops ephemeral changes.</td>
        </tr>
        <tr>
          <td>Data Root</td>
          <td>Storage drivers persist data under <code>/var/lib/docker/&#x3C;driver>/</code>; inspect the active driver via <code>docker info --format "{{.Driver}}"</code>.</td>
        </tr>
        <tr>
          <td>Persistence</td>
          <td>Move stateful data to <strong>volumes</strong> (persistent), <strong>bind mounts</strong> (host path), or <strong>tmpfs mounts</strong> (in-memory, ephemeral) to survive container recreation or optimize performance.</td>
        </tr>
      </tbody>
    </table>
    <h5 id="Ô∏è-storage-drivers"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-storage-drivers"><span class="octicon octicon-link"></span></a>‚öôÔ∏è Storage Drivers</h5>
    <table>
      <thead>
        <tr>
          <th>Driver</th>
          <th>When to use</th>
          <th>Notes</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>overlay2</td>
          <td>Default on modern Linux kernels.</td>
          <td>Fast copy-on-write; backing filesystem must support <code>d_type</code>.</td>
        </tr>
        <tr>
          <td>fuse-overlayfs</td>
          <td>Rootless or user-namespace deployments.</td>
          <td>Adds a thin FUSE layer; enables non-root workflows.</td>
        </tr>
        <tr>
          <td>btrfs / zfs</td>
          <td>Need native snapshots, quotas, compression.</td>
          <td>Provision dedicated pools and use platform tooling for management.</td>
        </tr>
        <tr>
          <td>devicemapper (direct-lvm) / aufs</td>
          <td>Legacy setups only.</td>
          <td>Maintenance mode; plan migrations to overlay2.</td>
        </tr>
        <tr>
          <td>windowsfilter</td>
          <td>Windows container images.</td>
          <td>Use LCOW/WSL 2 to expose overlay2 for Linux workloads on Windows hosts.</td>
        </tr>
      </tbody>
    </table>
    <h5 id="-selecting-the-driver"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-selecting-the-driver"><span class="octicon octicon-link"></span></a>üß≠ Selecting the Driver</h5>
    <ul>
      <li>Confirm kernel modules (<code>modprobe overlay</code>) and filesystem prerequisites before switching drivers.</li>
      <li>Match driver features to workloads: many small layers favor <code>overlay2</code>; filesystem-level snapshots may justify <code>btrfs</code> or <code>zfs</code>.</li>
      <li>Stick to provider defaults on Docker Desktop, EKS, GKE, etc., to stay within support boundaries.</li>
      <li>Keep <code>/var/lib/docker</code> on reliable, low-latency storage‚Äîcopy-on-write drivers amplify slow disks.</li>
    </ul>
    <p>For testing volume drivers use script: <a href="scripts/docker/docker-storage-driver.sh">docker-storage-driver.sh</a>.</p>
    <h5 id="-docker-storage-types"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-docker-storage-types"><span class="octicon octicon-link"></span></a>üì¶ Docker Storage Types</h5>
    <p><strong>Volumes:</strong></p>
    <ul>
      <li>Managed by Docker, located outside the container's writable layer (<code>/var/lib/docker/volumes</code>).</li>
      <li>Persist after container removal, can be shared between containers.</li>
      <li>Used for data that must survive the container lifecycle.</li>
      <li>Examples:
        <ul>
          <li>Create volume: <code>docker volume create data</code></li>
          <li>Use volume: <code>docker run -v data:/app/data ...</code></li>
        </ul>
      </li>
    </ul>
    <p><strong>Bind Mounts:</strong></p>
    <ul>
      <li>Mount a host directory/file directly into the container.</li>
      <li>Useful for development, code sync, or accessing existing host data.</li>
      <li>Less portable (absolute paths, host permissions).</li>
      <li>Examples:
        <ul>
          <li><code>docker run -v /home/user/app:/app ...</code></li>
          <li><code>docker run --mount type=bind,source=/data,target=/app/data ...</code></li>
        </ul>
      </li>
    </ul>
    <p><strong>Tmpfs Mounts:</strong></p>
    <ul>
      <li>In-memory mount (RAM), does not persist after container stops or restarts.</li>
      <li>Ideal for temporary data, caches, or sensitive information.</li>
      <li>Nothing is written to disk, maximum performance.</li>
      <li>Examples:
        <ul>
          <li><code>docker run --mount type=tmpfs,target=/tmp/cache ...</code></li>
          <li><code>docker run --tmpfs /tmp/cache ...</code></li>
        </ul>
      </li>
    </ul>
    <p><strong>Quick summary:</strong></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Persistence</th>
          <th>Location</th>
          <th>Portability</th>
          <th>Typical use</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Volume</td>
          <td>Yes</td>
          <td>Docker</td>
          <td>High</td>
          <td>App data, databases</td>
        </tr>
        <tr>
          <td>Bind mount</td>
          <td>Optional</td>
          <td>Host</td>
          <td>Low</td>
          <td>Dev, integration</td>
        </tr>
        <tr>
          <td>Tmpfs</td>
          <td>No</td>
          <td>RAM</td>
          <td>High</td>
          <td>Cache, ephemeral</td>
        </tr>
      </tbody>
    </table>
    <h5 id="Ô∏è-storage-types-usage-examples"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-storage-types-usage-examples"><span class="octicon octicon-link"></span></a>üõ†Ô∏è Storage Types Usage examples</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Persistent volume</span>
</span><span class="code-line line-number" line="2"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> pg <span class="token parameter variable">-v</span> pgdata:/var/lib/postgresql/data postgres:16
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># Bind mount</span>
</span><span class="code-line line-number" line="5"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-v</span> /home/user/html:/usr/share/nginx/html nginx:latest
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token comment"># Tmpfs mount</span>
</span><span class="code-line line-number" line="8"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--mount</span> <span class="token assign-left variable">type</span><span class="token operator">=</span>tmpfs,target<span class="token operator">=</span>/tmp nginx:latest
</span><span class="code-line line-number" line="9"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--tmpfs</span> /tmp nginx:latest
</span></code><div onclick="copied(this)" data-code="# Persistent volume
docker run -d --name pg -v pgdata:/var/lib/postgresql/data postgres:16

# Bind mount
docker run -d -v /home/user/html:/usr/share/nginx/html nginx:latest

# Tmpfs mount
docker run -d --mount type=tmpfs,target=/tmp nginx:latest
docker run -d --tmpfs /tmp nginx:latest
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-docker-storage-best-practices"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-docker-storage-best-practices"><span class="octicon octicon-link"></span></a>‚úÖ Docker Storage Best practices</h5>
    <ul>
      <li>Prefer volumes for persistent and backup data.</li>
      <li>Use tmpfs for sensitive or temporary data.</li>
      <li>Document volumes and mounts in Compose/Stack files.</li>
      <li>Monitor disk usage with <code>docker system df</code> and clean up orphaned volumes.</li>
      <li>Always check the <a href="https://docs.docker.com/storage/">official Docker Storage documentation</a> and <a href="https://docs.docker.com/storage/storagedriver/select-storage-driver/">storage drivers</a>.</li>
    </ul>
    <p>For testing storage volumes use script: <a href="scripts/docker/docker-storage-volumes.sh">docker-storage-volumes.sh</a>.</p>
    <h4 id="docker-networking"><a class="anchor" aria-hidden="true" tabindex="-1" href="#docker-networking"><span class="octicon octicon-link"></span></a>Docker Networking</h4>
    <h5 id="-core-concepts-1"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-core-concepts-1"><span class="octicon octicon-link"></span></a>üåê Core Concepts</h5>
    <table>
      <thead>
        <tr>
          <th>üîç Focus</th>
          <th>Details</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>User-defined networks</td>
          <td>Create isolated topologies (<code>docker network create</code>) and attach/detach containers on demand with <code>docker network connect</code> or the <code>--network</code> flag.</td>
        </tr>
        <tr>
          <td>Network stack sharing</td>
          <td>By default each container gets its own namespace; <code>--network container:&#x3C;id></code> reuses another container's stack but disables flags like <code>--publish</code>, <code>--dns</code>, and <code>--hostname</code>.</td>
        </tr>
        <tr>
          <td>Embedded DNS</td>
          <td>Docker injects an internal DNS server per network; container names and <code>--network-alias</code> entries resolve automatically and fall back to the host resolver for external lookups.</td>
        </tr>
        <tr>
          <td>Gateway priority</td>
          <td>When a container joins multiple networks, Docker selects the default route via the highest <code>--gw-priority</code>; override IPs with <code>--ip</code> / <code>--ip6</code> for deterministic addressing.</td>
        </tr>
      </tbody>
    </table>
    <h5 id="-default-drivers"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-default-drivers"><span class="octicon octicon-link"></span></a>üöç Default Drivers</h5>
    <table>
      <thead>
        <tr>
          <th>Driver</th>
          <th>Use when</th>
          <th>Highlights</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>bridge</td>
          <td>Standalone workloads on a single host need simple east-west traffic.</td>
          <td>Default <code>bridge</code> network ships with Docker; create user-defined bridges for DNS, isolation, and per-project scoping.</td>
        </tr>
        <tr>
          <td>host</td>
          <td>You need native host networking with zero isolation.</td>
          <td>Shares the host stack; no port mapping needed; ideal for high-throughput or port-dynamic workloads.</td>
        </tr>
        <tr>
          <td>overlay</td>
          <td>Services must span multiple Docker hosts or Swarm nodes.</td>
          <td>VXLAN-backed; requires the Swarm control plane (or external KV store) to coordinate networks across engines.</td>
        </tr>
        <tr>
          <td>macvlan</td>
          <td>Containers must appear as physical devices on the LAN.</td>
          <td>Assigns unique MAC/IP pairs from the parent interface; great for legacy integrations or strict VLAN segmentation.</td>
        </tr>
        <tr>
          <td>ipvlan</td>
          <td>Underlay restricts MAC addresses but permits L3 routing.</td>
          <td>Provides per-container IPv4/IPv6 without extra MACs; supports L2 (<code>ipvlan -l2</code>) and L3 modes with VLAN tagging.</td>
        </tr>
        <tr>
          <td>none</td>
          <td>Full isolation is required.</td>
          <td>Removes the network stack entirely; manual namespace wiring only (not supported for Swarm services).</td>
        </tr>
        <tr>
          <td>Plugins</td>
          <td>Built-in drivers fall short of SDN or vendor needs.</td>
          <td>Install third-party network plugins from the Docker ecosystem to integrate with specialized fabrics.</td>
        </tr>
      </tbody>
    </table>
    <h5 id="Ô∏è-working-with-networks"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-working-with-networks"><span class="octicon octicon-link"></span></a>üïπÔ∏è Working with Networks</h5>
    <ul>
      <li>Scope infrastructure with user-defined bridges for app components, overlays for distributed stacks, or L2-style macvlan/ipvlan for direct LAN presence.</li>
      <li>Combine frontend/backend networks per container; set <code>--internal</code> on a bridge to block egress while still allowing service-to-service traffic.</li>
      <li>Inspect connectivity with <code>docker network ls</code>, <code>docker network inspect</code>, and <code>docker exec &#x3C;ctr> ip addr</code> to validate namespace wiring.</li>
      <li>Clean up unused networks regularly with <code>docker network prune</code> to avoid stale subnets and orphaned config.</li>
    </ul>
    <h5 id="-published-ports--access"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-published-ports--access"><span class="octicon octicon-link"></span></a>üö¶ Published Ports &#x26; Access</h5>
    <ul>
      <li>Bridge networks keep ports private unless you publish them with <code>-p</code> / <code>--publish</code>; include <code>127.0.0.1:</code> (or <code>[::1]:</code> for IPv6) to restrict exposure to the host only.</li>
      <li>Port publishing is not required for container-to-container access on the same user-defined bridge‚ÄîDNS and the internal IP suffice.</li>
      <li>Overlay and macvlan drivers bypass the userland proxy; plan upstream firewalls or routing accordingly.</li>
    </ul>
    <h5 id="-addressing--dns"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-addressing--dns"><span class="octicon octicon-link"></span></a>üîê Addressing &#x26; DNS</h5>
    <ul>
      <li>IPv4 is enabled by default on new networks; add <code>--ipv6</code> to provision dual-stack ranges and use <code>--ip</code> / <code>--ip6</code> to pin addresses.</li>
      <li>Each join operation can supply extra identities via <code>--alias</code>; Docker advertises them through the embedded DNS service.</li>
      <li>Override resolvers per container using <code>--dns</code>, <code>--dns-search</code>, or <code>--dns-option</code>, or import extra hosts with <code>--add-host</code>.</li>
      <li>Containers inherit a curated <code>/etc/hosts</code>; host-level entries are not synced automatically.</li>
    </ul>
    <h5 id="Ô∏è-docker-network-usage-examples"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-docker-network-usage-examples"><span class="octicon octicon-link"></span></a>üõ†Ô∏è Docker Network Usage examples</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Create dedicated frontend and backend bridges</span>
</span><span class="code-line line-number" line="2"><span class="token function">docker</span> network create <span class="token parameter variable">--driver</span> bridge frontend_net
</span><span class="code-line line-number" line="3"><span class="token function">docker</span> network create <span class="token parameter variable">--driver</span> bridge <span class="token parameter variable">--internal</span> backend_net
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token comment"># Launch services with deterministic addressing and aliases</span>
</span><span class="code-line line-number" line="6"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> api <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="7">  <span class="token parameter variable">--network</span> backend_net <span class="token parameter variable">--ip</span> <span class="token number">10.18</span>.0.10 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="8">  --network-alias api.internal <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="9">  ghcr.io/example/api:latest
</span><span class="code-line line-number" line="10">
</span><span class="code-line line-number" line="11"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> web <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="12">  <span class="token parameter variable">--network</span> frontend_net <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="13">  <span class="token parameter variable">--network</span> backend_net <span class="token parameter variable">--alias</span> web-backend <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="14">  <span class="token parameter variable">-p</span> <span class="token number">443</span>:8443 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="15">  ghcr.io/example/web:latest
</span><span class="code-line line-number" line="16">
</span><span class="code-line line-number" line="17"><span class="token comment"># Attach a troubleshooting container temporarily</span>
</span><span class="code-line line-number" line="18"><span class="token function">docker</span> run <span class="token parameter variable">-it</span> <span class="token parameter variable">--rm</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="19">  <span class="token parameter variable">--network</span> container:web <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="20">  alpine:latest <span class="token function">sh</span>
</span></code><div onclick="copied(this)" data-code="# Create dedicated frontend and backend bridges
docker network create --driver bridge frontend_net
docker network create --driver bridge --internal backend_net

# Launch services with deterministic addressing and aliases
docker run -d --name api \
  --network backend_net --ip 10.18.0.10 \
  --network-alias api.internal \
  ghcr.io/example/api:latest

docker run -d --name web \
  --network frontend_net \
  --network backend_net --alias web-backend \
  -p 443:8443 \
  ghcr.io/example/web:latest

# Attach a troubleshooting container temporarily
docker run -it --rm \
  --network container:web \
  alpine:latest sh
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="-docker-network-best-practices"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-docker-network-best-practices"><span class="octicon octicon-link"></span></a>‚úÖ Docker Network Best practices</h5>
    <ul>
      <li>Model network boundaries early; document which containers share bridges, overlays, or macvlan segments.</li>
      <li>Use <code>--internal</code> or firewalls to block unintended egress, and prefer network-level isolation over ad-hoc port publishing.</li>
      <li>When mixing drivers, verify default routes (<code>ip route</code>) to ensure the correct gateway won the <code>--gw-priority</code>.</li>
      <li>Monitor subnet allocation conflicts when multiple hosts create networks; explicitly set <code>--subnet</code> / <code>--gateway</code> for predictable CIDRs.</li>
      <li>Cross-check the official docs for updates: <a href="https://docs.docker.com/network/">Networking overview</a> and <a href="https://docs.docker.com/engine/network/drivers/">Network drivers</a>.</li>
    </ul>
    <p>For testing docker network use script: <a href="scripts/docker/docker-network.sh">docker-network.sh</a>.</p>
    <h4 id="-docker-registry"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-docker-registry"><span class="octicon octicon-link"></span></a>üê≥ Docker Registry</h4>
    <h5 id="-what-is-a-docker-registry"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-what-is-a-docker-registry"><span class="octicon octicon-link"></span></a>üìò What is a Docker Registry?</h5>
    <p>A Docker Registry is a stateless, highly scalable server-side application that stores and lets you distribute Docker images. It's the central place where you can push your images after building them and pull them to run on other machines.</p>
    <h5 id="key-concepts"><a class="anchor" aria-hidden="true" tabindex="-1" href="#key-concepts"><span class="octicon octicon-link"></span></a>Key Concepts</h5>
    <ul>
      <li><strong>Registry</strong>: The storage system that contains repositories of images. Examples: Docker Hub, AWS ECR, a self-hosted registry.</li>
      <li><strong>Repository</strong>: A collection of related Docker images, often different versions of the same application or service (e.g., the <code>nginx</code> repository).</li>
      <li><strong>Tag</strong>: A label applied to an image within a repository to identify a specific version (e.g., <code>1.27</code>, <code>latest</code>).</li>
      <li><strong>Image Name</strong>: The full name of an image follows the format: <code>[registry-host]/[username-or-org]/[repository]:[tag]</code>.
        <ul>
          <li>If <code>registry-host</code> is omitted, it defaults to Docker Hub (<code>docker.io</code>).</li>
          <li>If <code>tag</code> is omitted, it defaults to <code>latest</code>.</li>
        </ul>
      </li>
    </ul>
    <h5 id="types-of-registries"><a class="anchor" aria-hidden="true" tabindex="-1" href="#types-of-registries"><span class="octicon octicon-link"></span></a>Types of Registries</h5>
    <ol>
      <li>
        <p><strong>Public Registries</strong>:</p>
        <ul>
          <li><strong>Docker Hub</strong>: The default and largest public registry.</li>
          <li><strong>Quay.io</strong>: Another popular public and private registry by Red Hat.</li>
          <li><strong>GitHub Container Registry (GHCR)</strong>: Integrated with GitHub repositories and Actions.</li>
        </ul>
      </li>
      <li>
        <p><strong>Private Registries</strong>:</p>
        <ul>
          <li><strong>Self-Hosted</strong>:
            <ul>
              <li><strong>Docker Registry Image</strong>: A simple, official image to run your own basic registry.</li>
              <li><strong>Harbor</strong>: An enterprise-grade open-source registry with security scanning, access control, and replication.</li>
              <li><strong>JFrog Artifactory</strong>: A universal artifact manager that supports Docker images.</li>
            </ul>
          </li>
          <li><strong>Cloud-Hosted</strong>:
            <ul>
              <li><strong>Amazon Elastic Container Registry (ECR)</strong></li>
              <li><strong>Google Artifact Registry (formerly GCR)</strong></li>
              <li><strong>Azure Container Registry (ACR)</strong></li>
            </ul>
          </li>
        </ul>
      </li>
    </ol>
    <h5 id="running-a-local-registry"><a class="anchor" aria-hidden="true" tabindex="-1" href="#running-a-local-registry"><span class="octicon octicon-link"></span></a>Running a Local Registry</h5>
    <p>You can easily run a private registry locally for testing or development using Docker's official <code>registry</code> image.</p>
    <ol>
      <li>
        <p><strong>Start the local registry container:</strong></p>
        <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">5000</span>:5000 <span class="token parameter variable">-v</span> /var/lib/registry-data:/var/lib/registry <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">--name</span> registry registry:2
</span></code><div onclick="copied(this)" data-code="docker run -d -p 5000:5000 -v /var/lib/registry-data:/var/lib/registry --restart=always --name registry registry:2
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <p>This starts a registry listening on <code>localhost:5000</code>.</p>
      </li>
      <li>
        <p>
          <strong>Tag an image to point to the local registry:</strong>
          Before you can push an image to this registry, you need to tag it with the registry's host and port.
        </p>
        <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Pull an image (e.g., alpine)</span>
</span><span class="code-line line-number" line="2"><span class="token function">docker</span> pull alpine
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># Tag it for your local registry</span>
</span><span class="code-line line-number" line="5"><span class="token function">docker</span> tag alpine localhost:5000/my-alpine
</span></code><div onclick="copied(this)" data-code="# Pull an image (e.g., alpine)
docker pull alpine

# Tag it for your local registry
docker tag alpine localhost:5000/my-alpine
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      </li>
      <li>
        <p><strong>Push the image to the local registry:</strong></p>
        <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token function">docker</span> push localhost:5000/my-alpine
</span></code><div onclick="copied(this)" data-code="docker push localhost:5000/my-alpine
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      </li>
      <li>
        <p>
          <strong>Pull the image from the local registry:</strong>
          You can now pull this image on any machine that can access <code>localhost:5000</code>.
        </p>
        <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># First, remove the local copies to simulate pulling from scratch</span>
</span><span class="code-line line-number" line="2"><span class="token function">docker</span> image <span class="token function">rm</span> alpine
</span><span class="code-line line-number" line="3"><span class="token function">docker</span> image <span class="token function">rm</span> localhost:5000/my-alpine
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token comment"># Now, pull from your local registry</span>
</span><span class="code-line line-number" line="6"><span class="token function">docker</span> pull localhost:5000/my-alpine
</span></code><div onclick="copied(this)" data-code="# First, remove the local copies to simulate pulling from scratch
docker image rm alpine
docker image rm localhost:5000/my-alpine

# Now, pull from your local registry
docker pull localhost:5000/my-alpine
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      </li>
      <li>
        <p>
          <strong>Access the registry API:</strong>
          You can interact with the registry using its HTTP API. For example, to list repositories:
        </p>
        <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token function">curl</span> <span class="token parameter variable">-X</span> GET http://localhost:5000/v2/_catalog
</span></code><div onclick="copied(this)" data-code="curl -X GET http://localhost:5000/v2/_catalog
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
      </li>
    </ol>
    <h5 id="-core-commands"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-core-commands"><span class="octicon octicon-link"></span></a>üöÄ Core Commands</h5>
    <table>
      <thead>
        <tr>
          <th>Command</th>
          <th>Description</th>
          <th>Example</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>docker login</code></td>
          <td>Log in to a Docker registry.</td>
          <td><code>docker login myregistry.example.com</code></td>
        </tr>
        <tr>
          <td><code>docker logout</code></td>
          <td>Log out from a Docker registry.</td>
          <td><code>docker logout</code></td>
        </tr>
        <tr>
          <td><code>docker pull</code></td>
          <td>Pull an image or a repository from a registry.</td>
          <td><code>docker pull ubuntu:22.04</code></td>
        </tr>
        <tr>
          <td><code>docker push</code></td>
          <td>Push an image or a repository to a registry.</td>
          <td><code>docker push myregistry.com/myapp:1.0</code></td>
        </tr>
        <tr>
          <td><code>docker search</code></td>
          <td>Search Docker Hub for images.</td>
          <td><code>docker search nginx</code></td>
        </tr>
      </tbody>
    </table>
    <p>For testing docker registry use script: <a href="scripts/docker/docker-registry-lab.sh">docker-registry-lab.sh</a>.</p>
    <h4 id="Ô∏è-3523-important-commands"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-3523-important-commands"><span class="octicon octicon-link"></span></a>üõ†Ô∏è 352.3 Important Commands</h4>
    <h5 id="-docker"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-docker"><span class="octicon octicon-link"></span></a>üê≥ docker</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment">############ FILES ############</span>
</span><span class="code-line line-number" line="2">/var/lib/docker
</span><span class="code-line line-number" line="3">/etc/docker/daemon.json
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token comment">############ DAEMON ############</span>
</span><span class="code-line line-number" line="6"><span class="token comment"># get version</span>
</span><span class="code-line line-number" line="7"><span class="token function">docker</span> <span class="token parameter variable">--version</span>
</span><span class="code-line line-number" line="8">
</span><span class="code-line line-number" line="9"><span class="token comment"># docker infos</span>
</span><span class="code-line line-number" line="10"><span class="token function">docker</span> info
</span><span class="code-line line-number" line="11">
</span><span class="code-line line-number" line="12"><span class="token comment">############ MANAGE IMAGES ############</span>
</span><span class="code-line line-number" line="13"><span class="token comment"># pull image from docker hub</span>
</span><span class="code-line line-number" line="14"><span class="token function">docker</span> pull nginx:latest
</span><span class="code-line line-number" line="15">
</span><span class="code-line line-number" line="16"><span class="token comment"># list images</span>
</span><span class="code-line line-number" line="17"><span class="token function">docker</span> image <span class="token function">ls</span>
</span><span class="code-line line-number" line="18"><span class="token function">docker</span> images
</span><span class="code-line line-number" line="19"><span class="token function">docker</span> images <span class="token parameter variable">-a</span>
</span><span class="code-line line-number" line="20"><span class="token function">docker</span> images <span class="token parameter variable">--format</span> <span class="token string">"{{.Repository}}: {{.Tag}} {{.Size}}"</span>
</span><span class="code-line line-number" line="21">
</span><span class="code-line line-number" line="22"><span class="token comment"># docker image inspect</span>
</span><span class="code-line line-number" line="23"><span class="token function">docker</span> image inspect nginx:latest
</span><span class="code-line line-number" line="24"><span class="token function">docker</span> inspect nginx:latest
</span><span class="code-line line-number" line="25"><span class="token function">docker</span> inspect <span class="token parameter variable">--format</span> <span class="token string">'{{.Id}}'</span> nginx:latest
</span><span class="code-line line-number" line="26"><span class="token function">docker</span> image inspect <span class="token parameter variable">--format</span> <span class="token string">"{{json .RootFS.Layers}}"</span> acme/my-base-image:1.0
</span><span class="code-line line-number" line="27">
</span><span class="code-line line-number" line="28"><span class="token comment"># remove image</span>
</span><span class="code-line line-number" line="29"><span class="token function">docker</span> image <span class="token function">rm</span> nginx:latest
</span><span class="code-line line-number" line="30"><span class="token function">docker</span> rmi nginx:latest
</span><span class="code-line line-number" line="31"><span class="token function">docker</span> rmi <span class="token parameter variable">-f</span> nginx:latest
</span><span class="code-line line-number" line="32"><span class="token function">docker</span> image prune <span class="token parameter variable">-a</span>
</span><span class="code-line line-number" line="33">
</span><span class="code-line line-number" line="34"><span class="token comment"># docker history</span>
</span><span class="code-line line-number" line="35"><span class="token function">docker</span> <span class="token function">history</span> nginx:latest
</span><span class="code-line line-number" line="36">
</span><span class="code-line line-number" line="37"><span class="token comment"># docker push image to registry</span>
</span><span class="code-line line-number" line="38"><span class="token function">docker</span> push acme/my-final-image:1.0
</span><span class="code-line line-number" line="39">
</span><span class="code-line line-number" line="40"><span class="token comment"># create image from dockerfile</span>
</span><span class="code-line line-number" line="41"><span class="token function">docker</span> build <span class="token parameter variable">-t</span> acme/my-base-image:1.0 <span class="token builtin class-name">.</span>
</span><span class="code-line line-number" line="42"><span class="token function">docker</span> build <span class="token parameter variable">-t</span> acme/my-final-image:1.0 <span class="token parameter variable">-f</span> Dockerfile.final <span class="token builtin class-name">.</span>
</span><span class="code-line line-number" line="43"><span class="token function">docker</span> build <span class="token parameter variable">-t</span> acme/my-final-image:1.0 --build-arg <span class="token assign-left variable">BASE_IMAGE</span><span class="token operator">=</span>acme/my-base-image:1.0 <span class="token builtin class-name">.</span>
</span><span class="code-line line-number" line="44">
</span><span class="code-line line-number" line="45"><span class="token comment"># create a new tag for an image</span>
</span><span class="code-line line-number" line="46"><span class="token function">docker</span> tag nginx:latest acme/nginx:1.1
</span><span class="code-line line-number" line="47">
</span><span class="code-line line-number" line="48"><span class="token comment"># send image to tar file</span>
</span><span class="code-line line-number" line="49"><span class="token function">docker</span> save <span class="token parameter variable">-o</span> nginx-latest.tar nginx:latest
</span><span class="code-line line-number" line="50">
</span><span class="code-line line-number" line="51"><span class="token comment"># load image from tar file</span>
</span><span class="code-line line-number" line="52"><span class="token function">docker</span> load <span class="token parameter variable">-i</span> nginx-latest.tar
</span><span class="code-line line-number" line="53">
</span><span class="code-line line-number" line="54">
</span><span class="code-line line-number" line="55"><span class="token comment">############ MANAGE CONTAINERS ############</span>
</span><span class="code-line line-number" line="56">
</span><span class="code-line line-number" line="57"><span class="token comment"># list containers running</span>
</span><span class="code-line line-number" line="58"><span class="token function">docker</span> container <span class="token function">ls</span>
</span><span class="code-line line-number" line="59"><span class="token function">docker</span> <span class="token function">ps</span>
</span><span class="code-line line-number" line="60">
</span><span class="code-line line-number" line="61"><span class="token comment"># list all containers</span>
</span><span class="code-line line-number" line="62"><span class="token function">docker</span> container <span class="token function">ls</span> <span class="token parameter variable">-a</span>
</span><span class="code-line line-number" line="63"><span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-a</span>
</span><span class="code-line line-number" line="64">
</span><span class="code-line line-number" line="65"><span class="token comment"># list containers id</span>
</span><span class="code-line line-number" line="66"><span class="token function">docker</span> container <span class="token function">ls</span> <span class="token parameter variable">-q</span>
</span><span class="code-line line-number" line="67">
</span><span class="code-line line-number" line="68"><span class="token comment"># list last created container</span>
</span><span class="code-line line-number" line="69"><span class="token function">docker</span> container <span class="token function">ls</span> <span class="token parameter variable">-l</span>
</span><span class="code-line line-number" line="70">
</span><span class="code-line line-number" line="71"><span class="token comment"># list containers with size</span>
</span><span class="code-line line-number" line="72"><span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-s</span>
</span><span class="code-line line-number" line="73"><span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">--size</span> <span class="token parameter variable">--format</span> <span class="token string">"table {{.ID}}<span class="token entity" title="\t">\t</span>{{.Image}}<span class="token entity" title="\t">\t</span>{{.Names}}<span class="token entity" title="\t">\t</span>{{.Size}}"</span>
</span><span class="code-line line-number" line="74">
</span><span class="code-line line-number" line="75"><span class="token comment"># create container</span>
</span><span class="code-line line-number" line="76"><span class="token function">docker</span> container run hello-world
</span><span class="code-line line-number" line="77">
</span><span class="code-line line-number" line="78"><span class="token comment"># create container as daemon</span>
</span><span class="code-line line-number" line="79"><span class="token function">docker</span> container run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> my-nginx <span class="token parameter variable">-p</span> <span class="token number">8080</span>:80 nginx:latest
</span><span class="code-line line-number" line="80">
</span><span class="code-line line-number" line="81"><span class="token comment"># create container and run interactively</span>
</span><span class="code-line line-number" line="82"><span class="token function">docker</span> container run <span class="token parameter variable">-it</span> ubuntu <span class="token function">bash</span>
</span><span class="code-line line-number" line="83">
</span><span class="code-line line-number" line="84"><span class="token comment"># docker container port</span>
</span><span class="code-line line-number" line="85"><span class="token function">docker</span> container port my-nginx
</span><span class="code-line line-number" line="86">
</span><span class="code-line line-number" line="87"><span class="token comment"># create container and expose port 80 to host port 8080</span>
</span><span class="code-line line-number" line="88"><span class="token function">docker</span> container run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> my-nginx <span class="token parameter variable">-p</span> <span class="token number">8080</span>:80 nginx:latest
</span><span class="code-line line-number" line="89">
</span><span class="code-line line-number" line="90"><span class="token comment"># create container and publish all exposed ports to random ports</span>
</span><span class="code-line line-number" line="91"><span class="token function">docker</span> container run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> my-nginx <span class="token parameter variable">-P</span> nginx:latest
</span><span class="code-line line-number" line="92">
</span><span class="code-line line-number" line="93"><span class="token comment"># create container and expose tcp port 8080 and udp port 8080 to host</span>
</span><span class="code-line line-number" line="94"><span class="token function">docker</span> container run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> my-nginx <span class="token parameter variable">-p</span> <span class="token number">8080</span>:80/tcp <span class="token parameter variable">-p</span> <span class="token number">8080</span>:80/udp nginx:latest
</span><span class="code-line line-number" line="95">
</span><span class="code-line line-number" line="96"><span class="token comment"># create a container and expose port 8888</span>
</span><span class="code-line line-number" line="97"><span class="token function">docker</span> container run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> my-nginx <span class="token parameter variable">-p</span> <span class="token number">9082</span>:80 <span class="token parameter variable">--expose</span> <span class="token number">8888</span> nginx:latest
</span><span class="code-line line-number" line="98">
</span><span class="code-line line-number" line="99"><span class="token comment"># create a container and define hostname, dns</span>
</span><span class="code-line line-number" line="100"><span class="token function">docker</span> container run <span class="token parameter variable">-dit</span> <span class="token parameter variable">--name</span> ubuntu <span class="token parameter variable">--dns</span><span class="token operator">=</span><span class="token number">8.8</span>.8.8 <span class="token parameter variable">--dns</span><span class="token operator">=</span><span class="token number">1.1</span>.1.1 <span class="token parameter variable">--hostname</span> ubuntu ubuntu
</span><span class="code-line line-number" line="101">
</span><span class="code-line line-number" line="102"><span class="token comment"># create container in detached mode</span>
</span><span class="code-line line-number" line="103"><span class="token function">docker</span> container run <span class="token parameter variable">-d</span> <span class="token parameter variable">-it</span> <span class="token parameter variable">--name</span> alpine alpine
</span><span class="code-line line-number" line="104">
</span><span class="code-line line-number" line="105"><span class="token comment"># pause container</span>
</span><span class="code-line line-number" line="106"><span class="token function">docker</span> container pause <span class="token operator">&#x3C;</span>container_id<span class="token operator">|</span>name<span class="token operator">></span>
</span><span class="code-line line-number" line="107">
</span><span class="code-line line-number" line="108"><span class="token comment"># unpause container</span>
</span><span class="code-line line-number" line="109"><span class="token function">docker</span> container unpause <span class="token operator">&#x3C;</span>container_id<span class="token operator">|</span>name<span class="token operator">></span>
</span><span class="code-line line-number" line="110">
</span><span class="code-line line-number" line="111"><span class="token comment"># stop container</span>
</span><span class="code-line line-number" line="112"><span class="token function">docker</span> container stop <span class="token operator">&#x3C;</span>container_id<span class="token operator">|</span>name<span class="token operator">></span>
</span><span class="code-line line-number" line="113">
</span><span class="code-line line-number" line="114"><span class="token comment"># start container</span>
</span><span class="code-line line-number" line="115"><span class="token function">docker</span> container start <span class="token operator">&#x3C;</span>container_id<span class="token operator">|</span>name<span class="token operator">></span>
</span><span class="code-line line-number" line="116">
</span><span class="code-line line-number" line="117"><span class="token comment"># remove container</span>
</span><span class="code-line line-number" line="118"><span class="token function">docker</span> container <span class="token function">rm</span> <span class="token operator">&#x3C;</span>container_id<span class="token operator">|</span>name<span class="token operator">></span>
</span><span class="code-line line-number" line="119">
</span><span class="code-line line-number" line="120"><span class="token comment"># remove container force</span>
</span><span class="code-line line-number" line="121"><span class="token function">docker</span> container <span class="token function">rm</span> <span class="token parameter variable">-f</span> <span class="token operator">&#x3C;</span>container_id<span class="token operator">|</span>name<span class="token operator">></span>
</span><span class="code-line line-number" line="122">
</span><span class="code-line line-number" line="123"><span class="token comment"># prune all stopped containers</span>
</span><span class="code-line line-number" line="124"><span class="token function">docker</span> container prune
</span><span class="code-line line-number" line="125">
</span><span class="code-line line-number" line="126"><span class="token comment"># remove all containers</span>
</span><span class="code-line line-number" line="127"><span class="token function">docker</span> container <span class="token function">rm</span> <span class="token parameter variable">-f</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> container <span class="token function">ps</span> <span class="token parameter variable">-a</span> <span class="token parameter variable">-q</span><span class="token variable">)</span></span>
</span><span class="code-line line-number" line="128">
</span><span class="code-line line-number" line="129"><span class="token comment"># inspect container</span>
</span><span class="code-line line-number" line="130"><span class="token function">docker</span> container inspect <span class="token operator">&#x3C;</span>container_id<span class="token operator">|</span>name<span class="token operator">></span>
</span><span class="code-line line-number" line="131">
</span><span class="code-line line-number" line="132"><span class="token comment"># get PID of container</span>
</span><span class="code-line line-number" line="133"><span class="token function">docker</span> container inspect <span class="token parameter variable">--format</span> <span class="token string">'{{.State.Pid}}'</span> <span class="token operator">&#x3C;</span>container_id<span class="token operator">|</span>name<span class="token operator">></span>
</span><span class="code-line line-number" line="134">
</span><span class="code-line line-number" line="135"><span class="token comment"># get ID of container</span>
</span><span class="code-line line-number" line="136"><span class="token function">docker</span> container inspect <span class="token parameter variable">--format</span> <span class="token string">'{{.Id}}'</span> <span class="token operator">&#x3C;</span>container_id<span class="token operator">|</span>name<span class="token operator">></span>
</span><span class="code-line line-number" line="137"><span class="token function">docker</span> container inspect <span class="token parameter variable">--format</span> <span class="token string">'{{.Id}}'</span> <span class="token operator">&#x3C;</span>container_id<span class="token operator">|</span>name<span class="token operator">></span>
</span><span class="code-line line-number" line="138">
</span><span class="code-line line-number" line="139"><span class="token comment"># execute command in container</span>
</span><span class="code-line line-number" line="140"><span class="token function">docker</span> container <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> <span class="token operator">&#x3C;</span>container_id<span class="token operator">|</span>name<span class="token operator">></span> <span class="token function">bash</span>
</span><span class="code-line line-number" line="141"><span class="token function">docker</span> container <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> <span class="token operator">&#x3C;</span>container_id<span class="token operator">|</span>name<span class="token operator">></span> <span class="token function">ls</span> /
</span><span class="code-line line-number" line="142"><span class="token function">docker</span> container <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> <span class="token operator">&#x3C;</span>container_id<span class="token operator">|</span>name<span class="token operator">></span> <span class="token function">sh</span> <span class="token parameter variable">-c</span> <span class="token string">"echo 'Hello from container'"</span>
</span><span class="code-line line-number" line="143">
</span><span class="code-line line-number" line="144"><span class="token comment"># copy file to container</span>
</span><span class="code-line line-number" line="145"><span class="token function">docker</span> container <span class="token function">cp</span> /etc/hosts <span class="token operator">&#x3C;</span>container_id<span class="token operator">|</span>name<span class="token operator">></span>:/etc/hosts
</span><span class="code-line line-number" line="146">
</span><span class="code-line line-number" line="147"><span class="token comment"># copy file from container</span>
</span><span class="code-line line-number" line="148"><span class="token function">docker</span> container <span class="token function">cp</span> <span class="token operator">&#x3C;</span>container_id<span class="token operator">|</span>name<span class="token operator">></span>:/etc/hosts /tmp/container-hosts
</span><span class="code-line line-number" line="149">
</span><span class="code-line line-number" line="150"><span class="token comment">############ MANAGE STORAGE #############</span>
</span><span class="code-line line-number" line="151">
</span><span class="code-line line-number" line="152"><span class="token comment"># Docker Storage Files</span>
</span><span class="code-line line-number" line="153">/var/lib/docker/overlay/
</span><span class="code-line line-number" line="154">/var/lib/docker/containers/
</span><span class="code-line line-number" line="155">/var/lib/docker/volumes/
</span><span class="code-line line-number" line="156">
</span><span class="code-line line-number" line="157"><span class="token comment"># list volumes</span>
</span><span class="code-line line-number" line="158"><span class="token function">docker</span> volume <span class="token function">ls</span>
</span><span class="code-line line-number" line="159">
</span><span class="code-line line-number" line="160"><span class="token comment"># create volume</span>
</span><span class="code-line line-number" line="161"><span class="token function">docker</span> volume create my-volume
</span><span class="code-line line-number" line="162">
</span><span class="code-line line-number" line="163"><span class="token comment"># inspect volume</span>
</span><span class="code-line line-number" line="164"><span class="token function">docker</span> volume inspect my-volume
</span><span class="code-line line-number" line="165">
</span><span class="code-line line-number" line="166"><span class="token comment"># remove volume</span>
</span><span class="code-line line-number" line="167"><span class="token function">docker</span> volume <span class="token function">rm</span> my-volume
</span><span class="code-line line-number" line="168">
</span><span class="code-line line-number" line="169"><span class="token comment"># prune all unused volumes</span>
</span><span class="code-line line-number" line="170"><span class="token function">docker</span> volume prune
</span><span class="code-line line-number" line="171">
</span><span class="code-line line-number" line="172"><span class="token comment"># create container with bind mount</span>
</span><span class="code-line line-number" line="173"><span class="token function">docker</span> container run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> my-nginx <span class="token parameter variable">-p</span> <span class="token number">8080</span>:80 <span class="token parameter variable">--mount</span> <span class="token assign-left variable">type</span><span class="token operator">=</span>bind,source<span class="token operator">=</span>/home/vagrant/html,target<span class="token operator">=</span>/usr/share/nginx/html nginx:latest
</span><span class="code-line line-number" line="174"><span class="token function">docker</span> container run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> my-nginx <span class="token parameter variable">-p</span> <span class="token number">8080</span>:80 <span class="token parameter variable">--volume</span> /home/vagrant/html:/usr/share/nginx/html nginx:latest
</span><span class="code-line line-number" line="175"><span class="token function">docker</span> container run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> my-nginx <span class="token parameter variable">-p</span> <span class="token number">8080</span>:80 <span class="token parameter variable">-v</span> /home/vagrant/html:/usr/share/nginx/html nginx:latest
</span><span class="code-line line-number" line="176"><span class="token function">docker</span> container run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> my-nginx <span class="token parameter variable">-p</span> <span class="token number">8080</span>:80 <span class="token parameter variable">-v</span> /home/vagrant/html:/usr/share/nginx/html:ro nginx:latest
</span><span class="code-line line-number" line="177">
</span><span class="code-line line-number" line="178"><span class="token comment"># create container with volume</span>
</span><span class="code-line line-number" line="179"><span class="token function">docker</span> container run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> my-nginx <span class="token parameter variable">-p</span> <span class="token number">8080</span>:80 <span class="token parameter variable">--mount</span> <span class="token assign-left variable">type</span><span class="token operator">=</span>volume,source<span class="token operator">=</span>my-volume,target<span class="token operator">=</span>/usr/share/nginx/html nginx:latest
</span><span class="code-line line-number" line="180"><span class="token function">docker</span> container run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> my-nginx <span class="token parameter variable">-p</span> <span class="token number">8080</span>:80 <span class="token parameter variable">--volume</span> my-volume:/usr/share/nginx/html nginx:latest
</span><span class="code-line line-number" line="181">
</span><span class="code-line line-number" line="182"><span class="token comment"># create a container with volume-from another container</span>
</span><span class="code-line line-number" line="183"><span class="token function">docker</span> container run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> my-nginx2 <span class="token parameter variable">-p</span> <span class="token number">8086</span>:80 --volumes-from my-nginx1 nginx:latest
</span><span class="code-line line-number" line="184">
</span><span class="code-line line-number" line="185"><span class="token comment"># create container with tmpfs mount</span>
</span><span class="code-line line-number" line="186"><span class="token function">docker</span> container run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> my-nginx <span class="token parameter variable">-p</span> <span class="token number">8080</span>:80 <span class="token parameter variable">--mount</span> <span class="token assign-left variable">type</span><span class="token operator">=</span>tmpfs,target<span class="token operator">=</span>/usr/share/nginx/html nginx:latest
</span><span class="code-line line-number" line="187"><span class="token function">docker</span> container run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> my-nginx <span class="token parameter variable">-p</span> <span class="token number">8080</span>:80 <span class="token parameter variable">--tmpfs</span> /usr/share/nginx/html nginx:latest
</span><span class="code-line line-number" line="188">
</span><span class="code-line line-number" line="189"><span class="token comment"># remove volume</span>
</span><span class="code-line line-number" line="190"><span class="token function">docker</span> volume <span class="token function">rm</span> my-volume
</span><span class="code-line line-number" line="191">
</span><span class="code-line line-number" line="192"><span class="token comment"># remove volumes not used by any containers</span>
</span><span class="code-line line-number" line="193"><span class="token function">docker</span> volume prune
</span><span class="code-line line-number" line="194">
</span><span class="code-line line-number" line="195"><span class="token comment"># remove all volumes</span>
</span><span class="code-line line-number" line="196"><span class="token function">docker</span> volume <span class="token function">rm</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> volume <span class="token function">ls</span> <span class="token parameter variable">-q</span><span class="token variable">)</span></span>
</span><span class="code-line line-number" line="197">
</span><span class="code-line line-number" line="198"><span class="token comment">########### MANAGE LOGS ############</span>
</span><span class="code-line line-number" line="199">
</span><span class="code-line line-number" line="200"><span class="token comment"># view container logs</span>
</span><span class="code-line line-number" line="201"><span class="token function">docker</span> container logs <span class="token operator">&#x3C;</span>container_id<span class="token operator">|</span>name<span class="token operator">></span>
</span><span class="code-line line-number" line="202">
</span><span class="code-line line-number" line="203"><span class="token comment"># follow container logs</span>
</span><span class="code-line line-number" line="204"><span class="token function">docker</span> container logs <span class="token parameter variable">-f</span> <span class="token operator">&#x3C;</span>container_id<span class="token operator">|</span>name<span class="token operator">></span>
</span><span class="code-line line-number" line="205">
</span><span class="code-line line-number" line="206"><span class="token comment"># docker system events</span>
</span><span class="code-line line-number" line="207"><span class="token function">docker</span> system events <span class="token parameter variable">--since</span> <span class="token string">"2h"</span>
</span><span class="code-line line-number" line="208"><span class="token function">docker</span> system events <span class="token parameter variable">--since</span> <span class="token string">"20h"</span> <span class="token parameter variable">--filter</span> <span class="token string">'container=&#x3C;container_id|name>'</span>
</span><span class="code-line line-number" line="209"><span class="token function">docker</span> system events <span class="token parameter variable">--since</span> <span class="token string">"20h"</span> <span class="token parameter variable">--filter</span> <span class="token assign-left variable">type</span><span class="token operator">=</span>container  <span class="token parameter variable">--filter</span> <span class="token string">'event=start'</span> <span class="token parameter variable">--filter</span> <span class="token string">'event=stop'</span>
</span><span class="code-line line-number" line="210">
</span><span class="code-line line-number" line="211"><span class="token comment"># docker stats</span>
</span><span class="code-line line-number" line="212"><span class="token function">docker</span> container stats
</span><span class="code-line line-number" line="213"><span class="token function">docker</span> container stats <span class="token operator">&#x3C;</span>container_id<span class="token operator">|</span>name<span class="token operator">></span>
</span><span class="code-line line-number" line="214">
</span><span class="code-line line-number" line="215"><span class="token comment"># docker top</span>
</span><span class="code-line line-number" line="216"><span class="token function">docker</span> container <span class="token function">top</span> <span class="token operator">&#x3C;</span>container_id<span class="token operator">|</span>name<span class="token operator">></span>
</span><span class="code-line line-number" line="217">
</span><span class="code-line line-number" line="218"><span class="token comment">########### DOCKER NETWORKING ###########</span>
</span><span class="code-line line-number" line="219">
</span><span class="code-line line-number" line="220"><span class="token comment"># list networks</span>
</span><span class="code-line line-number" line="221"><span class="token function">docker</span> network <span class="token function">ls</span>
</span><span class="code-line line-number" line="222">
</span><span class="code-line line-number" line="223"><span class="token comment"># inspect network</span>
</span><span class="code-line line-number" line="224"><span class="token function">docker</span> network inspect bridge
</span><span class="code-line line-number" line="225"><span class="token function">docker</span> network inspect <span class="token parameter variable">--format</span> <span class="token string">'{{json .Containers}}'</span> bridge <span class="token operator">|</span> jq
</span><span class="code-line line-number" line="226">
</span><span class="code-line line-number" line="227"><span class="token comment"># create network</span>
</span><span class="code-line line-number" line="228"><span class="token function">docker</span> network create my-bridge
</span><span class="code-line line-number" line="229">
</span><span class="code-line line-number" line="230"><span class="token comment"># create network with specific driver</span>
</span><span class="code-line line-number" line="231"><span class="token function">docker</span> network create <span class="token parameter variable">--driver</span> bridge my-bridge
</span><span class="code-line line-number" line="232">
</span><span class="code-line line-number" line="233"><span class="token comment"># create network with specific subnet</span>
</span><span class="code-line line-number" line="234"><span class="token function">docker</span> network create <span class="token parameter variable">--subnet</span> <span class="token number">192.168</span>.1.0/24 my-bridge
</span><span class="code-line line-number" line="235">
</span><span class="code-line line-number" line="236"><span class="token comment"># remove network</span>
</span><span class="code-line line-number" line="237"><span class="token function">docker</span> network <span class="token function">rm</span> my-bridge
</span><span class="code-line line-number" line="238">
</span><span class="code-line line-number" line="239"><span class="token comment"># prune all unused networks</span>
</span><span class="code-line line-number" line="240"><span class="token function">docker</span> network prune
</span><span class="code-line line-number" line="241">
</span><span class="code-line line-number" line="242"><span class="token comment"># connect container to network</span>
</span><span class="code-line line-number" line="243"><span class="token function">docker</span> network connect my-bridge <span class="token operator">&#x3C;</span>container_id<span class="token operator">|</span>name<span class="token operator">></span>
</span><span class="code-line line-number" line="244">
</span><span class="code-line line-number" line="245"><span class="token comment"># create a network and define: subnet,gateway,bridge name</span>
</span><span class="code-line line-number" line="246"><span class="token function">docker</span> network create <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="247">  <span class="token parameter variable">--driver</span> bridge <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="248">  <span class="token parameter variable">--subnet</span> <span class="token number">192.168</span>.3.0/24 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="249">  <span class="token parameter variable">--gateway</span> <span class="token number">192.168</span>.3.1 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="250">  <span class="token parameter variable">--opt</span> <span class="token string">"com.docker.network.bridge.name"</span><span class="token operator">=</span><span class="token string">"br-mybridge"</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="251">  my-bridge3
</span><span class="code-line line-number" line="252">
</span><span class="code-line line-number" line="253"><span class="token comment"># create a container and connect it to a specific network</span>
</span><span class="code-line line-number" line="254"><span class="token function">docker</span> container run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> my-nginx <span class="token parameter variable">--network</span> my-bridge3 <span class="token parameter variable">-p</span>
</span><span class="code-line line-number" line="255">
</span><span class="code-line line-number" line="256"><span class="token comment"># disconnect container from network</span>
</span><span class="code-line line-number" line="257"><span class="token function">docker</span> network disconnect my-bridge <span class="token operator">&#x3C;</span>container_id<span class="token operator">|</span>name<span class="token operator">></span>
</span><span class="code-line line-number" line="258">
</span><span class="code-line line-number" line="259"><span class="token comment"># create a network with specific options</span>
</span><span class="code-line line-number" line="260"><span class="token function">docker</span> network create <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="261">  <span class="token parameter variable">--driver</span> bridge <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="262">  <span class="token parameter variable">--opt</span> <span class="token assign-left variable">com.docker.network.bridge.enable_icc</span><span class="token operator">=</span>false <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="263">  <span class="token parameter variable">--opt</span> <span class="token assign-left variable">com.docker.network.bridge.enable_ip_masquerade</span><span class="token operator">=</span>true <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="264">  <span class="token parameter variable">--opt</span> <span class="token assign-left variable">com.docker.network.bridge.host_binding_ipv4</span><span class="token operator">=</span><span class="token string">"192.168.1.1"</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="265">  my-bridge
</span><span class="code-line line-number" line="266">
</span><span class="code-line line-number" line="267"><span class="token comment">############ OTHERS COMMANDS ############</span>
</span><span class="code-line line-number" line="268">
</span><span class="code-line line-number" line="269"><span class="token comment"># inspect namespaces</span>
</span><span class="code-line line-number" line="270"><span class="token function">ls</span> <span class="token parameter variable">-l</span> /proc/<span class="token operator">&#x3C;</span>PID<span class="token operator">></span>/ns
</span><span class="code-line line-number" line="271"><span class="token function">sudo</span> lsns <span class="token parameter variable">-p</span> <span class="token operator">&#x3C;</span>PID<span class="token operator">></span>
</span><span class="code-line line-number" line="272"><span class="token function">ps</span> <span class="token parameter variable">-o</span> pid,ppid,cmd,netns,mntns,pidns,utsns <span class="token operator">&#x3C;</span>PID<span class="token operator">></span>
</span><span class="code-line line-number" line="273">
</span><span class="code-line line-number" line="274"><span class="token comment"># inspect cgroups</span>
</span><span class="code-line line-number" line="275">lscgroup <span class="token operator">|</span> <span class="token function">grep</span> <span class="token operator">&#x3C;</span>PID<span class="token operator">></span> <span class="token comment"># cgroup v1</span>
</span><span class="code-line line-number" line="276"><span class="token function">cat</span> /proc/<span class="token operator">&#x3C;</span>PID<span class="token operator">></span>/cgroup <span class="token comment"># cgroup v2</span>
</span><span class="code-line line-number" line="277"><span class="token function">ls</span> <span class="token parameter variable">-l</span> /sys/fs/cgroup/system.slice/docker-<span class="token operator">&#x3C;</span>FULL_ID_CONTAINER<span class="token operator">></span>.scope
</span><span class="code-line line-number" line="278"><span class="token function">cat</span> /sys/fs/cgroup/system.slice/docker-<span class="token operator">&#x3C;</span>FULL_ID_CONTAINER<span class="token operator">></span>.scope/cgroup.procs
</span></code><div onclick="copied(this)" data-code="############ FILES ############
/var/lib/docker
/etc/docker/daemon.json

############ DAEMON ############
# get version
docker --version

# docker infos
docker info

############ MANAGE IMAGES ############
# pull image from docker hub
docker pull nginx:latest

# list images
docker image ls
docker images
docker images -a
docker images --format &#x22;{{.Repository}}: {{.Tag}} {{.Size}}&#x22;

# docker image inspect
docker image inspect nginx:latest
docker inspect nginx:latest
docker inspect --format &#x27;{{.Id}}&#x27; nginx:latest
docker image inspect --format &#x22;{{json .RootFS.Layers}}&#x22; acme/my-base-image:1.0

# remove image
docker image rm nginx:latest
docker rmi nginx:latest
docker rmi -f nginx:latest
docker image prune -a

# docker history
docker history nginx:latest

# docker push image to registry
docker push acme/my-final-image:1.0

# create image from dockerfile
docker build -t acme/my-base-image:1.0 .
docker build -t acme/my-final-image:1.0 -f Dockerfile.final .
docker build -t acme/my-final-image:1.0 --build-arg BASE_IMAGE=acme/my-base-image:1.0 .

# create a new tag for an image
docker tag nginx:latest acme/nginx:1.1

# send image to tar file
docker save -o nginx-latest.tar nginx:latest

# load image from tar file
docker load -i nginx-latest.tar


############ MANAGE CONTAINERS ############

# list containers running
docker container ls
docker ps

# list all containers
docker container ls -a
docker ps -a

# list containers id
docker container ls -q

# list last created container
docker container ls -l

# list containers with size
docker ps -s
docker ps --size --format &#x22;table {{.ID}}\t{{.Image}}\t{{.Names}}\t{{.Size}}&#x22;

# create container
docker container run hello-world

# create container as daemon
docker container run -d --name my-nginx -p 8080:80 nginx:latest

# create container and run interactively
docker container run -it ubuntu bash

# docker container port
docker container port my-nginx

# create container and expose port 80 to host port 8080
docker container run -d --name my-nginx -p 8080:80 nginx:latest

# create container and publish all exposed ports to random ports
docker container run -d --name my-nginx -P nginx:latest

# create container and expose tcp port 8080 and udp port 8080 to host
docker container run -d --name my-nginx -p 8080:80/tcp -p 8080:80/udp nginx:latest

# create a container and expose port 8888
docker container run -d --name my-nginx -p 9082:80 --expose 8888 nginx:latest

# create a container and define hostname, dns
docker container run -dit --name ubuntu --dns=8.8.8.8 --dns=1.1.1.1 --hostname ubuntu ubuntu

# create container in detached mode
docker container run -d -it --name alpine alpine

# pause container
docker container pause <container_id|name>

# unpause container
docker container unpause <container_id|name>

# stop container
docker container stop <container_id|name>

# start container
docker container start <container_id|name>

# remove container
docker container rm <container_id|name>

# remove container force
docker container rm -f <container_id|name>

# prune all stopped containers
docker container prune

# remove all containers
docker container rm -f $(docker container ps -a -q)

# inspect container
docker container inspect <container_id|name>

# get PID of container
docker container inspect --format &#x27;{{.State.Pid}}&#x27; <container_id|name>

# get ID of container
docker container inspect --format &#x27;{{.Id}}&#x27; <container_id|name>
docker container inspect --format &#x27;{{.Id}}&#x27; <container_id|name>

# execute command in container
docker container exec -it <container_id|name> bash
docker container exec -it <container_id|name> ls /
docker container exec -it <container_id|name> sh -c &#x22;echo &#x27;Hello from container&#x27;&#x22;

# copy file to container
docker container cp /etc/hosts <container_id|name>:/etc/hosts

# copy file from container
docker container cp <container_id|name>:/etc/hosts /tmp/container-hosts

############ MANAGE STORAGE #############

# Docker Storage Files
/var/lib/docker/overlay/
/var/lib/docker/containers/
/var/lib/docker/volumes/

# list volumes
docker volume ls

# create volume
docker volume create my-volume

# inspect volume
docker volume inspect my-volume

# remove volume
docker volume rm my-volume

# prune all unused volumes
docker volume prune

# create container with bind mount
docker container run -d --name my-nginx -p 8080:80 --mount type=bind,source=/home/vagrant/html,target=/usr/share/nginx/html nginx:latest
docker container run -d --name my-nginx -p 8080:80 --volume /home/vagrant/html:/usr/share/nginx/html nginx:latest
docker container run -d --name my-nginx -p 8080:80 -v /home/vagrant/html:/usr/share/nginx/html nginx:latest
docker container run -d --name my-nginx -p 8080:80 -v /home/vagrant/html:/usr/share/nginx/html:ro nginx:latest

# create container with volume
docker container run -d --name my-nginx -p 8080:80 --mount type=volume,source=my-volume,target=/usr/share/nginx/html nginx:latest
docker container run -d --name my-nginx -p 8080:80 --volume my-volume:/usr/share/nginx/html nginx:latest

# create a container with volume-from another container
docker container run -d --name my-nginx2 -p 8086:80 --volumes-from my-nginx1 nginx:latest

# create container with tmpfs mount
docker container run -d --name my-nginx -p 8080:80 --mount type=tmpfs,target=/usr/share/nginx/html nginx:latest
docker container run -d --name my-nginx -p 8080:80 --tmpfs /usr/share/nginx/html nginx:latest

# remove volume
docker volume rm my-volume

# remove volumes not used by any containers
docker volume prune

# remove all volumes
docker volume rm $(docker volume ls -q)

########### MANAGE LOGS ############

# view container logs
docker container logs <container_id|name>

# follow container logs
docker container logs -f <container_id|name>

# docker system events
docker system events --since &#x22;2h&#x22;
docker system events --since &#x22;20h&#x22; --filter &#x27;container=<container_id|name>&#x27;
docker system events --since &#x22;20h&#x22; --filter type=container  --filter &#x27;event=start&#x27; --filter &#x27;event=stop&#x27;

# docker stats
docker container stats
docker container stats <container_id|name>

# docker top
docker container top <container_id|name>

########### DOCKER NETWORKING ###########

# list networks
docker network ls

# inspect network
docker network inspect bridge
docker network inspect --format &#x27;{{json .Containers}}&#x27; bridge | jq

# create network
docker network create my-bridge

# create network with specific driver
docker network create --driver bridge my-bridge

# create network with specific subnet
docker network create --subnet 192.168.1.0/24 my-bridge

# remove network
docker network rm my-bridge

# prune all unused networks
docker network prune

# connect container to network
docker network connect my-bridge <container_id|name>

# create a network and define: subnet,gateway,bridge name
docker network create \
  --driver bridge \
  --subnet 192.168.3.0/24 \
  --gateway 192.168.3.1 \
  --opt &#x22;com.docker.network.bridge.name&#x22;=&#x22;br-mybridge&#x22; \
  my-bridge3

# create a container and connect it to a specific network
docker container run -d --name my-nginx --network my-bridge3 -p

# disconnect container from network
docker network disconnect my-bridge <container_id|name>

# create a network with specific options
docker network create \
  --driver bridge \
  --opt com.docker.network.bridge.enable_icc=false \
  --opt com.docker.network.bridge.enable_ip_masquerade=true \
  --opt com.docker.network.bridge.host_binding_ipv4=&#x22;192.168.1.1&#x22; \
  my-bridge

############ OTHERS COMMANDS ############

# inspect namespaces
ls -l /proc/<PID>/ns
sudo lsns -p <PID>
ps -o pid,ppid,cmd,netns,mntns,pidns,utsns <PID>

# inspect cgroups
lscgroup | grep <PID> # cgroup v1
cat /proc/<PID>/cgroup # cgroup v2
ls -l /sys/fs/cgroup/system.slice/docker-<FULL_ID_CONTAINER>.scope
cat /sys/fs/cgroup/system.slice/docker-<FULL_ID_CONTAINER>.scope/cgroup.procs
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p align="right">(<a href="#topic-352.3">back to sub topic 352.3</a>)</p>
    <p align="right">(<a href="#topic-352">back to topic 352</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr>
    <p><a name="topic-352.4"></a></p>
    <h3 id="Ô∏è-3524-container-orchestration-platforms"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-3524-container-orchestration-platforms"><span class="octicon octicon-link"></span></a>üóÇÔ∏è 352.4 container Orchestration Platforms</h3>
    <p><strong>Weight:</strong> 3</p>
    <p><strong>Description:</strong> Candidates should understand the importance of container orchestration and the key concepts Docker Swarm and Kubernetes provide to implement container orchestration.</p>
    <p><strong>Key Knowledge Areas:</strong></p>
    <ul>
      <li>Understand the relevance of container orchestration</li>
      <li>Understand the key concepts of Docker Compose and Docker Swarm</li>
      <li>Understand the key concepts of Kubernetes and Helm</li>
      <li>Awareness of OpenShift, Rancher and Mesosphere DC/OS</li>
    </ul>
    <p align="right">(<a href="#topic-352.4">back to sub topic 352.4</a>)</p>
    <p align="right">(<a href="#topic-352">back to topic 352</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr>
    <h4 id="-docker-compose"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-docker-compose"><span class="octicon octicon-link"></span></a>üß© Docker Compose</h4>
    <h5 id="-docker-compose-command-reference"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-docker-compose-command-reference"><span class="octicon octicon-link"></span></a>üìò Docker Compose Command Reference</h5>
    <p>Docker Compose is a tool for defining and managing multi-container Docker applications using a YAML file (<code>docker-compose.yml</code>).</p>
    <p>Below is a structured table of the main commands and their purposes.</p>
    <p><strong>üìä Table: Docker Compose Commands</strong></p>
    <table>
      <thead>
        <tr>
          <th>Command</th>
          <th>Purpose</th>
          <th>Example</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>‚ñ∂Ô∏è**<code>docker compose up</code>**</td>
          <td>Build, (re)create, start, and attach to containers defined in <code>docker-compose.yml</code>.</td>
          <td><code>docker compose up -d</code></td>
        </tr>
        <tr>
          <td>‚èπÔ∏è**<code>docker compose down</code>**</td>
          <td>Stop and remove containers, networks, volumes, and images created by <code>up</code>.</td>
          <td><code>docker compose down --volumes</code></td>
        </tr>
        <tr>
          <td>üîÑ**<code>docker compose restart</code>**</td>
          <td>Restart running services.</td>
          <td><code>docker compose restart web</code></td>
        </tr>
        <tr>
          <td>üü¢**<code>docker compose start</code>**</td>
          <td>Start existing containers without recreating them.</td>
          <td><code>docker compose start db</code></td>
        </tr>
        <tr>
          <td>üî¥**<code>docker compose stop</code>**</td>
          <td>Stop running containers without removing them.</td>
          <td><code>docker compose stop db</code></td>
        </tr>
        <tr>
          <td>üßπ**<code>docker compose rm</code>**</td>
          <td>Remove stopped service containers.</td>
          <td><code>docker compose rm -f</code></td>
        </tr>
        <tr>
          <td>üèóÔ∏è**<code>docker compose build</code>**</td>
          <td>Build or rebuild service images.</td>
          <td><code>docker compose build web</code></td>
        </tr>
        <tr>
          <td>üì•**<code>docker compose pull</code>**</td>
          <td>Pull service images from a registry.</td>
          <td><code>docker compose pull redis</code></td>
        </tr>
        <tr>
          <td>üì§**<code>docker compose push</code>**</td>
          <td>Push service images to a registry.</td>
          <td><code>docker compose push api</code></td>
        </tr>
        <tr>
          <td>üìÑ**<code>docker compose config</code>**</td>
          <td>Validate and view the Compose file.</td>
          <td><code>docker compose config</code></td>
        </tr>
        <tr>
          <td>üìã**<code>docker compose ps</code>**</td>
          <td>List containers managed by Compose.</td>
          <td><code>docker compose ps</code></td>
        </tr>
        <tr>
          <td>üìä**<code>docker compose top</code>**</td>
          <td>Display running processes of containers.</td>
          <td><code>docker compose top</code></td>
        </tr>
        <tr>
          <td>üìú**<code>docker compose logs</code>**</td>
          <td>View output logs from services.</td>
          <td><code>docker compose logs -f api</code></td>
        </tr>
        <tr>
          <td>üîç**<code>docker compose exec</code>**</td>
          <td>Run a command in a running service container.</td>
          <td><code>docker compose exec db psql -U postgres</code></td>
        </tr>
        <tr>
          <td>üêö**<code>docker compose run</code>**</td>
          <td>Run one-off commands in a new container.</td>
          <td><code>docker compose run web sh</code></td>
        </tr>
        <tr>
          <td>üîß**<code>docker compose override</code>**</td>
          <td>Use <code>-f</code>to specify multiple Compose files (overrides).</td>
          <td><code>docker compose -f docker-compose.yml -f docker-compose.override.yml up</code></td>
        </tr>
        <tr>
          <td>üåê<strong>Networking</strong></td>
          <td>Networks are auto-created; can be declared explicitly in YAML.</td>
          <td><code>docker network ls</code></td>
        </tr>
        <tr>
          <td>üì¶<strong>Volumes</strong></td>
          <td>Manage persistent data; can be declared in YAML and used across services.</td>
          <td><code>docker volume ls</code></td>
        </tr>
      </tbody>
    </table>
    <h5 id="-key-notes"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-key-notes"><span class="octicon octicon-link"></span></a>üîë Key Notes</h5>
    <ul>
      <li><strong><code>up</code> vs <code>start</code></strong> : <code>up</code> builds/recreates containers, <code>start</code> only runs existing ones.</li>
      <li><strong><code>run</code> vs <code>exec</code></strong> : <code>run</code> launches a <em>new</em> container, <code>exec</code> runs inside an existing one.</li>
      <li><strong>Config validation</strong> : Always run <code>docker compose config</code> to check for syntax errors.</li>
      <li><strong>Detach mode</strong> : Use <code>-d</code> to run services in background.</li>
    </ul>
    <h5 id="-docker-composeyml"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-docker-composeyml"><span class="octicon octicon-link"></span></a><strong>üìÑ <code>docker-compose.yml</code></strong></h5>
    <pre class="language-yaml"><code class="language-yaml code-highlight"><span class="code-line line-number" line="1"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">"3.9"</span>  <span class="token comment"># Compose file format</span>
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3"><span class="token key atrule">services</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="4">  <span class="token key atrule">web</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="5">    <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx<span class="token punctuation">:</span>latest
</span><span class="code-line line-number" line="6">    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> my<span class="token punctuation">-</span>nginx
</span><span class="code-line line-number" line="7">    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="8">      <span class="token punctuation">-</span> <span class="token string">"8080:80"</span>             <span class="token comment"># host:container</span>
</span><span class="code-line line-number" line="9">    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="10">      <span class="token punctuation">-</span> ./html<span class="token punctuation">:</span>/usr/share/nginx/html<span class="token punctuation">:</span>ro
</span><span class="code-line line-number" line="11">    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="12">      <span class="token punctuation">-</span> app<span class="token punctuation">-</span>network
</span><span class="code-line line-number" line="13">
</span><span class="code-line line-number" line="14">  <span class="token key atrule">api</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="15">    <span class="token key atrule">build</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="16">      <span class="token key atrule">context</span><span class="token punctuation">:</span> ./api          <span class="token comment"># build from Dockerfile in ./api</span>
</span><span class="code-line line-number" line="17">      <span class="token key atrule">dockerfile</span><span class="token punctuation">:</span> Dockerfile
</span><span class="code-line line-number" line="18">    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> my<span class="token punctuation">-</span>api
</span><span class="code-line line-number" line="19">    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="20">      <span class="token punctuation">-</span> NODE_ENV=production
</span><span class="code-line line-number" line="21">      <span class="token punctuation">-</span> API_KEY=$<span class="token punctuation">{</span>API_KEY<span class="token punctuation">}</span>    <span class="token comment"># read from .env file</span>
</span><span class="code-line line-number" line="22">    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="23">      <span class="token punctuation">-</span> db
</span><span class="code-line line-number" line="24">    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="25">      <span class="token punctuation">-</span> <span class="token string">"3000:3000"</span>
</span><span class="code-line line-number" line="26">    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="27">      <span class="token punctuation">-</span> app<span class="token punctuation">-</span>network
</span><span class="code-line line-number" line="28">
</span><span class="code-line line-number" line="29">  <span class="token key atrule">db</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="30">    <span class="token key atrule">image</span><span class="token punctuation">:</span> postgres<span class="token punctuation">:</span><span class="token number">15</span>
</span><span class="code-line line-number" line="31">    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> my<span class="token punctuation">-</span>postgres
</span><span class="code-line line-number" line="32">    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
</span><span class="code-line line-number" line="33">    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="34">      <span class="token key atrule">POSTGRES_USER</span><span class="token punctuation">:</span> admin
</span><span class="code-line line-number" line="35">      <span class="token key atrule">POSTGRES_PASSWORD</span><span class="token punctuation">:</span> secret
</span><span class="code-line line-number" line="36">      <span class="token key atrule">POSTGRES_DB</span><span class="token punctuation">:</span> appdb
</span><span class="code-line line-number" line="37">    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="38">      <span class="token punctuation">-</span> db<span class="token punctuation">-</span>data<span class="token punctuation">:</span>/var/lib/postgresql/data
</span><span class="code-line line-number" line="39">    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="40">      <span class="token punctuation">-</span> app<span class="token punctuation">-</span>network
</span><span class="code-line line-number" line="41">
</span><span class="code-line line-number" line="42"><span class="token key atrule">volumes</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="43">  <span class="token key atrule">db-data</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="44">
</span><span class="code-line line-number" line="45"><span class="token key atrule">networks</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="46">  <span class="token key atrule">app-network</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="47">    <span class="token key atrule">driver</span><span class="token punctuation">:</span> bridge
</span><span class="code-line line-number" line="48">
</span></code><div onclick="copied(this)" data-code="version: &#x22;3.9&#x22;  # Compose file format

services:
  web:
    image: nginx:latest
    container_name: my-nginx
    ports:
      - &#x22;8080:80&#x22;             # host:container
    volumes:
      - ./html:/usr/share/nginx/html:ro
    networks:
      - app-network

  api:
    build:
      context: ./api          # build from Dockerfile in ./api
      dockerfile: Dockerfile
    container_name: my-api
    environment:
      - NODE_ENV=production
      - API_KEY=${API_KEY}    # read from .env file
    depends_on:
      - db
    ports:
      - &#x22;3000:3000&#x22;
    networks:
      - app-network

  db:
    image: postgres:15
    container_name: my-postgres
    restart: always
    environment:
      POSTGRES_USER: admin
      POSTGRES_PASSWORD: secret
      POSTGRES_DB: appdb
    volumes:
      - db-data:/var/lib/postgresql/data
    networks:
      - app-network

volumes:
  db-data:

networks:
  app-network:
    driver: bridge

" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p><strong>üîé Explanation</strong></p>
    <ul>
      <li><strong><code>services</code></strong> : Defines containers (<code>web</code>, <code>api</code>, <code>db</code>) that make up the app.</li>
      <li><strong><code>ports</code></strong> : Maps host ports to container ports (<code>8080:80</code>).</li>
      <li><strong><code>volumes</code></strong> :</li>
      <li>Named volume (<code>db-data</code>) for persistent DB data.</li>
      <li>Bind mount (<code>./html:/usr/share/nginx/html</code>) to serve static content.</li>
      <li><strong><code>build</code></strong> : Allows building a custom image from a Dockerfile.</li>
      <li><strong><code>depends_on</code></strong> : Ensures service startup order (<code>api</code> waits for <code>db</code>).</li>
      <li><strong><code>networks</code></strong> : Defines an isolated virtual network for communication.</li>
    </ul>
    <p><strong>üöÄ Usage</strong></p>
    <p>Start in detached mode</p>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token function">docker</span> compose up <span class="token parameter variable">-d</span>
</span><span class="code-line line-number" line="2"><span class="token function">docker</span> compose logs <span class="token parameter variable">-f</span> api
</span><span class="code-line line-number" line="3"><span class="token function">docker</span> compose down <span class="token parameter variable">-v</span>
</span></code><div onclick="copied(this)" data-code="docker compose up -d
docker compose logs -f api
docker compose down -v
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>For testing docker compose use examples of services in <a href="apps/">apps</a>.</p>
    <h4 id="-docker-swarm"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-docker-swarm"><span class="octicon octicon-link"></span></a>üåê Docker Swarm</h4>
    <p>
      <img src="images/swarm-nodes.png" alt="swarm-nodes">
      <em>Swarm architecture with manager and worker nodes</em>
    </p>
    <p>
      <img src="images/swarm-services.png" alt="swarm-services">
      <em>Swarm services with multiple replicas</em>
    </p>
    <p>Docker Swarm is Docker's native orchestration tool that allows you to manage a cluster of Docker hosts as a single virtual system. It facilitates the deployment, management, and scaling of containerized applications across multiple machines.</p>
    <h5 id="docker-swarm-key-concepts"><a class="anchor" aria-hidden="true" tabindex="-1" href="#docker-swarm-key-concepts"><span class="octicon octicon-link"></span></a>Docker Swarm Key Concepts</h5>
    <table>
      <thead>
        <tr>
          <th align="left">Concept</th>
          <th align="left">Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td align="left">üåê <strong>Swarm</strong></td>
          <td align="left">A cluster of Docker hosts running in swarm mode.</td>
        </tr>
        <tr>
          <td align="left">ü§ñ <strong>Node</strong></td>
          <td align="left">A Docker host participating in the swarm. Nodes can be either managers or workers.</td>
        </tr>
        <tr>
          <td align="left">üëë <strong>Manager Node</strong></td>
          <td align="left">Responsible for managing the swarm's state, scheduling tasks, and maintaining the desired state of the cluster.</td>
        </tr>
        <tr>
          <td align="left">üë∑ <strong>Worker Node</strong></td>
          <td align="left">Executes tasks assigned by manager nodes, running the actual containers.</td>
        </tr>
        <tr>
          <td align="left">üöÄ <strong>Service</strong></td>
          <td align="left">An abstract definition of a computational resource (e.g., an Nginx web server) that can be scaled and updated independently.</td>
        </tr>
        <tr>
          <td align="left">üìù <strong>Task</strong></td>
          <td align="left">A running container that is part of a service.</td>
        </tr>
      </tbody>
    </table>
    <h5 id="-main-characteristics"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-main-characteristics"><span class="octicon octicon-link"></span></a>‚ú® Main characteristics</h5>
    <table>
      <thead>
        <tr>
          <th align="left">Feature</th>
          <th align="left">Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td align="left">‚¨ÜÔ∏è <strong>High availability</strong></td>
          <td align="left">Distributes services across multiple nodes, ensuring applications remain available even if a node fails.</td>
        </tr>
        <tr>
          <td align="left">‚öñÔ∏è <strong>Scalability</strong></td>
          <td align="left">Easily scale services up or down to handle varying workloads.</td>
        </tr>
        <tr>
          <td align="left">üîÑ <strong>Load Balancing</strong></td>
          <td align="left">Built-in load balancing distributes requests evenly among service replicas.</td>
        </tr>
        <tr>
          <td align="left">üöÄ <strong>Rolling Updates</strong></td>
          <td align="left">Perform updates to services with zero downtime.</td>
        </tr>
        <tr>
          <td align="left">üòä <strong>Ease of use</strong></td>
          <td align="left">Integrated directly into Docker Engine, making it relatively simple to set up and manage compared to other orchestrators.</td>
        </tr>
      </tbody>
    </table>
    <h5 id="-swarm-management-commands"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-swarm-management-commands"><span class="octicon octicon-link"></span></a>üê≥ Swarm Management Commands</h5>
    <table>
      <thead>
        <tr>
          <th align="left">Command</th>
          <th align="left">Description</th>
          <th align="left">Example</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td align="left">üëë <strong><code>docker swarm init</code></strong></td>
          <td align="left">Initializes a new swarm on the current node, making it the manager.</td>
          <td align="left"><code>docker swarm init --advertise-addr 192.168.1.10</code></td>
        </tr>
        <tr>
          <td align="left">üë∑ <strong><code>docker swarm join</code></strong></td>
          <td align="left">Joins a node to an existing swarm as a worker or manager.</td>
          <td align="left"><code>docker swarm join --token &#x3C;TOKEN> 192.168.1.10:2377</code></td>
        </tr>
        <tr>
          <td align="left">üëã <strong><code>docker swarm leave</code></strong></td>
          <td align="left">Removes the current node from the swarm.</td>
          <td align="left"><code>docker swarm leave --force</code></td>
        </tr>
        <tr>
          <td align="left">üìú <strong><code>docker node ls</code></strong></td>
          <td align="left">Lists all nodes in the swarm.</td>
          <td align="left"><code>docker node ls</code></td>
        </tr>
      </tbody>
    </table>
    <h5 id="-service-management-commands"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-service-management-commands"><span class="octicon octicon-link"></span></a>üöÄ Service Management Commands</h5>
    <table>
      <thead>
        <tr>
          <th align="left">Command</th>
          <th align="left">Description</th>
          <th align="left">Example</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td align="left">‚ú® <strong><code>docker service create</code></strong></td>
          <td align="left">Creates a new service in the swarm.</td>
          <td align="left"><code>docker service create --name web -p 80:80 --replicas 3 nginx</code></td>
        </tr>
        <tr>
          <td align="left">‚öñÔ∏è <strong><code>docker service scale</code></strong></td>
          <td align="left">Scales one or more replicated services.</td>
          <td align="left"><code>docker service scale web=5</code></td>
        </tr>
        <tr>
          <td align="left">üîÑ <strong><code>docker service update</code></strong></td>
          <td align="left">Updates a service's configuration.</td>
          <td align="left"><code>docker service update --image nginx:latest web</code></td>
        </tr>
        <tr>
          <td align="left">üóëÔ∏è <strong><code>docker service rm</code></strong></td>
          <td align="left">Removes a service from the swarm.</td>
          <td align="left"><code>docker service rm web</code></td>
        </tr>
        <tr>
          <td align="left">üìú <strong><code>docker service ls</code></strong></td>
          <td align="left">Lists all services in the swarm.</td>
          <td align="left"><code>docker service ls</code></td>
        </tr>
        <tr>
          <td align="left">üìù <strong><code>docker service ps</code></strong></td>
          <td align="left">Lists the tasks of one or more services.</td>
          <td align="left"><code>docker service ps web</code></td>
        </tr>
      </tbody>
    </table>
    <p>For testing docker swarm use script: <a href="scripts/docker/docker-swarm.sh">docker-swarm.sh</a>.</p>
    <h4 id="Ô∏è-kubernetes"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-kubernetes"><span class="octicon octicon-link"></span></a>‚ò∏Ô∏è Kubernetes</h4>
    <p>Kubernetes, also known as K8s, is an open-source platform for automating the deployment, scaling, and management of containerized applications. It groups containers that make up an application into logical units for easy management and discovery.</p>
    <h5 id="Ô∏è-kubernetes-architecture"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-kubernetes-architecture"><span class="octicon octicon-link"></span></a>üèõÔ∏è Kubernetes Architecture</h5>
    <p>
      <img src="images/k8s-components.png" alt="Kubernetes Architecture">
    </p>
    <p>A Kubernetes cluster consists of a set of worker machines, called <strong>nodes</strong>, that run containerized applications. Every cluster has at least one worker node. The worker node(s) host the <strong>Pods</strong> which are the components of the application workload. The <strong>control plane</strong> manages the worker nodes and the Pods in the cluster.</p>
    <h6 id="Ô∏è-control-plane-components"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-control-plane-components"><span class="octicon octicon-link"></span></a>‚úàÔ∏è Control Plane Components</h6>
    <p>The control plane's components make global decisions about the cluster (for example, scheduling), as well as detecting and responding to cluster events.</p>
    <table>
      <thead>
        <tr>
          <th align="left">Component</th>
          <th align="left">Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td align="left"><strong>kube-apiserver</strong></td>
          <td align="left">The API server is a component of the Kubernetes control plane that exposes the Kubernetes API. The API server is the front end for the Kubernetes control plane.</td>
        </tr>
        <tr>
          <td align="left"><strong>etcd</strong></td>
          <td align="left">Consistent and highly-available key-value store used as Kubernetes' backing store for all cluster data.</td>
        </tr>
        <tr>
          <td align="left"><strong>kube-scheduler</strong></td>
          <td align="left">Watches for newly created Pods with no assigned node, and selects a node for them to run on.</td>
        </tr>
        <tr>
          <td align="left"><strong>kube-controller-manager</strong></td>
          <td align="left">Runs controller processes. Logically, each controller is a separate process, but to reduce complexity, they are all compiled into a single binary and run in a single process.</td>
        </tr>
        <tr>
          <td align="left"><strong>cloud-controller-manager</strong></td>
          <td align="left">A Kubernetes control plane component that embeds cloud-specific control logic. The cloud controller manager lets you link your cluster into your cloud provider's API, and separates out the components that interact with that cloud platform from components that only interact with your cluster.</td>
        </tr>
      </tbody>
    </table>
    <h6 id="-node-components"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-node-components"><span class="octicon octicon-link"></span></a>üë∑ Node Components</h6>
    <p>Node components run on every node, maintaining running pods and providing the Kubernetes runtime environment.</p>
    <table>
      <thead>
        <tr>
          <th align="left">Component</th>
          <th align="left">Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td align="left"><strong>kubelet</strong></td>
          <td align="left">An agent that runs on each node in the cluster. It makes sure that containers are running in a Pod.</td>
        </tr>
        <tr>
          <td align="left"><strong>kube-proxy</strong></td>
          <td align="left">A network proxy that runs on each node in your cluster, implementing part of the Kubernetes Service concept.</td>
        </tr>
        <tr>
          <td align="left"><strong>Container runtime</strong></td>
          <td align="left">The software that is responsible for running containers. Kubernetes supports several container runtimes: Docker, containerd, CRI-O, and any other implementation of the Kubernetes CRI (Container Runtime Interface).</td>
        </tr>
      </tbody>
    </table>
    <h5 id="-kubernetes-objects"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-kubernetes-objects"><span class="octicon octicon-link"></span></a>üì¶ Kubernetes Objects</h5>
    <p>Kubernetes objects are persistent entities in the Kubernetes system. Kubernetes uses these entities to represent the state of your cluster.</p>
    <table>
      <thead>
        <tr>
          <th align="left">Object</th>
          <th align="left">Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td align="left"><strong>Pod</strong></td>
          <td align="left">The smallest and simplest unit in the Kubernetes object model that you create or deploy. A Pod represents a set of running containers on your cluster.</td>
        </tr>
        <tr>
          <td align="left"><strong>Service</strong></td>
          <td align="left">An abstract way to expose an application running on a set of Pods as a network service.</td>
        </tr>
        <tr>
          <td align="left"><strong>Volume</strong></td>
          <td align="left">A directory containing data, accessible to the containers in a Pod.</td>
        </tr>
        <tr>
          <td align="left"><strong>Namespace</strong></td>
          <td align="left">A way to divide cluster resources between multiple users.</td>
        </tr>
        <tr>
          <td align="left"><strong>Deployment</strong></td>
          <td align="left">Provides declarative updates for Pods and ReplicaSets. You describe a desired state in a Deployment, and the Deployment Controller changes the actual state to the desired state at a controlled rate.</td>
        </tr>
        <tr>
          <td align="left"><strong>ReplicaSet</strong></td>
          <td align="left">Ensures that a specified number of pod replicas are running at any given time.</td>
        </tr>
        <tr>
          <td align="left"><strong>StatefulSet</strong></td>
          <td align="left">Manages the deployment and scaling of a set of Pods, and provides guarantees about the ordering and uniqueness of these Pods.</td>
        </tr>
        <tr>
          <td align="left"><strong>DaemonSet</strong></td>
          <td align="left">Ensures that all (or some) Nodes run a copy of a Pod.</td>
        </tr>
        <tr>
          <td align="left"><strong>Job</strong></td>
          <td align="left">Creates one or more Pods and ensures that a specified number of them successfully terminate.</td>
        </tr>
        <tr>
          <td align="left"><strong>CronJob</strong></td>
          <td align="left">Creates Jobs on a time-based schedule.</td>
        </tr>
      </tbody>
    </table>
    <h4 id="-helm"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-helm"><span class="octicon octicon-link"></span></a>‚éà Helm</h4>
    <p>Helm is a package manager for Kubernetes.</p>
    <p>It helps you manage Kubernetes applications ‚Äî Helm Charts help you define, install, and upgrade even the most complex Kubernetes application.</p>
    <h5 id="-key-concepts-2"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-key-concepts-2"><span class="octicon octicon-link"></span></a>üéØ Key Concepts</h5>
    <table>
      <thead>
        <tr>
          <th align="left">Concept</th>
          <th align="left">Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td align="left"><strong>Chart</strong></td>
          <td align="left">A Helm package. It contains all of the resource definitions necessary to run an application, tool, or service inside of a Kubernetes cluster.</td>
        </tr>
        <tr>
          <td align="left"><strong>Repository</strong></td>
          <td align="left">A place where charts can be collected and shared.</td>
        </tr>
        <tr>
          <td align="left"><strong>Release</strong></td>
          <td align="left">An instance of a chart running in a Kubernetes cluster. One chart can often be installed many times into the same cluster. And each time it is installed, a new <em>release</em> is created.</td>
        </tr>
      </tbody>
    </table>
    <h5 id="-core-commands-kubernetes"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-core-commands-kubernetes"><span class="octicon octicon-link"></span></a>üöÄ Core Commands Kubernetes</h5>
    <table>
      <thead>
        <tr>
          <th align="left">Command</th>
          <th align="left">Description</th>
          <th align="left">Example</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td align="left"><code>helm search</code></td>
          <td align="left">Search for charts in a repository.</td>
          <td align="left"><code>helm search repo stable</code></td>
        </tr>
        <tr>
          <td align="left"><code>helm install</code></td>
          <td align="left">Install a chart.</td>
          <td align="left"><code>helm install my-release stable/mysql</code></td>
        </tr>
        <tr>
          <td align="left"><code>helm upgrade</code></td>
          <td align="left">Upgrade a release.</td>
          <td align="left"><code>helm upgrade my-release stable/mysql</code></td>
        </tr>
        <tr>
          <td align="left"><code>helm uninstall</code></td>
          <td align="left">Uninstall a release.</td>
          <td align="left"><code>helm uninstall my-release</code></td>
        </tr>
        <tr>
          <td align="left"><code>helm list</code></td>
          <td align="left">List releases.</td>
          <td align="left"><code>helm list</code></td>
        </tr>
      </tbody>
    </table>
    <h4 id="Ô∏è-other-orchestration-platforms"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-other-orchestration-platforms"><span class="octicon octicon-link"></span></a>üèóÔ∏è Other Orchestration Platforms</h4>
    <h5 id="openshift"><a class="anchor" aria-hidden="true" tabindex="-1" href="#openshift"><span class="octicon octicon-link"></span></a>OpenShift</h5>
    <p><strong>OpenShift</strong> is a family of containerization software products developed by Red Hat. Its flagship product is the OpenShift Container Platform ‚Äî an on-premises platform as a service built around Docker containers orchestrated and managed by Kubernetes on a foundation of Red Hat Enterprise Linux.</p>
    <h5 id="rancher"><a class="anchor" aria-hidden="true" tabindex="-1" href="#rancher"><span class="octicon octicon-link"></span></a>Rancher</h5>
    <p><strong>Rancher</strong> is a complete software stack for teams adopting containers. It addresses the operational and security challenges of managing multiple Kubernetes clusters across any infrastructure, while providing DevOps teams with integrated tools for running containerized workloads.</p>
    <h5 id="mesosphere-dcos"><a class="anchor" aria-hidden="true" tabindex="-1" href="#mesosphere-dcos"><span class="octicon octicon-link"></span></a>Mesosphere DC/OS</h5>
    <p><strong>Mesosphere DC/OS</strong> (the Datacenter Operating System) is a distributed operating system based on the Apache Mesos distributed systems kernel. It can manage multiple machines in a datacenter or cloud as if they‚Äôre a single computer. It provides a highly elastic, and highly scalable way of deploying applications, services, and big data infrastructure on shared resources.</p>
    <h4 id="Ô∏è-3524-important-commands"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-3524-important-commands"><span class="octicon octicon-link"></span></a>üõ†Ô∏è 352.4 Important Commands</h4>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">
</span><span class="code-line line-number" line="2"><span class="token comment">#------------- SWARM MANAGEMENT COMMANDS ------------</span>
</span><span class="code-line line-number" line="3"><span class="token comment"># initialize a new swarm</span>
</span><span class="code-line line-number" line="4"><span class="token function">docker</span> swarm init --advertise-addr <span class="token number">192.168</span>.1.131
</span><span class="code-line line-number" line="5">
</span><span class="code-line line-number" line="6"><span class="token comment"># list nodes in the swarm</span>
</span><span class="code-line line-number" line="7"><span class="token function">docker</span> <span class="token function">node</span> <span class="token function">ls</span>
</span><span class="code-line line-number" line="8">
</span><span class="code-line line-number" line="9"><span class="token comment"># join a node to an existing swarm</span>
</span><span class="code-line line-number" line="10"><span class="token function">docker</span> swarm <span class="token function">join</span> <span class="token parameter variable">--token</span> <span class="token operator">&#x3C;</span>TOKEN<span class="token operator">></span> <span class="token number">192.168</span>.1.131:2377
</span><span class="code-line line-number" line="11">
</span><span class="code-line line-number" line="12"><span class="token comment"># leave the swarm</span>
</span><span class="code-line line-number" line="13"><span class="token function">docker</span> swarm leave <span class="token parameter variable">--force</span>
</span><span class="code-line line-number" line="14">
</span><span class="code-line line-number" line="15"><span class="token comment"># promote a node to manager</span>
</span><span class="code-line line-number" line="16"><span class="token function">docker</span> <span class="token function">node</span> promote <span class="token operator">&#x3C;</span>NODE_ID_OR_NAME<span class="token operator">></span>
</span><span class="code-line line-number" line="17">
</span><span class="code-line line-number" line="18"><span class="token comment"># demote a node to worker</span>
</span><span class="code-line line-number" line="19"><span class="token function">docker</span> <span class="token function">node</span> demote <span class="token operator">&#x3C;</span>NODE_ID_OR_NAME<span class="token operator">></span>
</span><span class="code-line line-number" line="20">
</span><span class="code-line line-number" line="21"><span class="token comment"># inspect a node</span>
</span><span class="code-line line-number" line="22"><span class="token function">docker</span> <span class="token function">node</span> inspect <span class="token operator">&#x3C;</span>NODE_ID_OR_NAME<span class="token operator">></span>
</span><span class="code-line line-number" line="23"><span class="token function">docker</span> <span class="token function">node</span> inspect  <span class="token parameter variable">--format</span> <span class="token string">'{{json .Spec.Role}}'</span> lpic3-topic-352-docker-1
</span><span class="code-line line-number" line="24"><span class="token function">docker</span> <span class="token function">node</span> inspect <span class="token parameter variable">--format</span> <span class="token string">'{{json .Spec}}'</span> lpic3-topic-352-docker-2  <span class="token operator">|</span> jq
</span><span class="code-line line-number" line="25"><span class="token function">docker</span> <span class="token function">node</span> inspect <span class="token parameter variable">--format</span> <span class="token string">'{{json .Status}}'</span> lpic3-topic-352-docker-1 <span class="token operator">|</span> jq
</span><span class="code-line line-number" line="26">
</span><span class="code-line line-number" line="27"><span class="token comment"># remove a node from the swarm</span>
</span><span class="code-line line-number" line="28"><span class="token function">docker</span> <span class="token function">node</span> <span class="token function">rm</span> <span class="token operator">&#x3C;</span>NODE_ID_OR_NAME<span class="token operator">></span>
</span><span class="code-line line-number" line="29"><span class="token comment"># remove all nodes</span>
</span><span class="code-line line-number" line="30"><span class="token function">docker</span> <span class="token function">node</span> <span class="token function">rm</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> <span class="token function">node</span> <span class="token function">ls</span> <span class="token parameter variable">-q</span><span class="token variable">)</span></span>
</span><span class="code-line line-number" line="31">
</span><span class="code-line line-number" line="32"><span class="token comment">#------------- SERVICE MANAGEMENT COMMANDS ------------</span>
</span><span class="code-line line-number" line="33"><span class="token comment"># create a service</span>
</span><span class="code-line line-number" line="34"><span class="token function">docker</span> <span class="token function">service</span> create <span class="token parameter variable">--name</span> registry <span class="token parameter variable">--publish</span> <span class="token assign-left variable">published</span><span class="token operator">=</span><span class="token number">5000</span>,target<span class="token operator">=</span><span class="token number">5000</span> registry:2
</span><span class="code-line line-number" line="35"><span class="token function">docker</span> <span class="token function">service</span> create <span class="token parameter variable">--name</span> web <span class="token parameter variable">--replicas</span> <span class="token number">3</span> <span class="token parameter variable">--publish</span> <span class="token assign-left variable">published</span><span class="token operator">=</span><span class="token number">8080</span>,target<span class="token operator">=</span><span class="token number">80</span> nginx:latest
</span><span class="code-line line-number" line="36">
</span><span class="code-line line-number" line="37"><span class="token comment"># list services</span>
</span><span class="code-line line-number" line="38"><span class="token function">docker</span> <span class="token function">service</span> <span class="token function">ls</span>
</span><span class="code-line line-number" line="39">
</span><span class="code-line line-number" line="40"><span class="token comment"># logs of a service</span>
</span><span class="code-line line-number" line="41"><span class="token function">docker</span> <span class="token function">service</span> logs <span class="token operator">&#x3C;</span>SERVICE_ID_OR_NAME<span class="token operator">></span>
</span><span class="code-line line-number" line="42"><span class="token function">docker</span> <span class="token function">service</span> logs <span class="token parameter variable">-f</span> <span class="token operator">&#x3C;</span>SERVICE_ID_OR_NAME<span class="token operator">></span>
</span><span class="code-line line-number" line="43"><span class="token function">docker</span> <span class="token function">service</span> logs <span class="token parameter variable">-f</span> registry
</span><span class="code-line line-number" line="44">
</span><span class="code-line line-number" line="45"><span class="token comment"># inspect a service</span>
</span><span class="code-line line-number" line="46"><span class="token function">docker</span> <span class="token function">service</span> inspect <span class="token operator">&#x3C;</span>SERVICE_ID_OR_NAME<span class="token operator">></span>
</span><span class="code-line line-number" line="47"><span class="token function">docker</span> <span class="token function">service</span> inspect <span class="token parameter variable">--format</span> <span class="token string">'{{json .Spec}}'</span> registry
</span><span class="code-line line-number" line="48">
</span><span class="code-line line-number" line="49"><span class="token comment"># remove a service</span>
</span><span class="code-line line-number" line="50"><span class="token function">docker</span> <span class="token function">service</span> <span class="token function">rm</span> <span class="token operator">&#x3C;</span>SERVICE_ID_OR_NAME<span class="token operator">></span>
</span><span class="code-line line-number" line="51">
</span><span class="code-line line-number" line="52"><span class="token comment"># scale a service</span>
</span><span class="code-line line-number" line="53"><span class="token function">docker</span> <span class="token function">service</span> scale <span class="token operator">&#x3C;</span>SERVICE_ID_OR_NAME<span class="token operator">>=</span><span class="token operator">&#x3C;</span>NUMBER_OF_REPLICAS<span class="token operator">></span>
</span><span class="code-line line-number" line="54"><span class="token function">docker</span> <span class="token function">service</span> scale <span class="token assign-left variable">registry</span><span class="token operator">=</span><span class="token number">3</span>
</span><span class="code-line line-number" line="55">
</span><span class="code-line line-number" line="56"><span class="token comment"># update a service</span>
</span><span class="code-line line-number" line="57"><span class="token function">docker</span> <span class="token function">service</span> update <span class="token parameter variable">--image</span> registry:3 registry
</span><span class="code-line line-number" line="58">
</span><span class="code-line line-number" line="59"><span class="token comment"># list tasks of a service</span>
</span><span class="code-line line-number" line="60"><span class="token function">docker</span> <span class="token function">service</span> <span class="token function">ps</span> <span class="token operator">&#x3C;</span>SERVICE_ID_OR_NAME<span class="token operator">></span>  
</span><span class="code-line line-number" line="61"><span class="token function">docker</span> <span class="token function">service</span> <span class="token function">ps</span> registry
</span><span class="code-line line-number" line="62">
</span><span class="code-line line-number" line="63"><span class="token comment"># list all tasks</span>
</span><span class="code-line line-number" line="64"><span class="token function">docker</span> <span class="token function">service</span> <span class="token function">ps</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> <span class="token function">service</span> <span class="token function">ls</span> <span class="token parameter variable">-q</span><span class="token variable">)</span></span>
</span><span class="code-line line-number" line="65">
</span><span class="code-line line-number" line="66"><span class="token comment"># inspect a task</span>
</span><span class="code-line line-number" line="67"><span class="token function">docker</span> inspect <span class="token operator">&#x3C;</span>TASK_ID<span class="token operator">></span>
</span><span class="code-line line-number" line="68"><span class="token function">docker</span> inspect <span class="token operator">&#x3C;</span>TASK_ID<span class="token operator">></span> <span class="token parameter variable">--format</span> <span class="token string">'{{json .Status}}'</span> <span class="token operator">|</span> jq
</span><span class="code-line line-number" line="69"><span class="token function">docker</span> inspect <span class="token operator">&#x3C;</span>TASK_ID<span class="token operator">></span> <span class="token parameter variable">--format</span> <span class="token string">'{{json .Spec}}'</span> <span class="token operator">|</span> jq
</span><span class="code-line line-number" line="70">
</span><span class="code-line line-number" line="71"><span class="token comment"># remove all services</span>
</span><span class="code-line line-number" line="72"><span class="token function">docker</span> <span class="token function">service</span> <span class="token function">rm</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> <span class="token function">service</span> <span class="token function">ls</span> <span class="token parameter variable">-q</span><span class="token variable">)</span></span>
</span><span class="code-line line-number" line="73">
</span><span class="code-line line-number" line="74"><span class="token comment">#------------- STACK MANAGEMENT COMMANDS ------------</span>
</span><span class="code-line line-number" line="75"><span class="token comment"># validate a stack file</span>
</span><span class="code-line line-number" line="76"><span class="token function">docker</span> stack config --compose-file docker-compose.yml
</span><span class="code-line line-number" line="77">
</span><span class="code-line line-number" line="78"><span class="token comment"># deploy a stack</span>
</span><span class="code-line line-number" line="79"><span class="token function">docker</span> stack deploy <span class="token parameter variable">-c</span> docker-compose.yml mystack
</span><span class="code-line line-number" line="80">
</span><span class="code-line line-number" line="81"><span class="token comment"># list stacks</span>
</span><span class="code-line line-number" line="82"><span class="token function">docker</span> stack <span class="token function">ls</span>
</span><span class="code-line line-number" line="83">
</span><span class="code-line line-number" line="84"><span class="token comment"># list services in a stack</span>
</span><span class="code-line line-number" line="85"><span class="token function">docker</span> stack services mystack
</span><span class="code-line line-number" line="86">
</span><span class="code-line line-number" line="87"><span class="token comment"># list tasks in a stack</span>
</span><span class="code-line line-number" line="88"><span class="token function">docker</span> stack <span class="token function">ps</span> mystack
</span><span class="code-line line-number" line="89"><span class="token function">docker</span> stack <span class="token function">ps</span> mystack <span class="token parameter variable">--filter</span> <span class="token string">"desired-state=running"</span>
</span><span class="code-line line-number" line="90">
</span><span class="code-line line-number" line="91"><span class="token comment"># scale a service in a stack</span>
</span><span class="code-line line-number" line="92"><span class="token function">docker</span> <span class="token function">service</span> scale <span class="token assign-left variable">mystack_web</span><span class="token operator">=</span><span class="token number">5</span>
</span><span class="code-line line-number" line="93">
</span><span class="code-line line-number" line="94"><span class="token comment"># remove a stack</span>
</span><span class="code-line line-number" line="95"><span class="token function">docker</span> stack <span class="token function">rm</span> mystack 
</span><span class="code-line line-number" line="96">
</span><span class="code-line line-number" line="97"><span class="token comment"># remove all stacks</span>
</span><span class="code-line line-number" line="98"><span class="token function">docker</span> stack <span class="token function">rm</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> stack <span class="token function">ls</span> <span class="token parameter variable">-q</span><span class="token variable">)</span></span>
</span><span class="code-line line-number" line="99">
</span><span class="code-line line-number" line="100"><span class="token comment"># ------------- MINIKUBE ------------</span>
</span><span class="code-line line-number" line="101"><span class="token comment"># start minikube</span>
</span><span class="code-line line-number" line="102">minikube start
</span><span class="code-line line-number" line="103">
</span><span class="code-line line-number" line="104"><span class="token comment"># stop minikube</span>
</span><span class="code-line line-number" line="105">minikube stop
</span><span class="code-line line-number" line="106">
</span><span class="code-line line-number" line="107"><span class="token comment"># delete minikube</span>
</span><span class="code-line line-number" line="108">minikube delete
</span><span class="code-line line-number" line="109">
</span><span class="code-line line-number" line="110"><span class="token comment"># dashboard</span>
</span><span class="code-line line-number" line="111">minikube dashboard
</span><span class="code-line line-number" line="112">minikube dashboard <span class="token parameter variable">-p</span> lpic3
</span><span class="code-line line-number" line="113">
</span><span class="code-line line-number" line="114">
</span><span class="code-line line-number" line="115"><span class="token comment">#------------- KUBERNETES COMMANDS ------------</span>
</span><span class="code-line line-number" line="116"><span class="token comment"># get kubernetes cluster info</span>
</span><span class="code-line line-number" line="117">kubectl cluster-info
</span><span class="code-line line-number" line="118">
</span><span class="code-line line-number" line="119"><span class="token comment"># Management nodes</span>
</span><span class="code-line line-number" line="120">
</span><span class="code-line line-number" line="121"><span class="token comment"># get nodes</span>
</span><span class="code-line line-number" line="122">kubectl get nodes
</span><span class="code-line line-number" line="123">
</span><span class="code-line line-number" line="124"><span class="token comment"># Manage pods and deployments</span>
</span><span class="code-line line-number" line="125">
</span><span class="code-line line-number" line="126"><span class="token comment"># run a pod</span>
</span><span class="code-line line-number" line="127">kubectl run nginx-example <span class="token parameter variable">--image</span><span class="token operator">=</span>nginx:latest
</span><span class="code-line line-number" line="128">
</span><span class="code-line line-number" line="129"><span class="token comment"># get pods</span>
</span><span class="code-line line-number" line="130">kubectl get pods
</span><span class="code-line line-number" line="131">
</span><span class="code-line line-number" line="132"><span class="token comment"># get deployments</span>
</span><span class="code-line line-number" line="133">kubectl get deployments
</span><span class="code-line line-number" line="134">
</span><span class="code-line line-number" line="135"><span class="token comment"># describe a pod</span>
</span><span class="code-line line-number" line="136">kubectl describe pod <span class="token operator">&#x3C;</span>POD_NAME<span class="token operator">></span>
</span><span class="code-line line-number" line="137">
</span><span class="code-line line-number" line="138"><span class="token comment"># describe a deployment</span>
</span><span class="code-line line-number" line="139">kubectl describe deployment <span class="token operator">&#x3C;</span>DEPLOYMENT_NAME<span class="token operator">></span>
</span><span class="code-line line-number" line="140">
</span><span class="code-line line-number" line="141"><span class="token comment"># generate a yaml file for a pod</span>
</span><span class="code-line line-number" line="142">kubectl run nginx-example-1 <span class="token parameter variable">--image</span><span class="token operator">=</span>nginx:latest  --dry-run<span class="token operator">=</span>client <span class="token parameter variable">-o</span> yaml <span class="token operator">></span> configs/kubernetes/manifests/nginx-pod.yaml
</span><span class="code-line line-number" line="143">
</span><span class="code-line line-number" line="144"><span class="token comment"># generate a yaml file for a deployment</span>
</span><span class="code-line line-number" line="145">kubectl create deployment nginx-example-2 <span class="token parameter variable">--image</span><span class="token operator">=</span>nginx:latest  --dry-run<span class="token operator">=</span>client <span class="token parameter variable">-o</span> yaml <span class="token operator">></span> configs/kubernetes/manifests/nginx-deployment.yaml
</span><span class="code-line line-number" line="146">
</span><span class="code-line line-number" line="147"><span class="token comment"># create a resource from a configuration file</span>
</span><span class="code-line line-number" line="148">kubectl create <span class="token parameter variable">-f</span> nginx-deployment.yaml
</span><span class="code-line line-number" line="149">
</span><span class="code-line line-number" line="150"><span class="token comment"># apply a configuration file</span>
</span><span class="code-line line-number" line="151">kubectl apply <span class="token parameter variable">-f</span> nginx-deployment.yaml
</span><span class="code-line line-number" line="152">
</span><span class="code-line line-number" line="153"><span class="token comment"># delete a resource from a configuration file</span>
</span><span class="code-line line-number" line="154">kubectl delete <span class="token parameter variable">-f</span> nginx-deployment.yaml
</span><span class="code-line line-number" line="155">
</span><span class="code-line line-number" line="156"><span class="token comment"># scale a deployment</span>
</span><span class="code-line line-number" line="157">kubectl scale deployment nginx-example-2 <span class="token parameter variable">--replicas</span><span class="token operator">=</span><span class="token number">5</span>
</span><span class="code-line line-number" line="158">
</span><span class="code-line line-number" line="159"><span class="token comment">#------------- HELM COMMANDS ------------</span>
</span><span class="code-line line-number" line="160">
</span><span class="code-line line-number" line="161"><span class="token comment"># list repositories</span>
</span><span class="code-line line-number" line="162">helm repo list
</span><span class="code-line line-number" line="163">
</span><span class="code-line line-number" line="164"><span class="token comment"># add a repository</span>
</span><span class="code-line line-number" line="165">helm repo <span class="token function">add</span> stable https://charts.helm.sh/stable
</span><span class="code-line line-number" line="166">
</span><span class="code-line line-number" line="167"><span class="token comment"># update repositories</span>
</span><span class="code-line line-number" line="168">helm repo update
</span><span class="code-line line-number" line="169">
</span><span class="code-line line-number" line="170"><span class="token comment"># delete a repository</span>
</span><span class="code-line line-number" line="171">helm repo remove stable
</span><span class="code-line line-number" line="172">
</span><span class="code-line line-number" line="173"><span class="token comment"># search for charts in a repository</span>
</span><span class="code-line line-number" line="174">helm search repo stable
</span><span class="code-line line-number" line="175">
</span><span class="code-line line-number" line="176"><span class="token comment"># install a chart</span>
</span><span class="code-line line-number" line="177">helm <span class="token function">install</span> my-release stable/mysql
</span><span class="code-line line-number" line="178">helm <span class="token function">install</span> mysql <span class="token parameter variable">-n</span> mysql  --create-namespace stable/mysql <span class="token parameter variable">--values</span> values.yaml
</span><span class="code-line line-number" line="179">
</span><span class="code-line line-number" line="180"><span class="token comment"># upgrade a release</span>
</span><span class="code-line line-number" line="181">helm upgrade my-release stable/mysql
</span><span class="code-line line-number" line="182">
</span><span class="code-line line-number" line="183"><span class="token comment"># uninstall a release</span>
</span><span class="code-line line-number" line="184">helm uninstall my-release
</span><span class="code-line line-number" line="185">
</span><span class="code-line line-number" line="186"><span class="token comment"># list releases</span>
</span><span class="code-line line-number" line="187">helm list <span class="token parameter variable">-A</span>
</span><span class="code-line line-number" line="188">
</span><span class="code-line line-number" line="189"><span class="token comment"># fetch chart</span>
</span><span class="code-line line-number" line="190">helm fetch stable/mysql
</span><span class="code-line line-number" line="191">
</span><span class="code-line line-number" line="192"><span class="token comment"># fetch values of a release</span>
</span><span class="code-line line-number" line="193">helm get values my-release
</span></code><div onclick="copied(this)" data-code="
#------------- SWARM MANAGEMENT COMMANDS ------------
# initialize a new swarm
docker swarm init --advertise-addr 192.168.1.131

# list nodes in the swarm
docker node ls

# join a node to an existing swarm
docker swarm join --token <TOKEN> 192.168.1.131:2377

# leave the swarm
docker swarm leave --force

# promote a node to manager
docker node promote <NODE_ID_OR_NAME>

# demote a node to worker
docker node demote <NODE_ID_OR_NAME>

# inspect a node
docker node inspect <NODE_ID_OR_NAME>
docker node inspect  --format &#x27;{{json .Spec.Role}}&#x27; lpic3-topic-352-docker-1
docker node inspect --format &#x27;{{json .Spec}}&#x27; lpic3-topic-352-docker-2  | jq
docker node inspect --format &#x27;{{json .Status}}&#x27; lpic3-topic-352-docker-1 | jq

# remove a node from the swarm
docker node rm <NODE_ID_OR_NAME>
# remove all nodes
docker node rm $(docker node ls -q)

#------------- SERVICE MANAGEMENT COMMANDS ------------
# create a service
docker service create --name registry --publish published=5000,target=5000 registry:2
docker service create --name web --replicas 3 --publish published=8080,target=80 nginx:latest

# list services
docker service ls

# logs of a service
docker service logs <SERVICE_ID_OR_NAME>
docker service logs -f <SERVICE_ID_OR_NAME>
docker service logs -f registry

# inspect a service
docker service inspect <SERVICE_ID_OR_NAME>
docker service inspect --format &#x27;{{json .Spec}}&#x27; registry

# remove a service
docker service rm <SERVICE_ID_OR_NAME>

# scale a service
docker service scale <SERVICE_ID_OR_NAME>=<NUMBER_OF_REPLICAS>
docker service scale registry=3

# update a service
docker service update --image registry:3 registry

# list tasks of a service
docker service ps <SERVICE_ID_OR_NAME>  
docker service ps registry

# list all tasks
docker service ps $(docker service ls -q)

# inspect a task
docker inspect <TASK_ID>
docker inspect <TASK_ID> --format &#x27;{{json .Status}}&#x27; | jq
docker inspect <TASK_ID> --format &#x27;{{json .Spec}}&#x27; | jq

# remove all services
docker service rm $(docker service ls -q)

#------------- STACK MANAGEMENT COMMANDS ------------
# validate a stack file
docker stack config --compose-file docker-compose.yml

# deploy a stack
docker stack deploy -c docker-compose.yml mystack

# list stacks
docker stack ls

# list services in a stack
docker stack services mystack

# list tasks in a stack
docker stack ps mystack
docker stack ps mystack --filter &#x22;desired-state=running&#x22;

# scale a service in a stack
docker service scale mystack_web=5

# remove a stack
docker stack rm mystack 

# remove all stacks
docker stack rm $(docker stack ls -q)

# ------------- MINIKUBE ------------
# start minikube
minikube start

# stop minikube
minikube stop

# delete minikube
minikube delete

# dashboard
minikube dashboard
minikube dashboard -p lpic3


#------------- KUBERNETES COMMANDS ------------
# get kubernetes cluster info
kubectl cluster-info

# Management nodes

# get nodes
kubectl get nodes

# Manage pods and deployments

# run a pod
kubectl run nginx-example --image=nginx:latest

# get pods
kubectl get pods

# get deployments
kubectl get deployments

# describe a pod
kubectl describe pod <POD_NAME>

# describe a deployment
kubectl describe deployment <DEPLOYMENT_NAME>

# generate a yaml file for a pod
kubectl run nginx-example-1 --image=nginx:latest  --dry-run=client -o yaml > configs/kubernetes/manifests/nginx-pod.yaml

# generate a yaml file for a deployment
kubectl create deployment nginx-example-2 --image=nginx:latest  --dry-run=client -o yaml > configs/kubernetes/manifests/nginx-deployment.yaml

# create a resource from a configuration file
kubectl create -f nginx-deployment.yaml

# apply a configuration file
kubectl apply -f nginx-deployment.yaml

# delete a resource from a configuration file
kubectl delete -f nginx-deployment.yaml

# scale a deployment
kubectl scale deployment nginx-example-2 --replicas=5

#------------- HELM COMMANDS ------------

# list repositories
helm repo list

# add a repository
helm repo add stable https://charts.helm.sh/stable

# update repositories
helm repo update

# delete a repository
helm repo remove stable

# search for charts in a repository
helm search repo stable

# install a chart
helm install my-release stable/mysql
helm install mysql -n mysql  --create-namespace stable/mysql --values values.yaml

# upgrade a release
helm upgrade my-release stable/mysql

# uninstall a release
helm uninstall my-release

# list releases
helm list -A

# fetch chart
helm fetch stable/mysql

# fetch values of a release
helm get values my-release
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <hr>
    <p><a name="topic-353"></a></p>
    <h2 id="Ô∏è-topic-353-vm-deployment-and-provisioning"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-topic-353-vm-deployment-and-provisioning"><span class="octicon octicon-link"></span></a>‚òÅÔ∏è Topic 353: VM Deployment and Provisioning</h2>
    <hr>
    <p><a name="topic-353.1"></a></p>
    <h3 id="Ô∏è-3531--cloud-management-tools"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-3531--cloud-management-tools"><span class="octicon octicon-link"></span></a>‚òÅÔ∏è 353.1 Cloud Management Tools</h3>
    <p><strong>Weight:</strong> 2</p>
    <p><strong>Description:</strong> Candidates should understand common offerings in public clouds and have basic feature knowledge of commonly available cloud management tools.</p>
    <p><strong>Key Knowledge Areas:</strong></p>
    <ul>
      <li>Understand common offerings in public clouds</li>
      <li>Basic feature knowledge of OpenStack</li>
      <li>Basic feature knowledge of Terraform</li>
      <li>Awareness of CloudStack, Eucalyptus and OpenNebula</li>
    </ul>
    <h4 id="-3531-cited-objects"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-3531-cited-objects"><span class="octicon octicon-link"></span></a>üìã 353.1 Cited Objects</h4>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">IaaS, PaaS, SaaS
</span><span class="code-line line-number" line="2">OpenStack
</span><span class="code-line line-number" line="3">Terraform
</span></code><div onclick="copied(this)" data-code="IaaS, PaaS, SaaS
OpenStack
Terraform
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="cloud-definition"><a class="anchor" aria-hidden="true" tabindex="-1" href="#cloud-definition"><span class="octicon octicon-link"></span></a>Cloud Definition</h4>
    <p>Cloud is a model for distributed computing that provides on-demand access to a shared pool of configurable computing resources (networks, servers, storage, applications, and services) via the internet, provisioned and released rapidly with minimal management effort.</p>
    <h4 id="cloud-computing-definition"><a class="anchor" aria-hidden="true" tabindex="-1" href="#cloud-computing-definition"><span class="octicon octicon-link"></span></a>Cloud Computing Definition</h4>
    <p>Cloud Computing is the paradigm for delivering IT services through the internet, where computing resources are dynamically allocated based on demand. Instead of investing in local infrastructure, users and organizations access computing power, storage, and applications through subscription or pay-per-use models, with automatic scalability and centralized management.</p>
    <blockquote>
      <p>Cloud computing is the execution of workloads in clouds.</p>
    </blockquote>
    <blockquote>
      <p>Clouds are IT environments that abstract, aggregate, and share scalable resources across a network.</p>
    </blockquote>
    <blockquote>
      <p>Cloud computing and clouds are not technologies in themselves.</p>
    </blockquote>
    <blockquote>
      <p>Cloud computing is an action, the execution of a workload in a cloud.</p>
    </blockquote>
    <blockquote>
      <p>Clouds are environments, locations where applications run.</p>
    </blockquote>
    <blockquote>
      <p>Technologies are things, such as software programs and hardware equipment used to create and use clouds.</p>
    </blockquote>
    <h4 id="types-of-cloud"><a class="anchor" aria-hidden="true" tabindex="-1" href="#types-of-cloud"><span class="octicon octicon-link"></span></a>Types of cloud</h4>
    <h5 id="public-cloud"><a class="anchor" aria-hidden="true" tabindex="-1" href="#public-cloud"><span class="octicon octicon-link"></span></a>Public Cloud</h5>
    <p>Public cloud refers to cloud computing services offered by third-party providers over the public internet, making them available to anyone who wants to use or purchase them. Examples include Amazon Web Services (AWS), Microsoft Azure, and Google Cloud Platform (GCP).</p>
    <h5 id="private-cloud"><a class="anchor" aria-hidden="true" tabindex="-1" href="#private-cloud"><span class="octicon octicon-link"></span></a>Private Cloud</h5>
    <p>Private cloud is a cloud computing environment dedicated to a single organization, either hosted on-premises or by a third-party provider. It offers enhanced security, control, and customization compared to public clouds.</p>
    <h5 id="hybrid-cloud"><a class="anchor" aria-hidden="true" tabindex="-1" href="#hybrid-cloud"><span class="octicon octicon-link"></span></a>Hybrid Cloud</h5>
    <p>Hybrid cloud combines public and private cloud environments, allowing data and applications to be shared between them. This approach provides greater flexibility, scalability, and cost-efficiency.</p>
    <h5 id="multi-cloud"><a class="anchor" aria-hidden="true" tabindex="-1" href="#multi-cloud"><span class="octicon octicon-link"></span></a>Multi-Cloud</h5>
    <p>Multi-cloud refers to the use of multiple cloud computing services from different providers within a single architecture. This strategy helps avoid vendor lock-in, enhances redundancy, and allows organizations to leverage the best features of each cloud provider.</p>
    <h4 id="iaas-paas-saas"><a class="anchor" aria-hidden="true" tabindex="-1" href="#iaas-paas-saas"><span class="octicon octicon-link"></span></a>IaaS, PaaS, SaaS</h4>
    <h5 id="iaas-infrastructure-as-a-service"><a class="anchor" aria-hidden="true" tabindex="-1" href="#iaas-infrastructure-as-a-service"><span class="octicon octicon-link"></span></a>IaaS (Infrastructure as a Service)</h5>
    <p>IaaS provides virtualized computing resources on demand (virtual machines, block and object storage, networking, GPUs). By 2026, IaaS has evolved to include AI-ready infrastructure, automated bare-metal provisioning, and native integration with observability, security, and real-time compliance solutions.</p>
    <h5 id="paas-platform-as-a-service"><a class="anchor" aria-hidden="true" tabindex="-1" href="#paas-platform-as-a-service"><span class="octicon octicon-link"></span></a>PaaS (Platform as a Service)</h5>
    <p>PaaS offers a managed platform for application development, deployment, and operation without managing underlying infrastructure. In 2026, PaaS includes serverless functions, managed databases, API gateways, native CI/CD, and event-driven and microservices architectures with automatic scaling.</p>
    <h5 id="saas-software-as-a-service"><a class="anchor" aria-hidden="true" tabindex="-1" href="#saas-software-as-a-service"><span class="octicon octicon-link"></span></a>SaaS (Software as a Service)</h5>
    <p>SaaS delivers software applications via web, accessible through browsers or native clients, with subscription-based models. In 2026, SaaS integrates artificial intelligence for automation and insights, provides extensible customization, open APIs for integration, and supports rigorous compliance with zero-trust security.</p>
    <h4 id="openstack"><a class="anchor" aria-hidden="true" tabindex="-1" href="#openstack"><span class="octicon octicon-link"></span></a>OpenStack</h4>
    <p>OpenStack is an open-source cloud computing platform that provides IaaS capabilities for private and hybrid cloud environments. In 2026, OpenStack maintains its relevance in corporate datacenters and private cloud providers, offering a complete service stack (Nova for compute, Cinder for block storage, Swift for object storage, Neutron for networking) with advanced support for Kubernetes containers, automatic load balancing, and integration with enterprise-grade security and compliance solutions.</p>
    <h4 id="apache-cloudstack"><a class="anchor" aria-hidden="true" tabindex="-1" href="#apache-cloudstack"><span class="octicon octicon-link"></span></a>Apache CloudStack</h4>
    <p>Apache CloudStack is an open-source cloud computing software platform that provides IaaS capabilities for building and managing public and private clouds.</p>
    <p>CloudStack continues to be a reliable choice for service providers and enterprises, offering features such as multi-tenancy, advanced networking (SDN), and support for various hypervisors (KVM, XenServer, VMware) with enhanced integration for container orchestration and edge computing.</p>
    <h4 id="eucalyptus"><a class="anchor" aria-hidden="true" tabindex="-1" href="#eucalyptus"><span class="octicon octicon-link"></span></a>Eucalyptus</h4>
    <p>Eucalyptus is an open-source cloud computing platform that provides IaaS capabilities for building and managing private and hybrid clouds. It is designed to be compatible with Amazon Web Services (AWS) APIs, allowing users to run applications on Eucalyptus that are already deployed on AWS.</p>
    <h4 id="opennebula"><a class="anchor" aria-hidden="true" tabindex="-1" href="#opennebula"><span class="octicon octicon-link"></span></a>OpenNebula</h4>
    <p>OpenNebula is an open-source cloud computing platform that provides IaaS capabilities for building and managing private, public, and hybrid clouds. It focuses on simplicity and flexibility, allowing users to deploy and manage virtualized data centers with support for various hypervisors (KVM, VMware) and container technologies (LXC, Docker). OpenNebula continues to evolve with features such as edge computing support, enhanced networking capabilities, and integration with modern DevOps tools.</p>
    <h4 id="terraform"><a class="anchor" aria-hidden="true" tabindex="-1" href="#terraform"><span class="octicon octicon-link"></span></a>Terraform</h4>
    <p>Terraform is an open-source Infrastructure as Code (IaC) tool that enables infrastructure definition and provisioning in a declarative and versioned manner. By 2026, Terraform is the de facto standard for infrastructure management in multicloud environments (AWS, Azure, GCP, OpenStack, etc.), with robust support for distributed state, policy as code, reusable modules, and native integration with CI/CD pipelines, GitOps, and compliance automation.</p>
    <p align="right">(<a href="#topic-353.1">back to sub topic 353.1</a>)</p>
    <p align="right">(<a href="#topic-353">back to topic 353</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr>
    <p><a name="topic-353.2"></a></p>
    <h3 id="-3532-packer"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-3532-packer"><span class="octicon octicon-link"></span></a>üì¶ 353.2 Packer</h3>
    <p><strong>Weight:</strong> 2</p>
    <p><strong>Description:</strong> Candidates should be able to use Packer to create system images. This includes running Packer in various public and private cloud environments as well as building container images for LXC/LXD.</p>
    <p><strong>Key Knowledge Areas:</strong></p>
    <ul>
      <li>Understand the functionality and features of Packer</li>
      <li>Create and maintain template files</li>
      <li>Build images from template files using different builders</li>
    </ul>
    <h4 id="-3532-cited-objects"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-3532-cited-objects"><span class="octicon octicon-link"></span></a>üìã 353.2 Cited Objects</h4>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">packer
</span></code><div onclick="copied(this)" data-code="packer
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="Ô∏è-3532-important-commands"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-3532-important-commands"><span class="octicon octicon-link"></span></a>üõ†Ô∏è 353.2 Important Commands</h4>
    <h5 id="-packer"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-packer"><span class="octicon octicon-link"></span></a>üì¶ packer</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># examples</span>
</span></code><div onclick="copied(this)" data-code="# examples
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p align="right">(<a href="#topic-353.2">back to sub topic 353.2</a>)</p>
    <p align="right">(<a href="#topic%20353">back to topic 353</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr>
    <p><a name="topic-353.3"></a></p>
    <h3 id="Ô∏è-3533-cloud-init"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-3533-cloud-init"><span class="octicon octicon-link"></span></a>‚òÅÔ∏è 353.3 cloud-init</h3>
    <p><strong>Weight:</strong> 3</p>
    <p>
      <strong>Description:</strong> Candidates should able to use cloud-init to configure virtual machines created from standardized images. This includes adjusting virtual machines to match their available hardware resources, specifically, disk space and volumes.
      Additionally, candidates should be able to configure instances to allow secure SSH logins and install a specific set of software packages.
      Furthermore, candidates should be able to create new system images with cloud-init support.
    </p>
    <p><strong>Key Knowledge Areas:</strong></p>
    <ul>
      <li>Understanding the features and concepts of cloud-init, including user-data, initializing and configuring cloud-init</li>
      <li>Use cloud-init to create, resize and mount file systems, configure user accounts, including login credentials such as SSH keys and install software packages from the distribution‚Äôs repository</li>
      <li>Integrate cloud-init into system images</li>
      <li>Use config drive datasource for testing</li>
    </ul>
    <h4 id="-3533-cited-objects"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-3533-cited-objects"><span class="octicon octicon-link"></span></a>üìã 353.3 Cited Objects</h4>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">cloud-init
</span><span class="code-line line-number" line="2">user-data
</span><span class="code-line line-number" line="3">/var/lib/cloud/
</span></code><div onclick="copied(this)" data-code="cloud-init
user-data
/var/lib/cloud/
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="Ô∏è-3533-important-commands"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-3533-important-commands"><span class="octicon octicon-link"></span></a>üõ†Ô∏è 353.3 Important Commands</h4>
    <h5 id="-cloud-init"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-cloud-init"><span class="octicon octicon-link"></span></a>üìù cloud-init</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># examples</span>
</span></code><div onclick="copied(this)" data-code="# examples
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p align="right">(<a href="#topic-353.3">back to sub topic 353.3</a>)</p>
    <p align="right">(<a href="#topic%20353">back to topic 353</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr>
    <p><a name="topic-353.4"></a></p>
    <h3 id="-3534-vagrant"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-3534-vagrant"><span class="octicon octicon-link"></span></a>üì¶ 353.4 Vagrant</h3>
    <p><strong>Weight:</strong> 3</p>
    <p><strong>Description:</strong> Candidate should be able to use Vagrant to manage virtual machines, including provisioning of the virtual machine.</p>
    <p><strong>Key Knowledge Areas:</strong></p>
    <ul>
      <li>Understand Vagrant architecture and concepts, including storage and networking</li>
      <li>Retrieve and use boxes from Atlas</li>
      <li>Create and run Vagrantfiles</li>
      <li>Access Vagrant virtual machines</li>
      <li>Share and synchronize folder between a Vagrant virtual machine and the host system</li>
      <li>Understand Vagrant provisioning, i.e. File and Shell provisioners</li>
      <li>Understand multi-machine setup</li>
    </ul>
    <h4 id="-3534-cited-objects"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-3534-cited-objects"><span class="octicon octicon-link"></span></a>üìã 353.4 Cited Objects</h4>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">vagrant
</span><span class="code-line line-number" line="2">Vagrantfile
</span></code><div onclick="copied(this)" data-code="vagrant
Vagrantfile
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="Ô∏è-3534-important-commands"><a class="anchor" aria-hidden="true" tabindex="-1" href="#Ô∏è-3534-important-commands"><span class="octicon octicon-link"></span></a>üõ†Ô∏è 353.4 Important Commands</h4>
    <h5 id="-vagrant"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-vagrant"><span class="octicon octicon-link"></span></a>üì¶ vagrant</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># examples</span>
</span></code><div onclick="copied(this)" data-code="# examples
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p align="right">(<a href="#topic-353.4">back to sub topic 353.4</a>)</p>
    <p align="right">(<a href="#topic%20353">back to topic 353</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr>
    <h2 id="-contributing"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-contributing"><span class="octicon octicon-link"></span></a>ü§ù Contributing</h2>
    <p>
      Contributions are what make the open source community such an amazing place to
      learn, inspire, and create. Any contributions you make are <strong>greatly appreciated</strong>.
    </p>
    <p>
      If you have a suggestion that would make this better, please fork the repo and
      create a pull request. You can also simply open an issue with the tag "enhancement".
      Don't forget to give the project a star! Thanks again!
    </p>
    <ol>
      <li>Fork the Project</li>
      <li>Create your Feature Branch (<code>git checkout -b feature/AmazingFeature</code>)</li>
      <li>Commit your Changes (<code>git commit -m 'Add some AmazingFeature'</code>)</li>
      <li>Push to the Branch (<code>git push origin feature/AmazingFeature</code>)</li>
      <li>Open a Pull Request</li>
    </ol>
    <hr>
    <h2 id="-license"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-license"><span class="octicon octicon-link"></span></a>üìÑ License</h2>
    <ul>
      <li>This project is licensed under the MIT License * see the LICENSE.md file for details</li>
    </ul>
    <hr>
    <h2 id="-contact"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-contact"><span class="octicon octicon-link"></span></a>üì¨ Contact</h2>
    <p>
      Marcos Silvestrini - <a href="mailto:marcos.silvestrini@gmail.com">marcos.silvestrini@gmail.com</a>
      <a href="https://twitter.com/mrsilvestrini"><img src="https://img.shields.io/twitter/url/https/twitter.com/mrsilvestrini.svg?style=social&#x26;label=Follow%20%40mrsilvestrini" alt="Twitter"></a>
    </p>
    <p>Project Link: <a href="https://github.com/marcossilvestrini/learning-lpic-3-305-300">https://github.com/marcossilvestrini/learning-lpic-3-305-300</a></p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr>
    <h2 id="-acknowledgments"><a class="anchor" aria-hidden="true" tabindex="-1" href="#-acknowledgments"><span class="octicon octicon-link"></span></a>üôè Acknowledgments</h2>
    <ul>
      <li>
        <p><a href="http://www.stallman.org/">Richard Stallman's</a></p>
      </li>
      <li>
        <p><a href="">GNU</a></p>
        <ul>
          <li><a href="https://www.gnu.org/gnu/gnu-linux-faq.html">GNU/Linux FAQ by Richard Stallman</a></li>
          <li><a href="https://www.gnu.org/">GNU</a></li>
          <li><a href="https://www.gnu.org/gnu/thegnuproject.html">GNU Operating System</a></li>
          <li><a href="https://gcc.gnu.org/wiki/History">GCC Compiler</a></li>
          <li><a href="https://www.gnu.org/software/tar/">GNU Tar</a></li>
          <li><a href="https://www.gnu.org/software/make/">GNU Make</a></li>
          <li><a href="https://en.wikipedia.org/wiki/Emacs">GNU Emacs</a></li>
          <li><a href="https://www.gnu.org/software/">GNU Packages</a></li>
          <li><a href="https://directory.fsf.org/wiki/Collection:GNU/Linux">GNU/Linux Collection</a></li>
          <li><a href="https://www.gnu.org/software/grub/">GNU Grub Bootloader</a></li>
          <li><a href="https://www.gnu.org/software/hurd/hurd/what_is_the_gnu_hurd.html">GNU Hurd</a></li>
        </ul>
      </li>
      <li>
        <p><a href="">Kernel</a></p>
        <ul>
          <li><a href="https://www.kernel.org/">Kernel</a></li>
          <li><a href="https://www.kernel.org/doc/man-pages/">Linux Kernel Man Pages</a></li>
          <li><a href="https://wiki.linuxquestions.org/wiki/How_to_build_and_install_your_own_Linux_kernel">Compile Your Kernel</a></li>
        </ul>
      </li>
      <li>
        <p><a href="">Linux Standard Base</a></p>
        <ul>
          <li><a href="https://en.wikipedia.org/wiki/Linux_Standard_Base">Linux Standard Base</a></li>
          <li><a href="https://en.wikipedia.org/wiki/Filesystem_Hierarchy_Standard">Filesystem Hierarchy Standard</a></li>
          <li><a href="https://refspecs.linuxfoundation.org/FHS_3.0/fhs-3.0.pdf">File Hierarchy Structure</a></li>
        </ul>
      </li>
      <li>
        <p><a href="">Free Software</a></p>
        <ul>
          <li><a href="https://www.fsf.org/">FSF</a></li>
          <li><a href="https://directory.fsf.org/wiki/Free_Software_Directory:Free_software_replacements">Free Software Directory</a></li>
        </ul>
      </li>
      <li>
        <p><a href="">License</a></p>
        <ul>
          <li><a href="https://www.gnu.org/philosophy/free-sw.html">Free Software</a></li>
          <li><a href="https://www.gnu.org/licenses/copyleft.en.html">Copyleft</a></li>
          <li><a href="https://www.gnu.org/licenses/quick-guide-gplv3.html">GPL</a></li>
          <li><a href="https://www.gnu.org/licenses/lgpl-3.0.html">GNU Lesser General Public License</a></li>
          <li><a href="https://opensource.org/licenses/BSD-3-Clause">BSD</a></li>
          <li><a href="https://opensource.org/">Open Source Initiative</a></li>
          <li><a href="https://creativecommons.org/">Creative Commons</a></li>
          <li><a href="https://en.wikipedia.org/wiki/Long-term_support">License LTS</a></li>
        </ul>
      </li>
      <li>
        <p><a href="">Distros</a></p>
        <ul>
          <li><a href="https://www.debian.org/social_contract#guidelines">Debian Free Software Guidelines</a></li>
          <li><a href="https://en.wikipedia.org/wiki/List_of_Linux_distributions">List Linux Distribution</a></li>
          <li><a href="https://distrowatch.com/">Distro Watch</a></li>
          <li><a href="https://en.wikipedia.org/wiki/Comparison_of_Linux_distributions">Comparison Linux Distributions</a></li>
        </ul>
      </li>
      <li>
        <p><a href="">Desktop Environments</a></p>
        <ul>
          <li><a href="https://www.x.org/wiki/">X11 Org</a></li>
          <li><a href="https://wayland.freedesktop.org/">Wayland</a></li>
          <li><a href="https://www.gnu.org/press/gnome-1.0.html">GNU GNOME</a></li>
          <li><a href="https://www.gnome.org/">GNOME</a></li>
          <li><a href="https://xfce.org/">XFCE</a></li>
          <li><a href="https://kde.org/plasma-desktop/">KDE Plasma</a></li>
          <li><a href="https://en.wikipedia.org/wiki/Harmony_(toolkit)">Harmony</a></li>
        </ul>
      </li>
      <li>
        <p><a href="">Protocols</a></p>
        <ul>
          <li><a href="">HTTP</a>
            <ul>
              <li><a href="https://w3techs.com/">W3Techs</a></li>
              <li><a href="https://www.apache.org/">Apache</a></li>
              <li><a href="https://httpd.apache.org/docs/2.4/mod/directives.html">Apache Directives</a></li>
              <li><a href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes">HTTP Status Codes</a></li>
              <li><a href="https://cipherlist.eu/">Strong Ciphers for Apache, nginx and Lighttpd</a></li>
              <li><a href="https://www.golinuxcloud.com/blog/">SSL Tutorials</a></li>
              <li><a href="https://ssl-config.mozilla.org/">SSL Config Mozilla</a></li>
            </ul>
          </li>
          <li><a href="https://bytexd.com/xrdp-centos/">xRDP</a></li>
          <li><a href="https://www.ntppool.org/en/">NTP</a></li>
        </ul>
      </li>
      <li>
        <p><a href="">DNS</a></p>
        <ul>
          <li><a href="https://www.isc.org/bind/">Bind</a></li>
          <li><a href="https://www.zytrax.com/books/dns/ch7/logging.html">Bind Logging</a></li>
          <li><a href="https://en.wikipedia.org/wiki/List_of_DNS_record_types">List of DNS record types</a></li>
          <li><a href="https://en.wikipedia.org/wiki/List_of_DNS_record_types">List of DNS record types</a></li>
        </ul>
      </li>
      <li>
        <p><a href="">Package Manager</a></p>
        <ul>
          <li><a href="https://pkgs.org/">Download Packages</a></li>
          <li><a href="https://installati.one/">Install Packages</a></li>
          <li><a href="https://installati.one/">Guide Install Packages</a></li>
        </ul>
      </li>
      <li>
        <p><a href="">Shell Script</a></p>
        <ul>
          <li><a href="https://www.gnu.org/software/bash/manual/">Bourne Again Shell</a></li>
          <li><a href="https://bash.cyberciti.biz/guide/Shebang">Shebang</a></li>
          <li><a href="https://linuxize.com/post/how-to-set-and-list-environment-variables-in-linux/">Environment Variables</a></li>
          <li><a href="https://man7.org/linux/man-pages/man7/glob.7.html">GNU Globbing</a></li>
          <li><a href="https://linuxhint.com/bash_globbing_tutorial/">Globbing</a></li>
          <li><a href="https://www.gnu.org/software/bash/manual/html_node/Quoting.html">Quoting</a></li>
          <li><a href="https://www.gnu.org/software/grep/manual/html_node/Regular-Expressions.html">Regular Expressions</a></li>
          <li><a href="https://command-not-found.com/">Command Not Found</a></li>
          <li><a href="https://bash-prompt-generator.org/">Bash Prompt Generator</a></li>
          <li><a href="https://explainshell.com/">Explainshell</a></li>
          <li><a href="https://www.openvim.com/">Vim Tutorial</a></li>
          <li><a href="https://bash.cyberciti.biz/guide/Main_Page">Linux Shell Scripting Tutorial</a></li>
          <li><a href="https://www.geeksforgeeks.org/">Commands Examples</a></li>
        </ul>
      </li>
      <li>
        <p><a href="">Others Tools</a></p>
        <ul>
          <li><a href="https://bugzilla.kernel.org/">Bugzila</a></li>
          <li><a href="https://github.com/alexandresanlim/Badges4-README.md-Profile">Github Badges</a></li>
        </ul>
      </li>
      <li>
        <p><a href="">Virtualization Definitions</a></p>
        <ul>
          <li><a href="https://www.redhat.com/pt-br/topics/virtualization/what-is-virtualization/">Red Hat</a></li>
          <li><a href="https://aws.amazon.com/pt/what-is/virtualization/">AWS</a></li>
          <li><a href="https://www.ibm.com/topics/virtualization">IBM</a></li>
          <li><a href="https://opensource.com/resources/virtualization">OpenSource.com</a></li>
        </ul>
      </li>
      <li>
        <p><a href="">Xen</a></p>
        <ul>
          <li><a href="https://www.xenserver.com/">XenServer</a></li>
          <li><a href="https://wiki.xenproject.org/wiki/Main_Page">Wiki XenProject</a></li>
          <li><a href="https://wiki.xenproject.org/wiki/Xen_Networking#Virtual_Network_Interfaces">Network Interfaces</a></li>
          <li><a href="https://xen-tools.org/software/">Xen Tools</a></li>
          <li><a href="https://www.lpi.org/pt-br/blog/2020/10/01/xen-virtualization-and-cloud-computing-01-introduction/">LPI Blog: Xen Virtualization and Cloud Computing #01: Introduction</a></li>
          <li><a href="https://www.lpi.org/blog/2020/10/08/xen-virtualization-and-cloud-computing-02-how-xen-does-job/">LPI Blog: Xen Virtualization and Cloud Computing #02: How Xen Does the Job</a></li>
          <li><a href="https://www.lpi.org/pt-br/blog/2020/10/22/xen-virtualization-and-cloud-computing-04-containers-openstack-and-other-related/">LPI Blog: Xen Virtualization and Cloud Computing #04: containers, OpenStack, and Other Related Platforms</a></li>
          <li><a href="https://www.lpi.org/pt-br/blog/2020/10/29/xen-virtualization-and-cloud-computing-05-xen-project-unikernels-and-future/">Xen Virtualization and Cloud Computing #05: The Xen Project, Unikernels, and the Future</a></li>
          <li><a href="https://wiki.xenproject.org/wiki/Xen_Project_Beginners_Guide#Installing_the_Xen_Project_Software">Xen Project Beginners Guide</a></li>
          <li><a href="https://wiki.xenproject.org/wiki/Book/HelloXenProject/0-Contents">Crazy Book</a></li>
        </ul>
      </li>
      <li>
        <p><a href="https://www.lpi.org/blog/2020/10/29/xen-virtualization-and-cloud-computing-05-xen-project-unikernels-and-future/">Unikernels</a></p>
        <ul>
          <li><a href="https://github.com/unikraft/unikraft">Unikraft</a></li>
          <li><a href="https://mirage.io/docs/hello-world">MirageOS</a></li>
          <li><a href="https://galois.com/project/halvm/">HaLVM</a></li>
          <li><a href="https://github.com/solo-io/unik/blob/master/docs/providers/virtualbox.md">Unik</a></li>
        </ul>
      </li>
      <li>
        <p><a href="">KVM</a></p>
        <ul>
          <li><a href="https://linux-kvm.org/page/Main_Page">Official Doc</a></li>
          <li><a href="https://www.redhat.com/pt-br/topics/virtualization/what-is-KVM">KVM(Kernel Virtual Machines by RedHat)</a></li>
          <li><a href="https://www.linux-kvm.org/page/Management_Tools">KVM Management Tools</a></li>
          <li><a href="https://www.linux-kvm.org/page/Networking">KVM Network</a></li>
        </ul>
      </li>
      <li>
        <p><a href="">QEMU</a></p>
        <ul>
          <li><a href="https://www.qemu.org/">Official Doc</a></li>
          <li><a href="https://www.osboxes.org/">Download Images osboxes</a></li>
          <li><a href="https://www.linuxvmimages.com/">Download Images linuximages</a></li>
          <li><a href="https://en.wikibooks.org/wiki/QEMU/Devices/Virtio">Virtio</a></li>
          <li><a href="https://wiki.qemu.org/Features/GuestAgent">Guest Agent</a></li>
        </ul>
      </li>
      <li>
        <p><a href="">Libvirt</a></p>
        <ul>
          <li><a href="https://libvirt.org/">Official Doc</a></li>
          <li><a href="https://libvirt.org/manpages/libvirtd.html#system-socket-activation">System Socket Activation</a></li>
          <li><a href="https://libvirt.org/uri.html">Conections</a></li>
          <li><a href="https://libvirt.org/storage.html">Storage</a></li>
          <li><a href="https://wiki.libvirt.org/Networking.html">Network</a></li>
          <li><a href="https://wiki.libvirt.org/VirtualNetworking.html">VirtualNetwork</a></li>
          <li><a href="https://libvirt.org/manpages/virtlogd.html">virtlogd</a></li>
          <li><a href="https://libvirt.org/manpages/virtlockd.html">virtlockd</a></li>
          <li><a href="https://virt-manager.org/">virt-manager</a></li>
        </ul>
      </li>
      <li>
        <p><a href="">Disk Management</a></p>
        <ul>
          <li><a href="https://qemu-project.gitlab.io/qemu/system/images.html">Disk Images</a></li>
          <li><a href="https://sempreupdate.com.br/linux/tutoriais/sistema-de-arquivos-copy-on-write-saiba-o-que-e-e-quais-as-vantagens-e-desvantagens/">copy-on-write</a></li>
          <li><a href="https://docs.redhat.com/en/documentation/red_hat_virtualization/4.3/html/technical_reference/qcow2">RAM x QCOW2</a></li>
          <li><a href="https://libguestfs.org/">Libguestfs</a></li>
        </ul>
      </li>
      <li>
        <p><a href="">containers</a></p>
        <ul>
          <li><a href="https://aws.amazon.com/pt/containers/">AWS Doc containers</a></li>
          <li><a href="https://cloud.google.com/learn/what-are-containers?hl=pt-br">GCP Doc containers</a></li>
          <li><a href="https://www.ibm.com/br-pt/topics/containers">IBM Doc container</a></li>
          <li><a href="https://www.redhat.com/en/topics/containers/whats-a-linux-container">Red Hat Docs containers</a></li>
          <li><a href="https://manpages.ubuntu.com/manpages/noble/man7/namespaces.7.html">Namespaces</a></li>
          <li><a href="https://www.redhat.com/en/blog/7-linux-namespaces">Most important Namespaces</a></li>
          <li><a href="https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/6/html/resource_management_guide/ch01">Cgroups Classes</a></li>
          <li><a href="https://manpages.ubuntu.com/manpages/noble/man7/cgroups.7.html">Man Cgroups</a></li>
          <li><a href="https://linux-audit.com/kernel/capabilities/linux-capabilities-101/">Capabilities Doc</a></li>
          <li><a href="https://manpages.ubuntu.com/manpages/noble/man7/capabilities.7.html">Man Capabilities</a></li>
          <li><a href="https://docs.docker.com/engine/security/seccomp/">Seccomp Profiles in Docker</a></li>
          <li><a href="https://docs.docker.com/engine/security/apparmor/">AppArmor Profiles in Docker</a></li>
          <li><a href="https://pt.wikipedia.org/wiki/SELinux">SElinux</a></li>
          <li><a href="https://www.redhat.com/en/blog/apparmor-selinux-isolation">Apparmor SElinux comparator</a></li>
          <li><a href="https://www.docker.com/blog/runc/">runC</a></li>
          <li><a href="https://github.com/opencontainers/runc">runc Github</a></li>
          <li><a href="https://opencontainers.org/about/overview/">OCI</a></li>
          <li><a href="https://kubernetes.io/docs/concepts/architecture/cri/">CRI</a></li>
          <li><a href="https://cri-o.io/">CRI-O</a></li>
          <li><a href="https://containerd.io/">containerd</a></li>
          <li><a href="https://www.redhat.com/pt-br/topics/containers/what-is-podman">Podman</a></li>
          <li><a href="https://www.redhat.com/pt-br/topics/containers/what-is-skopeo">Skopeo</a></li>
          <li><a href="https://www.redhat.com/en/topics/containers/what-is-buildah">Buildah</a></li>
          <li><a href="https://openvz.org/">OpenVZ</a></li>
          <li><a href="https://www.redhat.com/en/blog/introduction-crun">crun</a></li>
          <li><a href="https://katacontainers.io/">kata</a></li>
        </ul>
      </li>
      <li>
        <p><a href="">LXC - Linux containers</a></p>
        <ul>
          <li><a href="https://linuxcontainers.org/lxc/introduction/">LXC</a></li>
          <li><a href="https://images.linuxcontainers.org/">Linux container Images</a></li>
        </ul>
      </li>
      <li>
        <p><a href="">LXD</a></p>
        <ul>
          <li><a href="https://canonical.com/lxd">LXD Canonical</a></li>
          <li><a href="https://github.com/canonical/lxd">LXD Canonical Github</a></li>
          <li><a href="https://linuxcontainers.org/lxd/docs/master/">LXD Documentation</a></li>
          <li><a href="https://documentation.ubuntu.com/lxd/stable-4.0/instances/">LXD Installation</a></li>
          <li><a href="https://images.lxd.canonical.com/">LDX Images</a></li>
          <li><a href="https://documentation.ubuntu.com/lxd/stable-4.0/storage/">LXD Storage</a></li>
          <li><a href="https://documentation.ubuntu.com/lxd/stable-5.21/explanation/storage/#exp-storage">LXD Storage pools, volumes, and buckets</a></li>
          <li><a href="https://documentation.ubuntu.com/lxd/latest/explanation/networks/">LXD Network Types</a></li>
          <li><a href="https://documentation.ubuntu.com/lxd/stable-4.0/networks/">LXD Network Parameters</a></li>
          <li><a href="https://documentation.ubuntu.com/lxd/latest/howto/network_create/">LXD Network Configuration</a></li>
          <li><a href="https://documentation.ubuntu.com/lxd/to/latest/profiles/">LXD Profiles</a></li>
          <li><a href="https://documentation.ubuntu.com/lxd/en/stable-4.0/instances/">LXD Instances</a></li>
        </ul>
      </li>
      <li>
        <p><a href="https://www.docker.com/">Docker</a></p>
        <ul>
          <li><a href="https://docs.docker.com/get-started/overview/">Docker Overview</a></li>
          <li><a href="https://www.docker.com/blog/containerd-vs-docker/">Containerd x Docker</a></li>
          <li><a href="https://docs.docker.com/engine/install/">Install</a></li>
          <li><a href="https://docs.docker.com/engine/daemon/">Daemon Configuration</a></li>
          <li><a href="https://docs.docker.com/engine/storage/drivers/#images-and-layers">Docker Images</a></li>
          <li><a href="https://hub.docker.com/">Docker Hub</a></li>
          <li><a href="https://docs.docker.com/storage/">Storage on Docker</a></li>
          <li><a href="https://docs.docker.com/storage/volumes/">Volumes</a></li>
          <li><a href="https://docs.docker.com/storage/bind-mounts/">Bind Mounts</a></li>
          <li><a href="https://docs.docker.com/storage/storagedriver/select-storage-driver/">Storage Drivers</a></li>
          <li><a href="https://testcontainers.com/">Testcontainers</a></li>
          <li><a href="https://docs.docker.com/network/">Docker Networking</a></li>
          <li><a href="https://docs.docker.com/network/drivers">Docker Network Drivers</a></li>
          <li><a href="https://docs.docker.com/reference/dockerfile">Dockerfile</a></li>
          <li><a href="https://docs.docker.com/build/building/best-practices/">Dockerfile Best Practices</a></li>
          <li><a href="https://12factor.net/processes">The Twelve-Factor App - Processes</a></li>
        </ul>
      </li>
      <li>
        <p><a href="">Container Orchestration</a></p>
        <ul>
          <li><a href="https://www.ibm.com/br-pt/topics/container-orchestration">Container Orchestration by IBM</a></li>
          <li><a href="https://aws.amazon.com/pt/what-is/container-orchestration">Container Orchestration by AWS</a></li>
          <li><a href="https://www.redhat.com/pt-br/topics/containers/what-is-container-orchestration">Container Orchestration by RedHat</a></li>
          <li><a href="https://cloud.google.com/discover/what-is-container-orchestration?hl=pt-br">Container Orchestration by Google Cloud</a></li>
          <li><a href="https://docs.docker.com/compose/">Docker Compose</a></li>
          <li><a href="https://docs.docker.com/engine/swarm/">Docker Swarm</a>
            <ul>
              <li><a href="https://docs.docker.com/engine/swarm/key-concepts/">Keys Concepts</a></li>
              <li><a href="https://docs.docker.com/engine/swarm/how-swarm-mode-works/nodes/">Nodes</a></li>
              <li><a href="https://docs.docker.com/engine/swarm/how-swarm-mode-works/services/">Services</a></li>
              <li><a href="https://docs.docker.com/engine/swarm/stack-deploy/">Docker Swarm Stack</a></li>
            </ul>
          </li>
          <li><a href="https://labs.play-with-docker.com/">Play with Docker Swarm</a></li>
          <li><a href="https://kubernetes.io/">Kubernetes</a>
            <ul>
              <li><a href="https://kubernetes.io/">Kubernetes</a></li>
              <li><a href="https://kubernetes.io/docs/concepts/overview/components/">Components</a></li>
              <li><a href="https://kubernetes.io/docs/concepts/architecture/">Architecture</a></li>
              <li><a href="https://www.redhat.com/pt-br/topics/containers/kubernetes-architecture">Red Hat Site</a></li>
              <li><a href="https://minikube.sigs.k8s.io/docs/start/">Minikube</a></li>
              <li><a href="https://kind.sigs.k8s.io/docs/user/quick-start/">Kind</a></li>
              <li><a href="https://labs.play-with-k8s.com/">Play with Kubernetes</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p><a href="">Cloud</a></p>
        <ul>
          <li><a href="https://www.redhat.com/pt-br/topics/cloud">Red Hat - Cloud Computing</a></li>
        </ul>
      </li>
      <li>
        <p><a href="">Openstack Docs</a></p>
        <ul>
          <li><a href="https://www.openstack.org/">OpenStack</a></li>
          <li><a href="https://www.redhat.com/pt-br/topics/openstack">RedHat</a></li>
          <li><a href="https://www.openstack.org/software/">The OpenStack Landskape</a></li>
          <li><a href="https://www.openstack.org/software/project-navigator/openstack-components">Componentes do OpenStack</a></li>
          <li><a href="https://cloudstack.apache.org/">Apache CloudStack</a></li>
          <li><a href="https://www.eucalyptus.cloud/">Eucalyptus</a></li>
          <li><a href="https://docs.eucalyptus.cloud/eucalyptus/5/admin_guide/managing_system/system_concepts/">Eucalyptus - Componentes</a></li>
          <li><a href="https://opennebula.io/">Open Nebula</a></li>
        </ul>
      </li>
      <li>
        <p><a href="">Open vSwitch</a></p>
        <ul>
          <li><a href="https://blog.4linux.com.br/open-vswitch-o-que-e-o-que-come-onde-vive">OVS Doc 4Linux</a></li>
        </ul>
      </li>
      <li>
        <p><a href="">LPIC-3 305-300 Exam</a></p>
        <ul>
          <li><a href="https://www.lpi.org/our-certifications/exam-305-objectives/">LPIC-3 305-300 Objectives</a></li>
          <li><a href="https://wiki.lpi.org/wiki/LPIC-305_Objectives_V3.0">LPIC-3 305-300 Wiki</a></li>
          <li><a href="https://cursos.linuxsemfronteiras.com.br/courses/preparatorio-para-certificacao-lpic-3-305/">LPIC-3 305-300 Learning Material</a></li>
          <li><a href="https://www.itexams.com/info/305-300">LPIC-3 305-300 Simulated Exam By ITexams</a></li>
        </ul>
      </li>
    </ul>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr><!-- MARKDOWN LINKS & IMAGES --><!-- https://www.markdownguide.org/basic-syntax/#reference-style-links -->
    <script>/*! @uiw/copy-to-clipboard v1.0.12 | MIT (c) 2021 Kenny Wang | https://github.com/uiwjs/copy-to-clipboard.git */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).copyTextToClipboard=t()}(this,(function(){"use strict";return function(e,t){const o=document.createElement("textarea");o.value=e,o.setAttribute("readonly",""),o.style={position:"absolute",left:"-9999px"},document.body.appendChild(o);const n=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);o.select();let c=!1;try{c=!!document.execCommand("copy")}catch(e){c=!1}document.body.removeChild(o),n&&document.getSelection&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n)),t&&t(c)}}));

function copied(target, str) {
  target.classList.add('active');
  copyTextToClipboard(target.dataset.code, function() {
    setTimeout(() => {
      target.classList.remove('active');
    }, 2000);
  });
}</script>
  </div></body>
</html>
