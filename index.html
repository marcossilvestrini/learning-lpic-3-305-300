<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <link rel="icon" href="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22%3E%3Ctext%20y=%22.9em%22%20font-size=%2290%22%3EðŸŒ%3C/text%3E%3C/svg%3E" type="image/x-icon">
    <style>
[data-color-mode*='light'], [data-color-mode*='light'] body, .markdown-style[theme*='light'] { --color-prettylights-syntax-comment: #6e7781; --color-prettylights-syntax-constant: #0550ae; --color-prettylights-syntax-entity: #8250df; --color-prettylights-syntax-storage-modifier-import: #24292f; --color-prettylights-syntax-entity-tag: #116329; --color-prettylights-syntax-keyword: #cf222e; --color-prettylights-syntax-string: #0a3069; --color-prettylights-syntax-variable: #953800; --color-prettylights-syntax-brackethighlighter-unmatched: #82071e; --color-prettylights-syntax-invalid-illegal-text: #f6f8fa; --color-prettylights-syntax-invalid-illegal-bg: #82071e; --color-prettylights-syntax-carriage-return-text: #f6f8fa; --color-prettylights-syntax-carriage-return-bg: #cf222e; --color-prettylights-syntax-string-regexp: #116329; --color-prettylights-syntax-markup-list: #3b2300; --color-prettylights-syntax-markup-heading: #0550ae; --color-prettylights-syntax-markup-italic: #24292f; --color-prettylights-syntax-markup-bold: #24292f; --color-prettylights-syntax-markup-deleted-text: #82071e; --color-prettylights-syntax-markup-deleted-bg: #FFEBE9; --color-prettylights-syntax-markup-inserted-text: #116329; --color-prettylights-syntax-markup-inserted-bg: #dafbe1; --color-prettylights-syntax-markup-changed-text: #953800; --color-prettylights-syntax-markup-changed-bg: #ffd8b5; --color-prettylights-syntax-markup-ignored-text: #eaeef2; --color-prettylights-syntax-markup-ignored-bg: #0550ae; --color-prettylights-syntax-meta-diff-range: #8250df; --color-prettylights-syntax-brackethighlighter-angle: #57606a; --color-prettylights-syntax-sublimelinter-gutter-mark: #8c959f; --color-prettylights-syntax-constant-other-reference-link: #0a3069; --color-fg-default: #24292f; --color-fg-muted: #57606a; --color-fg-subtle: #6e7781; --color-canvas-default: #ffffff; --color-canvas-subtle: #f6f8fa; --color-border-default: #d0d7de; --color-border-muted: hsla(210,18%,87%,1); --color-neutral-muted: rgba(175,184,193,0.2); --color-accent-fg: #0969da; --color-accent-emphasis: #0969da; --color-attention-subtle: #fff8c5; --color-danger-fg: #cf222e; }
[data-color-mode*='dark'], [data-color-mode*='dark'] body, .markdown-style[theme*='dark'] { --color-prettylights-syntax-comment: #8b949e; --color-prettylights-syntax-constant: #79c0ff; --color-prettylights-syntax-entity: #d2a8ff; --color-prettylights-syntax-storage-modifier-import: #c9d1d9; --color-prettylights-syntax-entity-tag: #7ee787; --color-prettylights-syntax-keyword: #ff7b72; --color-prettylights-syntax-string: #a5d6ff; --color-prettylights-syntax-variable: #ffa657; --color-prettylights-syntax-brackethighlighter-unmatched: #f85149; --color-prettylights-syntax-invalid-illegal-text: #f0f6fc; --color-prettylights-syntax-invalid-illegal-bg: #8e1519; --color-prettylights-syntax-carriage-return-text: #f0f6fc; --color-prettylights-syntax-carriage-return-bg: #b62324; --color-prettylights-syntax-string-regexp: #7ee787; --color-prettylights-syntax-markup-list: #f2cc60; --color-prettylights-syntax-markup-heading: #1f6feb; --color-prettylights-syntax-markup-italic: #c9d1d9; --color-prettylights-syntax-markup-bold: #c9d1d9; --color-prettylights-syntax-markup-deleted-text: #ffdcd7; --color-prettylights-syntax-markup-deleted-bg: #67060c; --color-prettylights-syntax-markup-inserted-text: #aff5b4; --color-prettylights-syntax-markup-inserted-bg: #033a16; --color-prettylights-syntax-markup-changed-text: #ffdfb6; --color-prettylights-syntax-markup-changed-bg: #5a1e02; --color-prettylights-syntax-markup-ignored-text: #c9d1d9; --color-prettylights-syntax-markup-ignored-bg: #1158c7; --color-prettylights-syntax-meta-diff-range: #d2a8ff; --color-prettylights-syntax-brackethighlighter-angle: #8b949e; --color-prettylights-syntax-sublimelinter-gutter-mark: #484f58; --color-prettylights-syntax-constant-other-reference-link: #a5d6ff; --color-fg-default: #c9d1d9; --color-fg-muted: #8b949e; --color-fg-subtle: #484f58; --color-canvas-default: #0d1117; --color-canvas-subtle: #161b22; --color-border-default: #30363d; --color-border-muted: #21262d; --color-neutral-muted: rgba(110,118,129,0.4); --color-accent-fg: #58a6ff; --color-accent-emphasis: #1f6feb; --color-attention-subtle: rgba(187,128,9,0.15); --color-danger-fg: #f85149; }
.markdown-style { display: block; -webkit-text-size-adjust: 100%; font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"; font-size: 16px; line-height: 1.5; word-wrap: break-word; color: var(--color-fg-default); background-color: var(--color-canvas-default); } .markdown-style details, .markdown-style figcaption, .markdown-style figure { display: block; } .markdown-style summary { display: list-item; } .markdown-style [hidden] { display: none !important; } .markdown-style a { background-color: transparent; color: var(--color-accent-fg); text-decoration: none; } .markdown-style a:active, .markdown-style a:hover { outline-width: 0; } .markdown-style abbr[title] { border-bottom: none; text-decoration: underline dotted; } .markdown-style b, .markdown-style strong { font-weight: 600; } .markdown-style dfn { font-style: italic; } .markdown-style h1 { margin: .67em 0; font-weight: 600; padding-bottom: .3em; font-size: 2em; border-bottom: 1px solid var(--color-border-muted); } .markdown-style mark { background-color: var(--color-attention-subtle); color: var(--color-text-primary); } .markdown-style small { font-size: 90%; } .markdown-style sub, .markdown-style sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; } .markdown-style sub { bottom: -0.25em; } .markdown-style sup { top: -0.5em; } .markdown-style img { border-style: none; max-width: 100%; box-sizing: content-box; background-color: var(--color-canvas-default); } .markdown-style code, .markdown-style kbd, .markdown-style pre, .markdown-style samp { font-family: monospace,monospace; font-size: 1em; } .markdown-style figure { margin: 1em 40px; } .markdown-style hr { box-sizing: content-box; overflow: hidden; background: transparent; border-bottom: 1px solid var(--color-border-muted); height: .25em; padding: 0; margin: 24px 0; background-color: var(--color-border-default); border: 0; } .markdown-style input { font: inherit; margin: 0; overflow: visible; font-family: inherit; font-size: inherit; line-height: inherit; } .markdown-style [type=button], .markdown-style [type=reset], .markdown-style [type=submit] { -webkit-appearance: button; } .markdown-style [type=button]::-moz-focus-inner, .markdown-style [type=reset]::-moz-focus-inner, .markdown-style [type=submit]::-moz-focus-inner { border-style: none; padding: 0; } .markdown-style [type=button]:-moz-focusring, .markdown-style [type=reset]:-moz-focusring, .markdown-style [type=submit]:-moz-focusring { outline: 1px dotted ButtonText; } .markdown-style [type=checkbox], .markdown-style [type=radio] { box-sizing: border-box; padding: 0; } .markdown-style [type=number]::-webkit-inner-spin-button, .markdown-style [type=number]::-webkit-outer-spin-button { height: auto; } .markdown-style [type=search] { -webkit-appearance: textfield; outline-offset: -2px; } .markdown-style [type=search]::-webkit-search-cancel-button, .markdown-style [type=search]::-webkit-search-decoration { -webkit-appearance: none; } .markdown-style ::-webkit-input-placeholder { color: inherit; opacity: .54; } .markdown-style ::-webkit-file-upload-button { -webkit-appearance: button; font: inherit; } .markdown-style a:hover { text-decoration: underline; } .markdown-style hr::before { display: table; content: ""; } .markdown-style hr::after { display: table; clear: both; content: ""; } .markdown-style table { border-spacing: 0; border-collapse: collapse; display: block; width: max-content; max-width: 100%; overflow: auto; } .markdown-style td, .markdown-style th { padding: 0; } .markdown-style details summary { cursor: pointer; } .markdown-style details:not([open])>*:not(summary) { display: none !important; } .markdown-style kbd { display: inline-block; padding: 3px 5px; font: 11px ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace; line-height: 10px; color: var(--color-fg-default); vertical-align: middle; background-color: var(--color-canvas-subtle); border: solid 1px var(--color-neutral-muted); border-bottom-color: var(--color-neutral-muted); border-radius: 6px; box-shadow: inset 0 -1px 0 var(--color-neutral-muted); } .markdown-style h1, .markdown-style h2, .markdown-style h3, .markdown-style h4, .markdown-style h5, .markdown-style h6 { margin-top: 24px; margin-bottom: 16px; font-weight: 600; line-height: 1.25; } .markdown-style h2 { font-weight: 600; padding-bottom: .3em; font-size: 1.5em; border-bottom: 1px solid var(--color-border-muted); } .markdown-style h3 { font-weight: 600; font-size: 1.25em; } .markdown-style h4 { font-weight: 600; font-size: 1em; } .markdown-style h5 { font-weight: 600; font-size: .875em; } .markdown-style h6 { font-weight: 600; font-size: .85em; color: var(--color-fg-muted); } .markdown-style p { margin-top: 0; margin-bottom: 10px; } .markdown-style blockquote { margin: 0; padding: 0 1em; color: var(--color-fg-muted); border-left: .25em solid var(--color-border-default); } .markdown-style ul, .markdown-style ol { margin-top: 0; margin-bottom: 0; padding-left: 2em; } .markdown-style ol ol, .markdown-style ul ol { list-style-type: lower-roman; } .markdown-style ul ul ol, .markdown-style ul ol ol, .markdown-style ol ul ol, .markdown-style ol ol ol { list-style-type: lower-alpha; } .markdown-style dd { margin-left: 0; } .markdown-style tt, .markdown-style code { font-family: ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace; font-size: 12px; } .markdown-style pre { margin-top: 0; margin-bottom: 0; font-family: ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace; font-size: 12px; word-wrap: normal; } .markdown-style .octicon { display: inline-block; overflow: visible !important; vertical-align: text-bottom; fill: currentColor; } .markdown-style ::placeholder { color: var(--color-fg-subtle); opacity: 1; } .markdown-style input::-webkit-outer-spin-button, .markdown-style input::-webkit-inner-spin-button { margin: 0; -webkit-appearance: none; appearance: none; }
.markdown-style .token.comment, .markdown-style .token.prolog, .markdown-style .token.doctype, .markdown-style .token.cdata { color: var(--color-prettylights-syntax-comment); } .markdown-style .token.namespace { opacity: 0.7; } .markdown-style .token.tag, .markdown-style .token.selector, .markdown-style .token.constant, .markdown-style .token.symbol, .markdown-style .token.deleted { color: var(--color-prettylights-syntax-entity-tag); } .markdown-style .token.maybe-class-name { color: var(--color-prettylights-syntax-variable); } .markdown-style .token.property-access, .markdown-style .token.operator, .markdown-style .token.boolean, .markdown-style .token.number, .markdown-style .token.selector .markdown-style .token.class, .markdown-style .token.attr-name, .markdown-style .token.string, .markdown-style .token.char, .markdown-style .token.builtin { color: var(--color-prettylights-syntax-constant); } .markdown-style .token.deleted { color: var(--color-prettylights-syntax-markup-deleted-text); } .markdown-style .token.property { color: var(--color-prettylights-syntax-constant); } .markdown-style .token.punctuation { color: var(--color-prettylights-syntax-markup-bold); } .markdown-style .token.function { color: var(--color-prettylights-syntax-entity); } .markdown-style .code-line .token.deleted { background-color: var(--color-prettylights-syntax-markup-deleted-bg); } .markdown-style .token.inserted { color: var(--color-prettylights-syntax-markup-inserted-text); } .markdown-style .code-line .token.inserted { background-color: var(--color-prettylights-syntax-markup-inserted-bg); } .markdown-style .token.variable { color: var(--color-prettylights-syntax-constant); } .markdown-style .token.entity, .markdown-style .token.url, .language-css .markdown-style .token.string, .style .markdown-style .token.string { color: var(--color-prettylights-syntax-string); } .markdown-style .token.color, .markdown-style .token.atrule, .markdown-style .token.attr-value, .markdown-style .token.function, .markdown-style .token.class-name { color: var(--color-prettylights-syntax-string); } .markdown-style .token.rule, .markdown-style .token.regex, .markdown-style .token.important, .markdown-style .token.keyword { color: var(--color-prettylights-syntax-keyword); } .markdown-style .token.coord { color: var(--color-prettylights-syntax-meta-diff-range); } .markdown-style .token.important, .markdown-style .token.bold { font-weight: bold; } .markdown-style .token.italic { font-style: italic; } .markdown-style .token.entity { cursor: help; }
.markdown-style [data-catalyst] { display: block; } .markdown-style g-emoji { font-family: "Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"; font-size: 1em; font-style: normal !important; font-weight: 400; line-height: 1; vertical-align: -0.075em; } .markdown-style g-emoji img { width: 1em; height: 1em; } .markdown-style::before { display: table; content: ""; } .markdown-style::after { display: table; clear: both; content: ""; } .markdown-style>*:first-child { margin-top: 0 !important; } .markdown-style>*:last-child { margin-bottom: 0 !important; } .markdown-style a:not([href]) { color: inherit; text-decoration: none; } .markdown-style .absent { color: var(--color-danger-fg); } .markdown-style a.anchor { float: left; padding-right: 4px; margin-left: -20px; line-height: 1; } .markdown-style a.anchor:focus { outline: none; } .markdown-style p, .markdown-style blockquote, .markdown-style ul, .markdown-style ol, .markdown-style dl, .markdown-style table, .markdown-style pre, .markdown-style details { margin-top: 0; margin-bottom: 16px; } .markdown-style blockquote>:first-child { margin-top: 0; } .markdown-style blockquote>:last-child { margin-bottom: 0; } .markdown-style sup>a::before { content: "["; } .markdown-style sup>a::after { content: "]"; }
.markdown-style .octicon-video { border: 1px solid #d0d7de !important; border-radius: 6px !important; display: block; } .markdown-style .octicon-video summary { border-bottom: 1px solid #d0d7de !important; padding: 8px 16px !important; cursor: pointer; } .markdown-style .octicon-video > video { display: block !important; max-width: 100% !important; padding: 2px; box-sizing: border-box; border-bottom-right-radius: 6px !important; border-bottom-left-radius: 6px !important; } .markdown-style details.octicon-video:not([open])>*:not(summary) { display: none !important; } .markdown-style details.octicon-video:not([open]) > summary { border-bottom: 0 !important; } .markdown-style h1 .octicon-link, .markdown-style h2 .octicon-link, .markdown-style h3 .octicon-link, .markdown-style h4 .octicon-link, .markdown-style h5 .octicon-link, .markdown-style h6 .octicon-link { color: var(--color-fg-default); vertical-align: middle; visibility: hidden; } .markdown-style h1:hover .anchor, .markdown-style h2:hover .anchor, .markdown-style h3:hover .anchor, .markdown-style h4:hover .anchor, .markdown-style h5:hover .anchor, .markdown-style h6:hover .anchor { text-decoration: none; } .markdown-style h1:hover .anchor .octicon-link, .markdown-style h2:hover .anchor .octicon-link, .markdown-style h3:hover .anchor .octicon-link, .markdown-style h4:hover .anchor .octicon-link, .markdown-style h5:hover .anchor .octicon-link, .markdown-style h6:hover .anchor .octicon-link { visibility: visible; } .markdown-style h1 tt, .markdown-style h1 code, .markdown-style h2 tt, .markdown-style h2 code, .markdown-style h3 tt, .markdown-style h3 code, .markdown-style h4 tt, .markdown-style h4 code, .markdown-style h5 tt, .markdown-style h5 code, .markdown-style h6 tt, .markdown-style h6 code { padding: 0 .2em; font-size: inherit; } .markdown-style ul.no-list, .markdown-style ol.no-list { padding: 0; list-style-type: none; } .markdown-style ol[type="1"] { list-style-type: decimal; } .markdown-style ol[type=a] { list-style-type: lower-alpha; } .markdown-style ol[type=i] { list-style-type: lower-roman; } .markdown-style div>ol:not([type]) { list-style-type: decimal; } .markdown-style ul ul, .markdown-style ul ol, .markdown-style ol ol, .markdown-style ol ul { margin-top: 0; margin-bottom: 0; } .markdown-style li>p { margin-top: 16px; } .markdown-style li+li { margin-top: .25em; } .markdown-style dl { padding: 0; } .markdown-style dl dt { padding: 0; margin-top: 16px; font-size: 1em; font-style: italic; font-weight: 600; } .markdown-style dl dd { padding: 0 16px; margin-bottom: 16px; } .markdown-style table th { font-weight: 600; } .markdown-style table th, .markdown-style table td { padding: 6px 13px; border: 1px solid var(--color-border-default); } .markdown-style table tr { background-color: var(--color-canvas-default); border-top: 1px solid var(--color-border-muted); } .markdown-style table tr:nth-child(2n) { background-color: var(--color-canvas-subtle); } .markdown-style table img { background-color: transparent; vertical-align: middle; } .markdown-style img[align=right] { padding-left: 20px; } .markdown-style img[align=left] { padding-right: 20px; } .markdown-style .emoji { max-width: none; vertical-align: text-top; background-color: transparent; } .markdown-style span.frame { display: block; overflow: hidden; } .markdown-style span.frame>span { display: block; float: left; width: auto; padding: 7px; margin: 13px 0 0; overflow: hidden; border: 1px solid var(--color-border-default); } .markdown-style span.frame span img { display: block; float: left; } .markdown-style span.frame span span { display: block; padding: 5px 0 0; clear: both; color: var(--color-fg-default); } .markdown-style span.align-center { display: block; overflow: hidden; clear: both; } .markdown-style span.align-center>span { display: block; margin: 13px auto 0; overflow: hidden; text-align: center; } .markdown-style span.align-center span img { margin: 0 auto; text-align: center; } .markdown-style span.align-right { display: block; overflow: hidden; clear: both; } .markdown-style span.align-right>span { display: block; margin: 13px 0 0; overflow: hidden; text-align: right; } .markdown-style span.align-right span img { margin: 0; text-align: right; } .markdown-style span.float-left { display: block; float: left; margin-right: 13px; overflow: hidden; } .markdown-style span.float-left span { margin: 13px 0 0; } .markdown-style span.float-right { display: block; float: right; margin-left: 13px; overflow: hidden; } .markdown-style span.float-right>span { display: block; margin: 13px auto 0; overflow: hidden; text-align: right; } .markdown-style code, .markdown-style tt { padding: .2em .4em; margin: 0; font-size: 85%; background-color: var(--color-neutral-muted); border-radius: 6px; } .markdown-style code br, .markdown-style tt br { display: none; } .markdown-style del code { text-decoration: inherit; } .markdown-style pre code { font-size: 100%; } .markdown-style pre>code { padding: 0; margin: 0; word-break: normal; white-space: pre; background: transparent; border: 0; } .markdown-style pre { position: relative; font-size: 85%; line-height: 1.45; background-color: var(--color-canvas-subtle); border-radius: 6px; } .markdown-style pre code, .markdown-style pre tt { display: inline; max-width: auto; padding: 0; margin: 0; overflow: visible; line-height: inherit; word-wrap: normal; background-color: transparent; border: 0; } .markdown-style pre > code { padding: 16px; overflow: auto; display: block; } .markdown-style .csv-data td, .markdown-style .csv-data th { padding: 5px; overflow: hidden; font-size: 12px; line-height: 1; text-align: left; white-space: nowrap; } .markdown-style .csv-data .blob-num { padding: 10px 8px 9px; text-align: right; background: var(--color-canvas-default); border: 0; } .markdown-style .csv-data tr { border-top: 0; } .markdown-style .csv-data th { font-weight: 600; background: var(--color-canvas-subtle); border-top: 0; } .markdown-style .footnotes { font-size: 12px; color: var(--color-fg-muted); border-top: 1px solid var(--color-border-default); } .markdown-style .footnotes ol { padding-left: 16px; } .markdown-style .footnotes li { position: relative; } .markdown-style .footnotes li:target::before { position: absolute; top: -8px; right: -8px; bottom: -8px; left: -24px; pointer-events: none; content: ""; border: 2px solid var(--color-accent-emphasis); border-radius: 6px; } .markdown-style .footnotes li:target { color: var(--color-fg-default); } .markdown-style .footnotes .data-footnote-backref g-emoji { font-family: monospace; } .markdown-style .task-list-item { list-style-type: none; } .markdown-style .task-list-item label { font-weight: 400; } .markdown-style .task-list-item.enabled label { cursor: pointer; } .markdown-style .task-list-item+.task-list-item { margin-top: 3px; } .markdown-style .task-list-item .handle { display: none; } .markdown-style .task-list-item-checkbox, .markdown-style input[type="checkbox"] { margin: 0 .2em .25em -1.6em; vertical-align: middle; } .markdown-style .contains-task-list:dir(rtl) .task-list-item-checkbox, .markdown-style .contains-task-list:dir(rtl) input[type="checkbox"] { margin: 0 -1.6em .25em .2em; } .markdown-style ::-webkit-calendar-picker-indicator { filter: invert(50%); }

/** copy button style **/
.markdown-style pre .copied {
  display: flex;
  position: absolute;
  cursor: pointer;
  color: #a5afbb;
  top: 6px;
  right: 6px;
  border-radius: 5px;
  background: #82828226;
  padding: 6px;
  font-size: 12px;
  transition: all .3s;
}
.markdown-style pre .copied:not(.active) { visibility: hidden; }
.markdown-style pre:hover .copied { visibility: visible; }
.markdown-style pre:hover .copied:hover { background: #4caf50; color: #fff; }
.markdown-style pre:hover .copied:active,
.markdown-style pre .copied.active { background: #2e9b33; color: #fff; }
.markdown-style pre .copied svg { position: relative; }
.markdown-style pre .copied .octicon-copy { display: block; }
.markdown-style pre .copied .octicon-check { display: none; }
.markdown-style pre .active .octicon-copy { display: none; }
.markdown-style pre .active .octicon-check { display: block; }

/** octicon style **/
.markdown-style h1:hover a.anchor .octicon-link:before,
.markdown-style h2:hover a.anchor .octicon-link:before,
.markdown-style h3:hover a.anchor .octicon-link:before,
.markdown-style h4:hover a.anchor .octicon-link:before,
.markdown-style h5:hover a.anchor .octicon-link:before,
.markdown-style h6:hover a.anchor .octicon-link:before {
  width: 16px;
  height: 16px;
  content: ' ';
  display: inline-block;
  background-color: currentColor;
  -webkit-mask-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>");
  mask-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>");
}

.markdown-style ::-webkit-scrollbar {
  background: transparent;
  width: 8px;
  height: 8px;
}

.markdown-style ::-webkit-scrollbar-thumb {
  background: var(--color-fg-muted);
  border-radius: 10px;
}
</style>
    <style>
a:hover .octo-arm { animation: octocat-wave 560ms ease-in-out; }
svg { z-index: 99; position: fixed; border: 0px; top: 0px; right: 0; }
@media (max-width:500px) {
  a:hover .octo-arm { animation: none; }
  .octo-arm { animation: octocat-wave 560ms ease-in-out; }
}

@keyframes octocat-wave {
  0%, 100% { transform: rotate(0); }
  20%, 60% { transform: rotate(-25deg); }
  40%, 80% { transform: rotate(10deg); }
}
</style>
  </head>
  <body><svg width="80" height="80" viewBox="0 0 250 250"><a xlink:href="https://github.com/marcossilvestrini/learning-lpic-3-305-300" target="_blank" rel="nofollow sponsored" style="fill: rgb(21, 21, 19); color: rgb(255, 255, 255);"><g><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" class="octo-arm" style="transform-origin: 130px 106px;"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></g></a></svg><dark-mode style="position: fixed; top: 8px; left: 10px; z-index: 999;" dark="Dark" light="Light" permanent="true"></dark-mode><script>const t=document;const e="_dark_mode_theme_";const s="permanent";const o="colorschemechange";const i="permanentcolorscheme";const h="light";const r="dark";const n=(t,e,s=e)=>{Object.defineProperty(t,s,{enumerable:true,get(){const t=this.getAttribute(e);return t===null?"":t},set(t){this.setAttribute(e,t)}})};const c=(t,e,s=e)=>{Object.defineProperty(t,s,{enumerable:true,get(){return this.hasAttribute(e)},set(t){if(t){this.setAttribute(e,"")}else{this.removeAttribute(e)}}})};class a extends HTMLElement{static get observedAttributes(){return["mode",h,r,s]}LOCAL_NANE=e;constructor(){super();this.t()}connectedCallback(){n(this,"mode");n(this,r);n(this,h);c(this,s);const a=localStorage.getItem(e);if(a&&[h,r].includes(a)){this.mode=a;this.permanent=true}if(this.permanent&&!a){localStorage.setItem(e,this.mode)}const l=[h,r].includes(a);if(this.permanent&&a){this.o()}else{if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches){this.mode=r;this.o()}if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches){this.mode=h;this.o()}}if(!this.permanent&&!l){window.matchMedia("(prefers-color-scheme: light)").onchange=t=>{this.mode=t.matches?h:r;this.o()};window.matchMedia("(prefers-color-scheme: dark)").onchange=t=>{this.mode=t.matches?r:h;this.o()}}const d=new MutationObserver(((s,h)=>{this.mode=t.documentElement.dataset.colorMode;if(this.permanent&&l){localStorage.setItem(e,this.mode);this.i(i,{permanent:this.permanent})}this.h();this.i(o,{colorScheme:this.mode})}));d.observe(t.documentElement,{attributes:true});this.i(o,{colorScheme:this.mode});this.h()}attributeChangedCallback(t,s,o){if(t==="mode"&&s!==o&&[h,r].includes(o)){const t=localStorage.getItem(e);if(this.mode===t){this.mode=o;this.h();this.o()}else if(this.mode&&this.mode!==t){this.h();this.o()}}else if((t===h||t===r)&&s!==o){this.h()}if(t==="permanent"&&typeof this.permanent==="boolean"){this.permanent?localStorage.setItem(e,this.mode):localStorage.removeItem(e)}}o(){t.documentElement.setAttribute("data-color-mode",this.mode)}h(){this.icon.textContent=this.mode===h?"ðŸŒ’":"ðŸŒž";this.text.textContent=this.mode===h?this.getAttribute(r):this.getAttribute(h);if(!this.text.textContent&&this.text.parentElement&&this.text){this.text.parentElement.removeChild(this.text)}}t(){var s=this.attachShadow({mode:"open"});this.label=t.createElement("span");this.label.setAttribute("class","wrapper");this.label.onclick=()=>{this.mode=this.mode===h?r:h;if(this.permanent){localStorage.setItem(e,this.mode)}this.o();this.h()};s.appendChild(this.label);this.icon=t.createElement("span");this.icon.part="icon";this.label.appendChild(this.icon);this.text=t.createElement("span");this.text.part="text";this.label.appendChild(this.text);const o=`
[data-color-mode*='dark'], [data-color-mode*='dark'] body {
  color-scheme: dark;
  --color-theme-bg: #0d1117;
  --color-theme-text: #c9d1d9;
  background-color: var(--color-theme-bg);
  color: var(--color-theme-text);
}

[data-color-mode*='light'], [data-color-mode*='light'] body {
  color-scheme: light;
  --color-theme-bg: #fff;
  --color-theme-text: #24292f;
  background-color: var(--color-theme-bg);
  color: var(--color-theme-text);
}`;const i="_dark_mode_style_";const n=t.getElementById(i);if(!n){var c=t.createElement("style");c.id=i;c.textContent=o;t.head.appendChild(c)}var a=t.createElement("style");a.textContent=`
    .wrapper { cursor: pointer; user-select: none; position: relative; }
    .wrapper > span + span { margin-left: .4rem; }
    `;s.appendChild(a)}i(t,e){this.dispatchEvent(new CustomEvent(t,{bubbles:true,composed:true,detail:e}))}}customElements.define("dark-mode",a);</script><div style="max-width: 960px; margin: 0 auto 60px auto; padding: 8px;" class="markdown-style">
    <h1 id=""><a class="anchor" name="readme-top"><span class="octicon octicon-link"></span></a></h1>
    <p>
      <a href="https://github.com/marcossilvestrini/learning-lpic-3-305-300/actions/workflows/release.yml"><img src="https://github.com/marcossilvestrini/learning-lpic-3-305-300/actions/workflows/release.yml/badge.svg" alt="Create Release"></a>
      <a href="https://github.com/marcossilvestrini/learning-lpic-3-305-300/actions/workflows/translate.yml"><img src="https://github.com/marcossilvestrini/learning-lpic-3-305-300/actions/workflows/translate.yml/badge.svg" alt="Translate README"></a>
      <a href="https://github.com/marcossilvestrini/learning-lpic-3-305-300/actions/workflows/generate-html.yml"><img src="https://github.com/marcossilvestrini/learning-lpic-3-305-300/actions/workflows/generate-html.yml/badge.svg" alt="Generate HTML and PDF"></a>
      <a href="https://github.com/marcossilvestrini/learning-lpic-3-305-300/actions/workflows/deploy-webpage.yml"><img src="https://github.com/marcossilvestrini/learning-lpic-3-305-300/actions/workflows/deploy-webpage.yml/badge.svg" alt="Deploy Webpage"></a>
      <a href="https://github.com/marcossilvestrini/learning-lpic-3-305-300/actions/workflows/powershell.yml"><img src="https://github.com/marcossilvestrini/learning-lpic-3-305-300/actions/workflows/powershell.yml/badge.svg" alt="PSScriptAnalyzer"></a>
      <a href="https://github.com/marcossilvestrini/learning-lpic-3-305-300/actions/workflows/slack.yml"><img src="https://github.com/marcossilvestrini/learning-lpic-3-305-300/actions/workflows/slack.yml/badge.svg" alt="Slack Notification"></a>
    </p>
    <hr>
    <p>
      <a href="https://github.com/marcossilvestrini/learning-lpic-3-305-300/blob/master/LICENSE"><img src="https://img.shields.io/github/license/marcossilvestrini/learning-lpic-3-305-300.svg?style=for-the-badge" alt="MIT License"></a>
      <a href="https://github.com/marcossilvestrini/learning-lpic-3-305-300/network/members"><img src="https://img.shields.io/github/forks/marcossilvestrini/learning-lpic-3-305-300.svg?style=for-the-badge" alt="Forks"></a>
      <a href="https://github.com/marcossilvestrini/learning-lpic-3-305-300/stargazers"><img src="https://img.shields.io/github/stars/marcossilvestrini/learning-lpic-3-305-300.svg?style=for-the-badge" alt="Stargazers"></a>
      <a href="https://github.com/marcossilvestrini/learning-lpic-3-305-300/graphs/contributors"><img src="https://img.shields.io/github/contributors/marcossilvestrini/learning-lpic-3-305-300.svg?style=for-the-badge" alt="Contributors"></a>
      <a href="https://github.com/marcossilvestrini/learning-lpic-3-305-300/issues"><img src="https://img.shields.io/github/issues/marcossilvestrini/learning-lpic-3-305-300.svg?style=for-the-badge" alt="Issues"></a>
      <a href="https://linkedin.com/in/marcossilvestrini"><img src="https://img.shields.io/badge/-LinkedIn-black.svg?style=for-the-badge&#x26;logo=linkedin&#x26;colorB=555" alt="LinkedIn"></a>
    </p>
    <hr>
    <h1 id="learning-lpic-3-305-300"><a class="anchor" aria-hidden="true" tabindex="-1" href="#learning-lpic-3-305-300"><span class="octicon octicon-link"></span></a>LEARNING LPIC-3 305-300</h1>
    <p>
      <img src="images/lpic3-305-300.jpg" alt="LPIC3-305-300">
    </p>
    <p align="center">
      <strong>Explore the docs Â»</strong><br><a href="https://marcossilvestrini.github.io/learning-lpic-3-305-300/">Web Site</a>
      -
      <a href="https://github.com/marcossilvestrini/learning-lpic-3-305-300">Code Page</a>
      -
      <a href="https://github.com/marcossilvestrini/learning-lpic-3-305-300/issues">Report Bug</a>
      -
      <a href="https://github.com/marcossilvestrini/learning-lpic-3-305-300/issues">Request Feature</a>
    </p>
    <hr>
    <h2 id="summary"><a class="anchor" aria-hidden="true" tabindex="-1" href="#summary"><span class="octicon octicon-link"></span></a>Summary</h2>
    <details>
      <summary><b>TABLE OF CONTENT</b></summary>
      <ol>
        <li><a href="#about-the-project">About The Project</a></li>
        <li><a href="#getting-started">Getting Started</a>
          <ul>
            <li><a href="#prerequisites">Prerequisites</a></li>
            <li><a href="#installation">installation</a></li>
          </ul>
        </li>
        <li><a href="#usage">Usage</a></li>
        <li><a href="#roadmap">Roadmap</a></li>
        <li><a href="#freedoms">Four Essential Freedoms</a></li>
        <li><a href="#topic-351">Topic 351: Full Virtualization</a>
          <ul>
            <li><a href="#topic-351.1">351.1 Virtualization Concepts and Theory</a></li>
            <li><a href="#topic-351.2">351.2 Xen</a></li>
            <li><a href="#topic-351.3">351.3 QEMU</a></li>
            <li><a href="#topic-351.4">351.4 Libvirt Virtual Machine</a></li>
            <li><a href="#topic-351.5">351.5 Virtual Machine Disk Image Management</a></li>
          </ul>
        </li>
        <li><a href="#topic-352">Topic 352: Container Virtualization</a>
          <ul>
            <li><a href="#topic-352.1">352.1 Container Virtualization Concepts</a></li>
            <li><a href="#topic-352.2">352.2 LXC</a></li>
            <li><a href="#topic-352.3">352.3 Docker</a></li>
            <li><a href="#topic-352.4">352.4 Container Orchestration Platforms</a></li>
          </ul>
        </li>
        <li><a href="#topic-353">Topic 353: VM Deployment and Provisioning</a>
          <ul>
            <li><a href="#topic-353.1">353.1 Cloud Management Tools</a></li>
            <li><a href="#topic-353.2">353.2 Packer</a></li>
            <li><a href="#topic-353.3">353.3 cloud-init</a></li>
            <li><a href="#topic-353.4">353.4 Vagrant</a></li>
          </ul>
        </li>
        <li><a href="#license">License</a></li>
        <li><a href="#contact">Contact</a></li>
        <li><a href="#acknowledgments">Acknowledgments</a></li>
      </ol>
    </details><br>
    <hr>
    <p><a name="about-the-project"></a></p>
    <h2 id="about-project"><a class="anchor" aria-hidden="true" tabindex="-1" href="#about-project"><span class="octicon octicon-link"></span></a>About Project</h2>
    <blockquote>
      <p>
        This project aims to help students or professionals to learn the main concepts of GNULinux
        and free software<br>Some GNULinux distributions like Debian and RPM will be covered<br>Installation and configuration of some packages will also be covered<br>By doing this you can give the whole community a chance to benefit from your changes.<br>Access to the source code is a precondition for this.<br>Use vagrant for up machines and execute labs and practice content in this article.<br>I have published in folder Vagrant a Vagrantfile with what is necessary<br>for you to upload an environment for studies
      </p>
    </blockquote>
    <hr>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <p><a name="getting-started"></a></p>
    <h2 id="getting-started"><a class="anchor" aria-hidden="true" tabindex="-1" href="#getting-started"><span class="octicon octicon-link"></span></a>Getting Started</h2>
    <p>For starting the learning, see the documentation above.</p>
    <p><a name="prerequisites"></a></p>
    <h3 id="prerequisites"><a class="anchor" aria-hidden="true" tabindex="-1" href="#prerequisites"><span class="octicon octicon-link"></span></a>Prerequisites</h3>
    <ul>
      <li><a href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git">Git</a></li>
      <li><a href="https://blogs.vmware.com/workstation/2024/05/vmware-workstation-pro-now-available-free-for-personal-use.html">VMware Workstation</a></li>
      <li><a href="https://developer.hashicorp.com/vagrant/install/vmware">Vagrant VMWare Utility</a></li>
      <li><a href="https://developer.hashicorp.com/vagrant/install">Vagrant</a></li>
    </ul>
    <p><a name="installation"></a></p>
    <h3 id="installation"><a class="anchor" aria-hidden="true" tabindex="-1" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h3>
    <p>Clone the repo</p>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token function">git</span> clone https://github.com/marcossilvestrini/learning-lpic-3-305-300.git
</span><span class="code-line line-number" line="2"><span class="token builtin class-name">cd</span> learning-lpic-3-305-300
</span></code><div onclick="copied(this)" data-code="git clone https://github.com/marcossilvestrini/learning-lpic-3-305-300.git
cd learning-lpic-3-305-300
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>Customize a template <em>Vagrantfile-topic-XXX</em>. This file contains a vms configuration for labs. Example:</p>
    <ul>
      <li>File <a href="./vagrant/Vagrantfile-topic-351">Vagrantfile-topic-351</a>
        <ul>
          <li>vm.clone_directory = "&#x3C;your_driver_letter>:\
            <folder>
              \&#x3C;to_machine>\#{VM_NAME}-instance-1"
              Example: vm.clone_directory = "E:\Servers\VMWare\#{VM_NAME}-instance-1"
            </folder>
          </li>
          <li>vm.vmx["memsize"] = ""</li>
          <li>vm.vmx["numvcpus"] = ""</li>
          <li>vm.vmx["cpuid.coresPerSocket"] = ""</li>
        </ul>
      </li>
    </ul>
    <p>Customize network configuration in files <a href="configs/network/">configs/network</a>.</p>
    <hr>
    <p><a name="usage"></a></p>
    <h2 id="usage"><a class="anchor" aria-hidden="true" tabindex="-1" href="#usage"><span class="octicon octicon-link"></span></a>Usage</h2>
    <p>Use this repository for get learning about LPIC-3 305-300 exam</p>
    <h3 id="for-up-and-down"><a class="anchor" aria-hidden="true" tabindex="-1" href="#for-up-and-down"><span class="octicon octicon-link"></span></a>For up and down</h3>
    <p>Switch a <em>Vagrantfile-topic-xxx</em> template and copy for a new file with name <em>Vagrantfile</em></p>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token builtin class-name">cd</span> vagrant <span class="token operator">&#x26;&#x26;</span> vagrant up
</span><span class="code-line line-number" line="2"><span class="token builtin class-name">cd</span> vagrant <span class="token operator">&#x26;&#x26;</span> vagrant destroy <span class="token parameter variable">-f</span>
</span></code><div onclick="copied(this)" data-code="cd vagrant &#x26;&#x26; vagrant up
cd vagrant &#x26;&#x26; vagrant destroy -f
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h3 id="for-reboot-vms"><a class="anchor" aria-hidden="true" tabindex="-1" href="#for-reboot-vms"><span class="octicon octicon-link"></span></a>For reboot vms</h3>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token builtin class-name">cd</span> vagrant <span class="token operator">&#x26;&#x26;</span> vagrant reload
</span></code><div onclick="copied(this)" data-code="cd vagrant &#x26;&#x26; vagrant reload
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>
      <strong>Important:</strong>
      <em>If you reboot vms without vagrant, shared folder not mount after boot.</em>
    </p>
    <h3 id="use-powershell-for-up-and-down"><a class="anchor" aria-hidden="true" tabindex="-1" href="#use-powershell-for-up-and-down"><span class="octicon octicon-link"></span></a>Use powershell for up and down</h3>
    <p>If you use Windows platform, I create a powershell script for up and down vms.</p>
    <pre class="language-powershell"><code class="language-powershell code-highlight"><span class="code-line line-number" line="1">vagrant/up<span class="token punctuation">.</span>ps1
</span><span class="code-line line-number" line="2">vagrant/destroy<span class="token punctuation">.</span>ps1
</span></code><div onclick="copied(this)" data-code="vagrant/up.ps1
vagrant/destroy.ps1
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h3 id="infrastructure-schema-topic-351"><a class="anchor" aria-hidden="true" tabindex="-1" href="#infrastructure-schema-topic-351"><span class="octicon octicon-link"></span></a>Infrastructure Schema Topic 351</h3>
    <p>
      <img src="images/infraestructure-topic-351.png" alt="topic-351">
    </p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr>
    <p><a name="roadmap"></a></p>
    <h2 id="roadmap"><a class="anchor" aria-hidden="true" tabindex="-1" href="#roadmap"><span class="octicon octicon-link"></span></a>Roadmap</h2>
    <ul class="contains-task-list">
      <li class="task-list-item"><input type="checkbox" checked disabled> Create repository</li>
      <li class="task-list-item"><input type="checkbox" checked disabled> Create scripts for provisioning labs</li>
      <li class="task-list-item"><input type="checkbox" checked disabled> Create examples about Topic 351</li>
      <li class="task-list-item"><input type="checkbox" disabled> Create examples about Topic 352</li>
      <li class="task-list-item"><input type="checkbox" disabled> Create examples about Topic 353</li>
      <li class="task-list-item"><input type="checkbox" disabled> Upload simulated itexam</li>
    </ul>
    <hr>
    <p><a name="freedoms"></a></p>
    <h2 id="four-essential-freedoms"><a class="anchor" aria-hidden="true" tabindex="-1" href="#four-essential-freedoms"><span class="octicon octicon-link"></span></a>Four Essential Freedoms</h2>
    <blockquote>
      <p>0.The freedom to run the program as you wish, for any purpose (freedom 0).<br>1.The freedom to study how the program works, and change it so it does<br>your computing as you wish (freedom 1).<br>Access to the source code is a precondition for this.<br>2.The freedom to redistribute copies so you can help others (freedom 2).<br>3.freedom to distribute copies of your modified versions to others (freedom 3).</p>
    </blockquote>
    <hr>
    <h2 id="inspect-commands"><a class="anchor" aria-hidden="true" tabindex="-1" href="#inspect-commands"><span class="octicon octicon-link"></span></a>Inspect commands</h2>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token builtin class-name">type</span> COMMAND
</span><span class="code-line line-number" line="2"><span class="token function">apropos</span> COMMAND
</span><span class="code-line line-number" line="3">whatis COMMAND <span class="token parameter variable">--long</span>
</span><span class="code-line line-number" line="4"><span class="token function">whereis</span> COMMAND
</span><span class="code-line line-number" line="5">COMMAND --help, <span class="token parameter variable">--h</span>
</span><span class="code-line line-number" line="6"><span class="token function">man</span> COMMAND
</span></code><div onclick="copied(this)" data-code="type COMMAND
apropos COMMAND
whatis COMMAND --long
whereis COMMAND
COMMAND --help, --h
man COMMAND
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr>
    <p><a name="topic-351"></a></p>
    <h2 id="topic-351-full-virtualization"><a class="anchor" aria-hidden="true" tabindex="-1" href="#topic-351-full-virtualization"><span class="octicon octicon-link"></span></a>Topic 351: Full Virtualization</h2>
    <p>
      <img src="images/virtualization-351.png" alt="LPIC3-305-300">
    </p>
    <hr>
    <p><a name="topic-351.1"></a></p>
    <h3 id="3511-virtualization-concepts-and-theory"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3511-virtualization-concepts-and-theory"><span class="octicon octicon-link"></span></a>351.1 Virtualization Concepts and Theory</h3>
    <p><strong>Weight:</strong> 6</p>
    <p><strong>Description:</strong> Candidates should know and understand the general concepts, theory and terminology of virtualization. This includes Xen, QEMU and libvirt terminology.</p>
    <p><strong>Key Knowledge Areas:</strong></p>
    <ul>
      <li>Understand virtualization terminology</li>
      <li>Understand the pros and cons of virtualization</li>
      <li>Understand the various variations of Hypervisors and Virtual Machine Monitors</li>
      <li>Understand the major aspects of migrating physical to virtual machines</li>
      <li>Understand the major aspects of migrating virtual machines between host systems</li>
      <li>Understand the features and implications of virtualization for a virtual machine, such as snapshotting, pausing, cloning and resource limits</li>
      <li>Awareness of oVirt, Proxmox, systemd-machined and VirtualBox</li>
      <li>Awareness of Open vSwitch</li>
    </ul>
    <h4 id="3511-cited-objects"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3511-cited-objects"><span class="octicon octicon-link"></span></a>351.1 Cited Objects</h4>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">Hypervisor
</span><span class="code-line line-number" line="2">Hardware Virtual Machine <span class="token punctuation">(</span>HVM<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="3">Paravirtualization <span class="token punctuation">(</span>PV<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="4">Emulation and Simulation
</span><span class="code-line line-number" line="5">CPU flags
</span><span class="code-line line-number" line="6">/proc/cpuinfo
</span><span class="code-line line-number" line="7">Migration <span class="token punctuation">(</span>P2V, V2V<span class="token punctuation">)</span>
</span></code><div onclick="copied(this)" data-code="Hypervisor
Hardware Virtual Machine (HVM)
Paravirtualization (PV)
Emulation and Simulation
CPU flags
/proc/cpuinfo
Migration (P2V, V2V)
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="hypervisors"><a class="anchor" aria-hidden="true" tabindex="-1" href="#hypervisors"><span class="octicon octicon-link"></span></a>Hypervisors</h4>
    <h5 id="type-1-hypervisor-bare-metal-hypervisor"><a class="anchor" aria-hidden="true" tabindex="-1" href="#type-1-hypervisor-bare-metal-hypervisor"><span class="octicon octicon-link"></span></a>Type 1 Hypervisor (Bare-Metal Hypervisor)</h5>
    <h6 id="type-1-definition"><a class="anchor" aria-hidden="true" tabindex="-1" href="#type-1-definition"><span class="octicon octicon-link"></span></a>Type 1 Definition</h6>
    <p>Runs directly on the host's physical hardware, providing a base layer to manage VMs without the need for a host operating system.</p>
    <h6 id="type-1-characteristics"><a class="anchor" aria-hidden="true" tabindex="-1" href="#type-1-characteristics"><span class="octicon octicon-link"></span></a>Type 1 Characteristics</h6>
    <ul>
      <li>High performance and efficiency.</li>
      <li>Lower latency and overhead.</li>
      <li>Often used in enterprise environments and data centers.</li>
    </ul>
    <h6 id="type-1-examples"><a class="anchor" aria-hidden="true" tabindex="-1" href="#type-1-examples"><span class="octicon octicon-link"></span></a>Type 1 Examples</h6>
    <ul>
      <li>VMware ESXi: A robust and widely used hypervisor in enterprise settings.</li>
      <li>Microsoft Hyper-V: Integrated with Windows Server, offering strong performance and management features.</li>
      <li>Xen: An open-source hypervisor used by many cloud service providers.</li>
      <li>KVM (Kernel-based Virtual Machine): Integrated into the Linux kernel, providing high performance for Linux-based systems.</li>
    </ul>
    <h5 id="type-2-hypervisor-hosted-hypervisor"><a class="anchor" aria-hidden="true" tabindex="-1" href="#type-2-hypervisor-hosted-hypervisor"><span class="octicon octicon-link"></span></a>Type 2 Hypervisor (Hosted Hypervisor)</h5>
    <h6 id="type-2-definition"><a class="anchor" aria-hidden="true" tabindex="-1" href="#type-2-definition"><span class="octicon octicon-link"></span></a>Type 2 Definition</h6>
    <p>Runs on top of a conventional operating system, relying on the host OS for resource management and device support.</p>
    <h6 id="type-2-characteristics"><a class="anchor" aria-hidden="true" tabindex="-1" href="#type-2-characteristics"><span class="octicon octicon-link"></span></a>Type 2 Characteristics</h6>
    <ul>
      <li>Easier to set up and use, especially on personal computers.</li>
      <li>More flexible for development, testing, and smaller-scale deployments.</li>
      <li>Typically less efficient than Type 1 hypervisors due to additional overhead from the host OS.</li>
    </ul>
    <h6 id="type-2-examples"><a class="anchor" aria-hidden="true" tabindex="-1" href="#type-2-examples"><span class="octicon octicon-link"></span></a>Type 2 Examples</h6>
    <ul>
      <li>VMware Workstation: A powerful hypervisor for running multiple operating systems on a single desktop.</li>
      <li>Oracle VirtualBox: An open-source hypervisor known for its flexibility and ease of use.</li>
      <li>Parallels Desktop: Designed for Mac users to run Windows and other operating systems alongside macOS.</li>
      <li>QEMU (Quick EMUlator): An open-source emulator and virtualizer, often used in conjunction with KVM.</li>
    </ul>
    <h5 id="key-differences-between-type-1-and-type-2-hypervisors"><a class="anchor" aria-hidden="true" tabindex="-1" href="#key-differences-between-type-1-and-type-2-hypervisors"><span class="octicon octicon-link"></span></a>Key Differences Between Type 1 and Type 2 Hypervisors</h5>
    <ul>
      <li>Deployment Environment:
        <ul>
          <li>Type 1 hypervisors are commonly deployed in data centers and enterprise environments due to their direct interaction with hardware and high performance.</li>
          <li>Type 2 hypervisors are more suitable for personal use, development, testing, and small-scale virtualization tasks.</li>
        </ul>
      </li>
      <li>Performance:
        <ul>
          <li>Type 1 hypervisors generally offer better performance and lower latency because they do not rely on a host OS.</li>
          <li>Type 2 hypervisors may experience some performance degradation due to the overhead of running on top of a host OS.</li>
        </ul>
      </li>
      <li>Management and Ease of Use:
        <ul>
          <li>Type 1 hypervisors require more complex setup and management but provide advanced features and scalability for large-scale deployments.</li>
          <li>Type 2 hypervisors are easier to install and use, making them ideal for individual users and smaller projects.</li>
        </ul>
      </li>
    </ul>
    <h5 id="migration-types"><a class="anchor" aria-hidden="true" tabindex="-1" href="#migration-types"><span class="octicon octicon-link"></span></a>Migration Types</h5>
    <p>In the context of hypervisors, which are technologies used to create and manage virtual machines, the terms P2V migration and V2V migration are common in virtualization environments.<br>They refer to processes of migrating systems between different types of platforms.</p>
    <h5 id="p2v---physical-to-virtual-migration"><a class="anchor" aria-hidden="true" tabindex="-1" href="#p2v---physical-to-virtual-migration"><span class="octicon octicon-link"></span></a>P2V - Physical to Virtual Migration</h5>
    <p>P2V migration refers to the process of migrating a physical server to a virtual machine.<br>In other words, an operating system and its applications, running on dedicated physical hardware, are "converted" and moved to a virtual machine that runs on a hypervisor (such as VMware, Hyper-V, KVM, etc.).</p>
    <ul>
      <li>Example: You have a physical server running a Windows or Linux system, and you want to move it to a virtual environment, like a cloud infrastructure or an internal virtualization server.<br>The process involves copying the entire system state, including the operating system, drivers, and data, to create an equivalent virtual machine that can run as if it were on the physical hardware.</li>
    </ul>
    <h5 id="v2v----virtual-to-virtual-migration"><a class="anchor" aria-hidden="true" tabindex="-1" href="#v2v----virtual-to-virtual-migration"><span class="octicon octicon-link"></span></a>V2V - Virtual to Virtual Migration</h5>
    <p>V2V migration refers to the process of migrating a virtual machine from one hypervisor to another.<br>In this case, you already have a virtual machine running in a virtualized environment (like VMware), and you want to move it to another virtualized environment (for example, to Hyper-V or to a new VMware server).</p>
    <ul>
      <li>Example: You have a virtual machine running on a VMware virtualization server, but you decide to migrate it to a Hyper-V platform. In this case, the V2V migration converts the virtual machine from one format or hypervisor to another, ensuring it can continue running correctly.</li>
    </ul>
    <h4 id="hvm-and-paravirtualization"><a class="anchor" aria-hidden="true" tabindex="-1" href="#hvm-and-paravirtualization"><span class="octicon octicon-link"></span></a>HVM and Paravirtualization</h4>
    <h5 id="hardware-assisted-virtualization-hvm"><a class="anchor" aria-hidden="true" tabindex="-1" href="#hardware-assisted-virtualization-hvm"><span class="octicon octicon-link"></span></a>Hardware-assisted Virtualization (HVM)</h5>
    <h6 id="hvm-definition"><a class="anchor" aria-hidden="true" tabindex="-1" href="#hvm-definition"><span class="octicon octicon-link"></span></a>HVM Definition</h6>
    <p>HVM leverages hardware extensions provided by modern CPUs to virtualize hardware, enabling the creation and management of VMs with minimal performance overhead.</p>
    <h6 id="hvm-key-characteristics"><a class="anchor" aria-hidden="true" tabindex="-1" href="#hvm-key-characteristics"><span class="octicon octicon-link"></span></a>HVM Key Characteristics</h6>
    <ul>
      <li><strong>Hardware Support</strong>: Requires CPU support for virtualization extensions such as Intel VT-x or AMD-V.</li>
      <li><strong>Full Virtualization:</strong> VMs can run unmodified guest operating systems, as the hypervisor provides a complete emulation of the hardware environment.</li>
      <li><strong>Performance:</strong> Typically offers near-native performance because of direct execution of guest code on the CPU.</li>
      <li><strong>Isolation:</strong> Provides strong isolation between VMs since each VM operates as if it has its own dedicated hardware.</li>
    </ul>
    <h6 id="hvm-examples"><a class="anchor" aria-hidden="true" tabindex="-1" href="#hvm-examples"><span class="octicon octicon-link"></span></a>HVM Examples</h6>
    <p>VMware ESXi, Microsoft Hyper-V, KVM (Kernel-based Virtual Machine).</p>
    <h6 id="hvm-advantages"><a class="anchor" aria-hidden="true" tabindex="-1" href="#hvm-advantages"><span class="octicon octicon-link"></span></a>HVM Advantages</h6>
    <ul>
      <li><strong>Compatibility:</strong> Can run any operating system without modification.</li>
      <li><strong>Performance:</strong> High performance due to hardware support.</li>
      <li><strong>Security:</strong> Enhanced isolation and security features provided by hardware.</li>
    </ul>
    <h6 id="hvm-disadvantages"><a class="anchor" aria-hidden="true" tabindex="-1" href="#hvm-disadvantages"><span class="octicon octicon-link"></span></a>HVM Disadvantages</h6>
    <ul>
      <li><strong>Hardware Dependency:</strong> Requires specific hardware features, limiting compatibility with older systems.</li>
      <li><strong>Complexity:</strong> May involve more complex configuration and management.</li>
    </ul>
    <h5 id="paravirtualization"><a class="anchor" aria-hidden="true" tabindex="-1" href="#paravirtualization"><span class="octicon octicon-link"></span></a>Paravirtualization</h5>
    <h6 id="paravirtualization-definition"><a class="anchor" aria-hidden="true" tabindex="-1" href="#paravirtualization-definition"><span class="octicon octicon-link"></span></a>Paravirtualization Definition</h6>
    <p>Paravirtualization involves modifying the guest operating system to be aware of the virtual environment, allowing it to interact more efficiently with the hypervisor.</p>
    <h6 id="paravirtualization-key-characteristics"><a class="anchor" aria-hidden="true" tabindex="-1" href="#paravirtualization-key-characteristics"><span class="octicon octicon-link"></span></a>Paravirtualization Key Characteristics</h6>
    <ul>
      <li><strong>Guest Modification:</strong> Requires changes to the guest operating system to communicate directly with the hypervisor using hypercalls.</li>
      <li><strong>Performance:</strong> Can be more efficient than traditional full virtualization because it reduces the overhead associated with emulating hardware.</li>
      <li><strong>Compatibility:</strong> Limited to operating systems that have been modified for paravirtualization.</li>
    </ul>
    <h6 id="paravirtualization-examples"><a class="anchor" aria-hidden="true" tabindex="-1" href="#paravirtualization-examples"><span class="octicon octicon-link"></span></a>Paravirtualization Examples</h6>
    <p>Xen with paravirtualized guests, VMware tools in certain configurations, and some KVM configurations.</p>
    <h6 id="paravirtualization-advantages"><a class="anchor" aria-hidden="true" tabindex="-1" href="#paravirtualization-advantages"><span class="octicon octicon-link"></span></a>Paravirtualization Advantages</h6>
    <ul>
      <li><strong>Efficiency:</strong> Reduces the overhead of virtualizing hardware, potentially offering better performance for certain workloads.</li>
      <li><strong>Resource Utilization:</strong> More efficient use of system resources due to direct communication between the guest OS and hypervisor.</li>
    </ul>
    <h6 id="paravirtualization-disadvantages"><a class="anchor" aria-hidden="true" tabindex="-1" href="#paravirtualization-disadvantages"><span class="octicon octicon-link"></span></a>Paravirtualization Disadvantages</h6>
    <ul>
      <li><strong>Guest OS Modification:</strong> Requires modifications to the guest OS, limiting compatibility to supported operating systems.</li>
      <li><strong>Complexity:</strong> Requires additional complexity in the guest OS for hypercall implementations.</li>
    </ul>
    <h5 id="key-differences"><a class="anchor" aria-hidden="true" tabindex="-1" href="#key-differences"><span class="octicon octicon-link"></span></a>Key Differences</h5>
    <h6 id="guest-os-requirements"><a class="anchor" aria-hidden="true" tabindex="-1" href="#guest-os-requirements"><span class="octicon octicon-link"></span></a>Guest OS Requirements</h6>
    <ul>
      <li><strong>HVM:</strong> Can run unmodified guest operating systems.</li>
      <li><strong>Paravirtualization:</strong> Requires guest operating systems to be modified to work with the hypervisor.</li>
    </ul>
    <h6 id="performance"><a class="anchor" aria-hidden="true" tabindex="-1" href="#performance"><span class="octicon octicon-link"></span></a>Performance</h6>
    <ul>
      <li><strong>HVM:</strong> Typically provides near-native performance due to hardware-assisted execution.</li>
      <li><strong>Paravirtualization:</strong> Can offer efficient performance by reducing the overhead of hardware emulation, but relies on modified guest OS.</li>
    </ul>
    <h6 id="hardware-dependency"><a class="anchor" aria-hidden="true" tabindex="-1" href="#hardware-dependency"><span class="octicon octicon-link"></span></a>Hardware Dependency</h6>
    <ul>
      <li><strong>HVM:</strong> Requires specific CPU features (Intel VT-x, AMD-V).</li>
      <li><strong>Paravirtualization:</strong> Does not require specific CPU features but needs modified guest OS.</li>
    </ul>
    <h6 id="isolation"><a class="anchor" aria-hidden="true" tabindex="-1" href="#isolation"><span class="octicon octicon-link"></span></a>Isolation</h6>
    <ul>
      <li><strong>HVM:</strong> Provides strong isolation using hardware features.</li>
      <li><strong>Paravirtualization:</strong> Relies on software-based isolation, which may not be as robust as hardware-based isolation.</li>
    </ul>
    <h6 id="complexity"><a class="anchor" aria-hidden="true" tabindex="-1" href="#complexity"><span class="octicon octicon-link"></span></a>Complexity</h6>
    <ul>
      <li><strong>HVM:</strong> Generally more straightforward to deploy since it supports unmodified OS.</li>
      <li><strong>Paravirtualization:</strong> Requires additional setup and modifications to the guest OS, increasing complexity.</li>
    </ul>
    <h4 id="numa-non-uniform-memory-access"><a class="anchor" aria-hidden="true" tabindex="-1" href="#numa-non-uniform-memory-access"><span class="octicon octicon-link"></span></a>NUMA (Non-Uniform Memory Access)</h4>
    <p>NUMA (Non-Uniform Memory Access) is a memory architecture used in multiprocessor systems to optimize memory access by processors.<br>In a NUMA system, memory is distributed unevenly among processors, meaning that each processor has faster access to a portion of memory (its "local memory") than to memory that is physically further away (referred to as "remote memory") and associated with other processors.</p>
    <h5 id="key-features-of-numa-architecture"><a class="anchor" aria-hidden="true" tabindex="-1" href="#key-features-of-numa-architecture"><span class="octicon octicon-link"></span></a>Key Features of NUMA Architecture</h5>
    <ol>
      <li><strong>Local and Remote Memory</strong>: Each processor has its own local memory, which it can access more quickly. However, it can also access the memory of other processors, although this takes longer.</li>
      <li><strong>Differentiated Latency</strong>: The latency of memory access varies depending on whether the processor is accessing its local memory or the memory of another node. Local memory access is faster, while accessing another nodeâ€™s memory (remote) is slower.</li>
      <li><strong>Scalability</strong>: NUMA architecture is designed to improve scalability in systems with many processors. As more processors are added, memory is also distributed, avoiding the bottleneck that would occur in a uniform memory access (UMA) architecture.</li>
    </ol>
    <h5 id="advantages-of-numa"><a class="anchor" aria-hidden="true" tabindex="-1" href="#advantages-of-numa"><span class="octicon octicon-link"></span></a>Advantages of NUMA</h5>
    <ul>
      <li>Better Performance in Large Systems: Since each processor has local memory, it can work more efficiently without competing as much with other processors for memory access.</li>
      <li>Scalability: NUMA allows systems with many processors and large amounts of memory to scale more effectively compared to a UMA architecture.</li>
    </ul>
    <h5 id="disadvantages"><a class="anchor" aria-hidden="true" tabindex="-1" href="#disadvantages"><span class="octicon octicon-link"></span></a>Disadvantages</h5>
    <ul>
      <li>Programming Complexity: Programmers need to be aware of which regions of memory are local or remote, optimizing the use of local memory to achieve better performance.</li>
      <li>
        Potential Performance Penalties: If a processor frequently accesses remote memory, performance may suffer due to higher latency.
        This architecture is common in high-performance multiprocessor systems, such as servers and supercomputers, where scalability and memory optimization are critical.
      </li>
    </ul>
    <h4 id="opensource-solutions"><a class="anchor" aria-hidden="true" tabindex="-1" href="#opensource-solutions"><span class="octicon octicon-link"></span></a>Opensource Solutions</h4>
    <ul>
      <li>
        <p>oVirt: <a href="https://www.ovirt.org/">https://www.ovirt.org/</a></p>
      </li>
      <li>
        <p>Proxmox: <a href="https://www.proxmox.com/en/proxmox-virtual-environment/overview">https://www.proxmox.com/en/proxmox-virtual-environment/overview</a></p>
      </li>
      <li>
        <p>Oracle VirtualBox: <a href="https://www.virtualbox.org/">https://www.virtualbox.org/</a></p>
      </li>
      <li>
        <p>Open vSwitch: <a href="https://www.openvswitch.org/">https://www.openvswitch.org/</a></p>
      </li>
    </ul>
    <h4 id="types-of-virtualization"><a class="anchor" aria-hidden="true" tabindex="-1" href="#types-of-virtualization"><span class="octicon octicon-link"></span></a>Types of Virtualization</h4>
    <h5 id="hardware-virtualization-server-virtualization"><a class="anchor" aria-hidden="true" tabindex="-1" href="#hardware-virtualization-server-virtualization"><span class="octicon octicon-link"></span></a>Hardware Virtualization (Server Virtualization)</h5>
    <h6 id="hv-definition"><a class="anchor" aria-hidden="true" tabindex="-1" href="#hv-definition"><span class="octicon octicon-link"></span></a>HV Definition</h6>
    <p>Abstracts physical hardware to create virtual machines (VMs) that run separate operating systems and applications.</p>
    <h6 id="hv-use-cases"><a class="anchor" aria-hidden="true" tabindex="-1" href="#hv-use-cases"><span class="octicon octicon-link"></span></a>HV Use Cases</h6>
    <p>Data centers, cloud computing, server consolidation.</p>
    <h6 id="hv-examples"><a class="anchor" aria-hidden="true" tabindex="-1" href="#hv-examples"><span class="octicon octicon-link"></span></a>HV Examples</h6>
    <p>VMware ESXi, Microsoft Hyper-V, KVM.</p>
    <h5 id="operating-system-virtualization-containerization"><a class="anchor" aria-hidden="true" tabindex="-1" href="#operating-system-virtualization-containerization"><span class="octicon octicon-link"></span></a>Operating System Virtualization (Containerization)</h5>
    <h6 id="containerization-definition"><a class="anchor" aria-hidden="true" tabindex="-1" href="#containerization-definition"><span class="octicon octicon-link"></span></a>Containerization Definition</h6>
    <p>Allows multiple isolated user-space instances (containers) to run on a single OS kernel.</p>
    <h6 id="containerization-use-cases"><a class="anchor" aria-hidden="true" tabindex="-1" href="#containerization-use-cases"><span class="octicon octicon-link"></span></a>Containerization Use Cases</h6>
    <p>Microservices architecture, development and testing environments.</p>
    <h6 id="containerization-examples"><a class="anchor" aria-hidden="true" tabindex="-1" href="#containerization-examples"><span class="octicon octicon-link"></span></a>Containerization Examples</h6>
    <p>Docker, Kubernetes, LXC.</p>
    <h5 id="network-virtualization"><a class="anchor" aria-hidden="true" tabindex="-1" href="#network-virtualization"><span class="octicon octicon-link"></span></a>Network Virtualization</h5>
    <h6 id="network-virtualization-definition"><a class="anchor" aria-hidden="true" tabindex="-1" href="#network-virtualization-definition"><span class="octicon octicon-link"></span></a>Network Virtualization Definition</h6>
    <p>Combines hardware and software network resources into a single, software-based administrative entity.</p>
    <h6 id="network-virtualization-use-cases"><a class="anchor" aria-hidden="true" tabindex="-1" href="#network-virtualization-use-cases"><span class="octicon octicon-link"></span></a>Network Virtualization Use Cases</h6>
    <p>Software-defined networking (SDN), network function virtualization (NFV).</p>
    <h6 id="network-virtualization-examples"><a class="anchor" aria-hidden="true" tabindex="-1" href="#network-virtualization-examples"><span class="octicon octicon-link"></span></a>Network Virtualization Examples</h6>
    <p>VMware NSX, Cisco ACI, OpenStack Neutron.</p>
    <h5 id="storage-virtualization"><a class="anchor" aria-hidden="true" tabindex="-1" href="#storage-virtualization"><span class="octicon octicon-link"></span></a>Storage Virtualization</h5>
    <h6 id="storage-virtualizationdefinition"><a class="anchor" aria-hidden="true" tabindex="-1" href="#storage-virtualizationdefinition"><span class="octicon octicon-link"></span></a>Storage VirtualizationDefinition</h6>
    <p>Pools physical storage from multiple devices into a single virtual storage unit that can be managed centrally.</p>
    <h6 id="storage-virtualizationdefinition-use-cases"><a class="anchor" aria-hidden="true" tabindex="-1" href="#storage-virtualizationdefinition-use-cases"><span class="octicon octicon-link"></span></a>Storage VirtualizationDefinition Use Cases</h6>
    <p>Data management, storage optimization, disaster recovery.</p>
    <h6 id="storage-virtualizationdefinition-examples"><a class="anchor" aria-hidden="true" tabindex="-1" href="#storage-virtualizationdefinition-examples"><span class="octicon octicon-link"></span></a>Storage VirtualizationDefinition Examples</h6>
    <p>IBM SAN Volume Controller, VMware vSAN, NetApp ONTAP.</p>
    <h5 id="desktop-virtualization"><a class="anchor" aria-hidden="true" tabindex="-1" href="#desktop-virtualization"><span class="octicon octicon-link"></span></a>Desktop Virtualization</h5>
    <h6 id="desktop-virtualization-definition"><a class="anchor" aria-hidden="true" tabindex="-1" href="#desktop-virtualization-definition"><span class="octicon octicon-link"></span></a>Desktop Virtualization Definition</h6>
    <p>Allows a desktop operating system to run on a virtual machine hosted on a server.</p>
    <h6 id="desktop-virtualization-definition-use-cases"><a class="anchor" aria-hidden="true" tabindex="-1" href="#desktop-virtualization-definition-use-cases"><span class="octicon octicon-link"></span></a>Desktop Virtualization Definition Use Cases</h6>
    <p>Virtual desktop infrastructure (VDI), remote work solutions.</p>
    <h6 id="desktop-virtualization-definition-examples"><a class="anchor" aria-hidden="true" tabindex="-1" href="#desktop-virtualization-definition-examples"><span class="octicon octicon-link"></span></a>Desktop Virtualization Definition Examples</h6>
    <p>Citrix Virtual Apps and Desktops, VMware Horizon, Microsoft Remote Desktop Services.</p>
    <h5 id="application-virtualization"><a class="anchor" aria-hidden="true" tabindex="-1" href="#application-virtualization"><span class="octicon octicon-link"></span></a>Application Virtualization</h5>
    <h6 id="application-virtualizationdefinition"><a class="anchor" aria-hidden="true" tabindex="-1" href="#application-virtualizationdefinition"><span class="octicon octicon-link"></span></a>Application VirtualizationDefinition</h6>
    <p>Separates applications from the underlying hardware and operating system, allowing them to run in isolated environments.</p>
    <h6 id="application-virtualizationdefinition-use-cases"><a class="anchor" aria-hidden="true" tabindex="-1" href="#application-virtualizationdefinition-use-cases"><span class="octicon octicon-link"></span></a>Application VirtualizationDefinition Use Cases</h6>
    <p>Simplified application deployment, compatibility testing.</p>
    <h6 id="application-virtualizationdefinition-examples"><a class="anchor" aria-hidden="true" tabindex="-1" href="#application-virtualizationdefinition-examples"><span class="octicon octicon-link"></span></a>Application VirtualizationDefinition Examples</h6>
    <p>VMware ThinApp, Microsoft App-V, Citrix XenApp.</p>
    <h5 id="data-virtualization"><a class="anchor" aria-hidden="true" tabindex="-1" href="#data-virtualization"><span class="octicon octicon-link"></span></a>Data Virtualization</h5>
    <h6 id="data-virtualizationdefinition"><a class="anchor" aria-hidden="true" tabindex="-1" href="#data-virtualizationdefinition"><span class="octicon octicon-link"></span></a>Data VirtualizationDefinition</h6>
    <p>Integrates data from various sources without physically consolidating it, providing a unified view for analysis and reporting.</p>
    <h6 id="data-virtualizationdefinition-use-cases"><a class="anchor" aria-hidden="true" tabindex="-1" href="#data-virtualizationdefinition-use-cases"><span class="octicon octicon-link"></span></a>Data VirtualizationDefinition Use Cases</h6>
    <p>Business intelligence, real-time data integration.</p>
    <h6 id="data-virtualizationdefinition-examples"><a class="anchor" aria-hidden="true" tabindex="-1" href="#data-virtualizationdefinition-examples"><span class="octicon octicon-link"></span></a>Data VirtualizationDefinition Examples</h6>
    <p>Denodo, Red Hat JBoss Data Virtualization, IBM InfoSphere.</p>
    <h5 id="benefits-of-virtualization"><a class="anchor" aria-hidden="true" tabindex="-1" href="#benefits-of-virtualization"><span class="octicon octicon-link"></span></a>Benefits of Virtualization</h5>
    <ul>
      <li>Resource Efficiency: Better utilization of physical resources.</li>
      <li>Cost Savings: Reduced hardware and operational costs.</li>
      <li>Scalability: Easy to scale up or down according to demand.</li>
      <li>Flexibility: Supports a variety of workloads and applications.</li>
      <li>Disaster Recovery: Simplified backup and recovery processes.</li>
      <li>Isolation: Improved security through isolation of environments.</li>
    </ul>
    <h4 id="emulation"><a class="anchor" aria-hidden="true" tabindex="-1" href="#emulation"><span class="octicon octicon-link"></span></a>Emulation</h4>
    <p>Emulation involves simulating the behavior of hardware or software on a different platform than originally intended.</p>
    <p>This process allows software designed for one system to run on another system that may have different architecture or operating environment.</p>
    <p>While emulation provides versatility by enabling the execution of unmodified guest operating systems or applications, it often comes with performance overhead.</p>
    <p>This overhead arises because the emulated system needs to interpret and translate instructions meant for the original system into instructions compatible with the host system. As a result, emulation can be slower than native execution, making it less efficient for resource-intensive tasks.</p>
    <p>Despite this drawback, emulation remains valuable for running legacy software, testing applications across different platforms, and facilitating cross-platform development.</p>
    <h4 id="systemd-machined"><a class="anchor" aria-hidden="true" tabindex="-1" href="#systemd-machined"><span class="octicon octicon-link"></span></a>systemd-machined</h4>
    <p>
      The systemd-machined service is dedicated to managing virtual machines and containers within the systemd ecosystem.
      It provides essential functionalities for controlling, monitoring, and maintaining virtual instances, offering robust integration and efficiency within Linux environments.
    </p>
    <p align="right">(<a href="#topic-351.1">back to sub Topic 351.1</a>)</p>
    <p align="right">(<a href="#topic-351">back to Topic 351</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr>
    <p><a name="topic-351.2"></a></p>
    <h3 id="3512-xen"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3512-xen"><span class="octicon octicon-link"></span></a>351.2 Xen</h3>
    <p>
      <img src="images/xen-achitecture.png" alt="xen-architecture">
    </p>
    <p>
      <img src="images/xen-achitecture2.png" alt="xen-architecture">
    </p>
    <p><strong>Weight:</strong> 3</p>
    <p><strong>Description:</strong> Candidates should be able to install, configure, maintain, migrate and troubleshoot Xen installations. The focus is on Xen version 4.x.</p>
    <p><strong>Key Knowledge Areas:</strong></p>
    <ul>
      <li>Understand architecture of Xen, including networking and storage</li>
      <li>Basic configuration of Xen nodes and domains</li>
      <li>Basic management of Xen nodes and domains</li>
      <li>Basic troubleshooting of Xen installations</li>
      <li>Awareness of XAPI</li>
      <li>Awareness of XenStore</li>
      <li>Awareness of Xen Boot Parameters</li>
      <li>Awareness of the xm utility</li>
    </ul>
    <h4 id="xen"><a class="anchor" aria-hidden="true" tabindex="-1" href="#xen"><span class="octicon octicon-link"></span></a>Xen</h4>
    <p>
      <img src="images/xen-panda.png" alt="panda">
    </p>
    <p>Xen is an open-source type-1 (bare-metal) hypervisor, which allows multiple operating systems to run concurrently on the same physical hardware.<br>Xen provides a layer between the physical hardware and virtual machines (VMs), enabling efficient resource sharing and isolation.</p>
    <ul>
      <li><strong>Architecture:</strong> Xen operates with a two-tier system where Domain 0 (Dom0) is the privileged domain with direct hardware access and manages the hypervisor. Other virtual machines, called Domain U (DomU), run guest operating systems and are managed by Dom0.</li>
      <li>
        <strong>Types of Virtualization:</strong> Xen supports both paravirtualization (PV), which requires modified guest OS, and hardware-assisted virtualization (HVM), which uses hardware extensions (e.g., Intel VT-x or AMD-V) to run unmodified guest operating systems.
        Xen is widely used in cloud environments, notably by Amazon Web Services (AWS) and other large-scale cloud providers.
      </li>
    </ul>
    <h4 id="xensource"><a class="anchor" aria-hidden="true" tabindex="-1" href="#xensource"><span class="octicon octicon-link"></span></a>XenSource</h4>
    <p>XenSource was the company founded by the original developers of the Xen hypervisor at the University of Cambridge to commercialize Xen.<br>The company provided enterprise solutions based on Xen and offered additional tools and support to enhance Xenâ€™s capabilities for enterprise use.</p>
    <ul>
      <li><strong>Acquisition by Citrix</strong>: In 2007, XenSource was acquired by Citrix Systems, Inc. Citrix used Xen technology as the foundation for its Citrix XenServer product, which became a popular enterprise-grade virtualization platform based on Xen.</li>
      <li><strong>Transition</strong>: After the acquisition, the Xen project continued as an open-source project, while Citrix focused on commercial offerings like XenServer, leveraging XenSource technology.</li>
    </ul>
    <h4 id="xen-project"><a class="anchor" aria-hidden="true" tabindex="-1" href="#xen-project"><span class="octicon octicon-link"></span></a>Xen Project</h4>
    <p>Xen Project refers to the open-source community and initiative responsible for developing and maintaining the Xen hypervisor after its commercialization.<br>The Xen Project operates under the Linux Foundation, with a focus on building, improving, and supporting Xen as a collaborative, community-driven effort.</p>
    <ul>
      <li><strong>Goals:</strong> The Xen Project aims to advance the hypervisor by improving its performance, security, and feature set for a wide range of use cases, including cloud computing, security-focused virtualization (e.g., Qubes OS), and embedded systems.</li>
      <li><strong>Contributors:</strong> The project includes contributors from various organizations, including major cloud providers, hardware vendors, and independent developers.</li>
      <li><strong>XAPI and XenTools:</strong> The Xen Project also includes tools such as XAPI (XenAPI), which is used for managing Xen hypervisor installations, and various other utilities for system management and optimization.</li>
    </ul>
    <h4 id="xenstore"><a class="anchor" aria-hidden="true" tabindex="-1" href="#xenstore"><span class="octicon octicon-link"></span></a>XenStore</h4>
    <p>Xen Store is a critical component of the Xen Hypervisor.<br>Essentially, Xen Store is a distributed key-value database used for communication and information sharing between the Xen hypervisor and the virtual machines (also known as domains) it manages.</p>
    <p>Here are some key aspects of Xen Store:</p>
    <ul>
      <li>
        <p><strong>Inter-Domain Communication:</strong> Xen Store enables communication between domains, such as Dom0 (the privileged domain that controls hardware resources) and DomUs (user domains, which are the VMs). This is done through key-value entries, where each domain can read or write information.</p>
      </li>
      <li>
        <p><strong>Configuration Management:</strong> It is used to store and access configuration information, such as virtual devices, networking, and boot parameters. This facilitates the dynamic management and configuration of VMs.</p>
      </li>
      <li>
        <p><strong>Events and Notifications:</strong> Xen Store also supports event notifications. When a particular key or value in the Xen Store is modified, interested domains can be notified to react to these changes. This is useful for monitoring and managing resources.</p>
      </li>
      <li>
        <p>Simple API: Xen Store provides a simple API for reading and writing data, making it easy for developers to integrate their applications with the Xen virtualization system.</p>
      </li>
    </ul>
    <h4 id="xapi"><a class="anchor" aria-hidden="true" tabindex="-1" href="#xapi"><span class="octicon octicon-link"></span></a>XAPI</h4>
    <p>XAPI, or XenAPI, is the application programming interface (API) used to manage the Xen Hypervisor and its virtual machines (VMs).<br>XAPI is a key component of XenServer (now known as Citrix Hypervisor) and provides a standardized way to interact with the Xen hypervisor to perform operations such as creating, configuring, monitoring, and controlling VMs.</p>
    <p>Here are some important aspects of XAPI:</p>
    <ul>
      <li>
        <p><strong>VM Management:</strong> XAPI allows administrators to programmatically create, delete, start, and stop virtual machines.</p>
      </li>
      <li>
        <p><strong>Automation:</strong> With XAPI, it's possible to automate the management of virtual resources, including networking, storage, and computing, which is crucial for large cloud environments.</p>
      </li>
      <li>
        <p><strong>Integration:</strong> XAPI can be integrated with other tools and scripts to provide more efficient and customized administration of the Xen environment.</p>
      </li>
      <li>
        <p><strong>Access Control:</strong> XAPI also provides access control mechanisms to ensure that only authorized users can perform specific operations in the virtual environment.</p>
      </li>
    </ul>
    <p>XAPI is the interface that enables control and automation of the Xen Hypervisor, making it easier to manage virtualized environments.</p>
    <h4 id="xen-summary"><a class="anchor" aria-hidden="true" tabindex="-1" href="#xen-summary"><span class="octicon octicon-link"></span></a>Xen Summary</h4>
    <ul>
      <li><strong>Xen:</strong> The core hypervisor technology enabling virtual machines to run on physical hardware.</li>
      <li><strong>XenSource:</strong> The company that commercialized Xen, later acquired by Citrix, leading to the development of Citrix XenServer.</li>
      <li><strong>Xen Project:</strong> The open-source initiative and community that continues to develop and maintain the Xen hypervisor under the Linux Foundation.</li>
      <li><strong>XenStore:</strong> Xen Store acts as a communication and configuration intermediary between the Xen hypervisor and the VMs, streamlining the operation and management of virtualized environments.</li>
      <li><strong>XAPI</strong> is the interface that enables control and automation of the Xen Hypervisor, making it easier to manage virtualized environments.</li>
    </ul>
    <h4 id="domain0-dom0"><a class="anchor" aria-hidden="true" tabindex="-1" href="#domain0-dom0"><span class="octicon octicon-link"></span></a>Domain0 (Dom0)</h4>
    <p>Domain0, or Dom0, is the control domain in a Xen architecture. It manages other domains (DomUs) and has direct access to hardware.<br>Dom0 runs device drivers, allowing DomUs, which lack direct hardware access, to communicate with devices. Typically, it is a full instance of an operating system, like Linux, and is essential for Xen hypervisor operation.</p>
    <h4 id="domainu-domu"><a class="anchor" aria-hidden="true" tabindex="-1" href="#domainu-domu"><span class="octicon octicon-link"></span></a>DomainU (DomU)</h4>
    <p>DomUs are non-privileged domains that run virtual machines.<br>They are managed by Dom0 and do not have direct access to hardware. DomUs can be configured to run different operating systems and are used for various purposes, such as application servers and development environments. They rely on Dom0 for hardware interaction.</p>
    <h4 id="pv-domu-paravirtualized-domainu"><a class="anchor" aria-hidden="true" tabindex="-1" href="#pv-domu-paravirtualized-domainu"><span class="octicon octicon-link"></span></a>PV-DomU (Paravirtualized DomainU)</h4>
    <p>PV-DomUs use a technique called paravirtualization. In this model, the DomU operating system is modified to be aware that it runs in a virtualized environment, allowing it to communicate directly with the hypervisor for optimized performance.<br>This results in lower overhead and better efficiency compared to full virtualization.</p>
    <h4 id="hvm-domu-hardware-virtual-machine-domainu"><a class="anchor" aria-hidden="true" tabindex="-1" href="#hvm-domu-hardware-virtual-machine-domainu"><span class="octicon octicon-link"></span></a>HVM-DomU (Hardware Virtual Machine DomainU)</h4>
    <p>HVM-DomUs are virtual machines that utilize full virtualization, allowing unmodified operating systems to run. The Xen hypervisor provides hardware emulation for these DomUs, enabling them to run any operating system that supports the underlying hardware architecture.<br>While this offers greater flexibility, it can result in higher overhead compared to PV-DomUs.</p>
    <h4 id="xen-network"><a class="anchor" aria-hidden="true" tabindex="-1" href="#xen-network"><span class="octicon octicon-link"></span></a>Xen Network</h4>
    <p>
      Paravirtualised Network Devices
      
      <img src="images/xen-networking2.png" alt="pv-networking">
    </p>
    <p>
      Bridging
      
      <img src="images/xen-networking1.png" alt="pv-networking">
    </p>
    <h4 id="3512-cited-objects"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3512-cited-objects"><span class="octicon octicon-link"></span></a>351.2 Cited Objects</h4>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">Domain0 <span class="token punctuation">(</span>Dom0<span class="token punctuation">)</span>, DomainU <span class="token punctuation">(</span>DomU<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="2">PV-DomU, HVM-DomU
</span><span class="code-line line-number" line="3">/etc/xen/
</span><span class="code-line line-number" line="4">xl
</span><span class="code-line line-number" line="5">xl.cfg 
</span><span class="code-line line-number" line="6">xl.conf <span class="token comment"># Xen global configurations</span>
</span><span class="code-line line-number" line="7">xentop
</span><span class="code-line line-number" line="8">oxenstored <span class="token comment"># Xenstore configurations</span>
</span></code><div onclick="copied(this)" data-code="Domain0 (Dom0), DomainU (DomU)
PV-DomU, HVM-DomU
/etc/xen/
xl
xl.cfg 
xl.conf # Xen global configurations
xentop
oxenstored # Xenstore configurations
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="3512-notes"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3512-notes"><span class="octicon octicon-link"></span></a>351.2 Notes</h4>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">
</span><span class="code-line line-number" line="2"><span class="token comment"># Xen Settings</span>
</span><span class="code-line line-number" line="3">/etc/xen/
</span><span class="code-line line-number" line="4">/etc/xen/xl.conf - Main general configuration <span class="token function">file</span> <span class="token keyword">for</span> Xen
</span><span class="code-line line-number" line="5">/etc/xen/oxenstored.conf - Xenstore configurations
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token comment"># VM Configurations</span>
</span><span class="code-line line-number" line="8">/etc/xen/xlexample.pvlinux
</span><span class="code-line line-number" line="9">/etc/xen/xlexample.hvm
</span><span class="code-line line-number" line="10">
</span><span class="code-line line-number" line="11"><span class="token comment"># Service Configurations</span>
</span><span class="code-line line-number" line="12">/etc/default/xen
</span><span class="code-line line-number" line="13">/etc/default/xendomains
</span><span class="code-line line-number" line="14">
</span><span class="code-line line-number" line="15"><span class="token comment"># xen-tools configurations</span>
</span><span class="code-line line-number" line="16">/etc/xen-tools/
</span><span class="code-line line-number" line="17">/usr/share/xen-tools/
</span><span class="code-line line-number" line="18">
</span><span class="code-line line-number" line="19"><span class="token comment"># docs</span>
</span><span class="code-line line-number" line="20">xl<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="21">xl.conf<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="22">xlcpupool.cfg<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="23">xl-disk-configuration<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="24">xl-network-configuration<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="25">xen-tscmode<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="26">
</span><span class="code-line line-number" line="27"><span class="token comment"># initialized domains auto</span>
</span><span class="code-line line-number" line="28">/etc/default/xendomains
</span><span class="code-line line-number" line="29">   <span class="token assign-left variable">XENDOMAINS_AUTO</span><span class="token operator">=</span>/etc/xen/auto
</span><span class="code-line line-number" line="30">
</span><span class="code-line line-number" line="31">/etc/xen/auto/
</span><span class="code-line line-number" line="32">
</span><span class="code-line line-number" line="33">
</span><span class="code-line line-number" line="34"><span class="token comment"># set domain for up after xen reboot</span>
</span><span class="code-line line-number" line="35"><span class="token comment">## create folder auto</span>
</span><span class="code-line line-number" line="36"><span class="token builtin class-name">cd</span> /etc/xen <span class="token operator">&#x26;&#x26;</span> <span class="token function">mkdir</span> <span class="token parameter variable">-p</span> auto <span class="token operator">&#x26;&#x26;</span> <span class="token builtin class-name">cd</span> auto
</span><span class="code-line line-number" line="37">
</span><span class="code-line line-number" line="38"><span class="token comment"># create simbolic link</span>
</span><span class="code-line line-number" line="39"><span class="token function">ln</span> <span class="token parameter variable">-s</span> /etc/xen/lpic3-pv-guest /etc/xen/auto/lpic3-pv-guest
</span></code><div onclick="copied(this)" data-code="
# Xen Settings
/etc/xen/
/etc/xen/xl.conf - Main general configuration file for Xen
/etc/xen/oxenstored.conf - Xenstore configurations

# VM Configurations
/etc/xen/xlexample.pvlinux
/etc/xen/xlexample.hvm

# Service Configurations
/etc/default/xen
/etc/default/xendomains

# xen-tools configurations
/etc/xen-tools/
/usr/share/xen-tools/

# docs
xl(1)
xl.conf(5)
xlcpupool.cfg(5)
xl-disk-configuration(5)
xl-network-configuration(5)
xen-tscmode(7)

# initialized domains auto
/etc/default/xendomains
   XENDOMAINS_AUTO=/etc/xen/auto

/etc/xen/auto/


# set domain for up after xen reboot
## create folder auto
cd /etc/xen &#x26;&#x26; mkdir -p auto &#x26;&#x26; cd auto

# create simbolic link
ln -s /etc/xen/lpic3-pv-guest /etc/xen/auto/lpic3-pv-guest
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="3512-important-commands"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3512-important-commands"><span class="octicon octicon-link"></span></a>351.2 Important Commands</h4>
    <h5 id="xen-create-image"><a class="anchor" aria-hidden="true" tabindex="-1" href="#xen-create-image"><span class="octicon octicon-link"></span></a>xen-create-image</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># create a pv image</span>
</span><span class="code-line line-number" line="2">xen-create-image <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="3">  <span class="token parameter variable">--hostname</span><span class="token operator">=</span>lpic3-pv-guest <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="4">  <span class="token parameter variable">--memory</span><span class="token operator">=</span>1gb <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="5">  <span class="token parameter variable">--vcpus</span><span class="token operator">=</span><span class="token number">2</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="6">  <span class="token parameter variable">--lvm</span><span class="token operator">=</span>vg_xen <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="7">  <span class="token parameter variable">--bridge</span><span class="token operator">=</span>xenbr0 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="8">  <span class="token parameter variable">--dhcp</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="9">  <span class="token parameter variable">--pygrub</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="10">  <span class="token parameter variable">--password</span><span class="token operator">=</span>vagrant <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="11">  <span class="token parameter variable">--dist</span><span class="token operator">=</span>bookworm
</span></code><div onclick="copied(this)" data-code="# create a pv image
xen-create-image \
  --hostname=lpic3-pv-guest \
  --memory=1gb \
  --vcpus=2 \
  --lvm=vg_xen \
  --bridge=xenbr0 \
  --dhcp \
  --pygrub \
  --password=vagrant \
  --dist=bookworm
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="xen-list-images"><a class="anchor" aria-hidden="true" tabindex="-1" href="#xen-list-images"><span class="octicon octicon-link"></span></a>xen-list-images</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># list image</span>
</span><span class="code-line line-number" line="2">xen-list-image
</span></code><div onclick="copied(this)" data-code="# list image
xen-list-image
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="xen-delete-image"><a class="anchor" aria-hidden="true" tabindex="-1" href="#xen-delete-image"><span class="octicon octicon-link"></span></a>xen-delete-image</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># delete a pv image</span>
</span><span class="code-line line-number" line="2">xen-delete-image lpic3-pv-guest <span class="token parameter variable">--lvm</span><span class="token operator">=</span>vg_xen
</span></code><div onclick="copied(this)" data-code="# delete a pv image
xen-delete-image lpic3-pv-guest --lvm=vg_xen
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="xenstore-ls"><a class="anchor" aria-hidden="true" tabindex="-1" href="#xenstore-ls"><span class="octicon octicon-link"></span></a>xenstore-ls</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># list xenstore infos</span>
</span><span class="code-line line-number" line="2">xenstore-ls
</span></code><div onclick="copied(this)" data-code="# list xenstore infos
xenstore-ls
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="xl"><a class="anchor" aria-hidden="true" tabindex="-1" href="#xl"><span class="octicon octicon-link"></span></a>xl</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># view xen information</span>
</span><span class="code-line line-number" line="2">xl infos
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># list Domains</span>
</span><span class="code-line line-number" line="5">xl list
</span><span class="code-line line-number" line="6">xl list lpic3-hvm-guest
</span><span class="code-line line-number" line="7">xl list lpic3-hvm-guest <span class="token parameter variable">-l</span>
</span><span class="code-line line-number" line="8">
</span><span class="code-line line-number" line="9"><span class="token comment"># uptime Domains</span>
</span><span class="code-line line-number" line="10">xl <span class="token function">uptime</span>
</span><span class="code-line line-number" line="11">
</span><span class="code-line line-number" line="12"><span class="token comment"># pause Domain</span>
</span><span class="code-line line-number" line="13">xl pause <span class="token number">2</span>
</span><span class="code-line line-number" line="14">xl pause lpic3-hvm-guest
</span><span class="code-line line-number" line="15">
</span><span class="code-line line-number" line="16"><span class="token comment"># save state Domains</span>
</span><span class="code-line line-number" line="17">xl <span class="token parameter variable">-v</span> save lpic3-hvm-guest ~root/image-lpic3-hvm-guest.save
</span><span class="code-line line-number" line="18">
</span><span class="code-line line-number" line="19"><span class="token comment"># restore Domain</span>
</span><span class="code-line line-number" line="20">xl restore /root/image-lpic3-hvm-guest.save
</span><span class="code-line line-number" line="21">
</span><span class="code-line line-number" line="22"><span class="token comment"># get Domain name</span>
</span><span class="code-line line-number" line="23">xl domname <span class="token number">2</span>
</span><span class="code-line line-number" line="24">
</span><span class="code-line line-number" line="25"><span class="token comment"># view dmesg information</span>
</span><span class="code-line line-number" line="26">xl <span class="token function">dmesg</span>
</span><span class="code-line line-number" line="27">
</span><span class="code-line line-number" line="28"><span class="token comment"># monitoring domain</span>
</span><span class="code-line line-number" line="29">xl <span class="token function">top</span>
</span><span class="code-line line-number" line="30">xentop
</span><span class="code-line line-number" line="31">xen <span class="token function">top</span>
</span><span class="code-line line-number" line="32">
</span><span class="code-line line-number" line="33"><span class="token comment"># Limit mem Dom0</span>
</span><span class="code-line line-number" line="34">xl mem-set <span class="token number">0</span> <span class="token number">2048</span>
</span><span class="code-line line-number" line="35">
</span><span class="code-line line-number" line="36"><span class="token comment"># Limite cpu (not permanent after boot)</span>
</span><span class="code-line line-number" line="37">xl vcpu-set <span class="token number">0</span> <span class="token number">2</span>
</span><span class="code-line line-number" line="38">
</span><span class="code-line line-number" line="39"><span class="token comment"># create DomainU - virtual machine</span>
</span><span class="code-line line-number" line="40">xl create /etc/xen/lpic3-pv-guest.cfg
</span><span class="code-line line-number" line="41">
</span><span class="code-line line-number" line="42"><span class="token comment"># create DomainU virtual machine and connect to guest</span>
</span><span class="code-line line-number" line="43">xl create <span class="token parameter variable">-c</span> /etc/xen/lpic3-pv-guest.cfg
</span><span class="code-line line-number" line="44">
</span><span class="code-line line-number" line="45"><span class="token comment">##----------------------------------------------</span>
</span><span class="code-line line-number" line="46"><span class="token comment"># create DomainU virtual machine HVM</span>
</span><span class="code-line line-number" line="47">
</span><span class="code-line line-number" line="48"><span class="token comment">## create logical volume</span>
</span><span class="code-line line-number" line="49">lvcreate <span class="token parameter variable">-l</span> +20%FREE <span class="token parameter variable">-n</span> lpic3-hvm-guest-disk  vg_xen
</span><span class="code-line line-number" line="50">
</span><span class="code-line line-number" line="51"><span class="token comment">## create a ssh tunel for vnc</span>
</span><span class="code-line line-number" line="52"><span class="token function">ssh</span> <span class="token parameter variable">-l</span> vagrant <span class="token parameter variable">-L</span> <span class="token number">5900</span>:localhost:5900  <span class="token number">192.168</span>.0.130
</span><span class="code-line line-number" line="53">
</span><span class="code-line line-number" line="54"><span class="token comment">## configure /etc/xen/lpic3-hvm-guest.cfg</span>
</span><span class="code-line line-number" line="55"><span class="token comment">## set boot for cdrom: boot = "d"</span>
</span><span class="code-line line-number" line="56">
</span><span class="code-line line-number" line="57"><span class="token comment">## create domain hvm</span>
</span><span class="code-line line-number" line="58">xl create /etc/xen/lpic3-hvm-guest.cfg
</span><span class="code-line line-number" line="59">
</span><span class="code-line line-number" line="60"><span class="token comment">## open vcn conection in your vnc client with localhost</span>
</span><span class="code-line line-number" line="61"><span class="token comment">## for view install details</span>
</span><span class="code-line line-number" line="62">
</span><span class="code-line line-number" line="63"><span class="token comment">## after installation finished, destroy domain: xl destroy &#x3C;id_or_name></span>
</span><span class="code-line line-number" line="64">
</span><span class="code-line line-number" line="65"><span class="token comment">## set /etc/xen/lpic3-hvm-guest.cfg: boot for hard disc: boot = "c"</span>
</span><span class="code-line line-number" line="66">
</span><span class="code-line line-number" line="67"><span class="token comment">## create domain hvm</span>
</span><span class="code-line line-number" line="68">xl create /etc/xen/lpic3-hvm-guest.cfg
</span><span class="code-line line-number" line="69">
</span><span class="code-line line-number" line="70"><span class="token comment">## access domain hvm</span>
</span><span class="code-line line-number" line="71">xl console <span class="token operator">&#x3C;</span>id_or_name<span class="token operator">></span>
</span><span class="code-line line-number" line="72"><span class="token comment">##----------------------------------------------</span>
</span><span class="code-line line-number" line="73">
</span><span class="code-line line-number" line="74"><span class="token comment"># connect in domain guest</span>
</span><span class="code-line line-number" line="75">xl console <span class="token operator">&#x3C;</span>id<span class="token operator">>|</span><span class="token operator">&#x3C;</span>name<span class="token operator">></span> <span class="token punctuation">(</span>press enter<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="76">xl console <span class="token number">1</span>
</span><span class="code-line line-number" line="77">xl console lpic3-pv-guest
</span><span class="code-line line-number" line="78">
</span><span class="code-line line-number" line="79"><span class="token comment">#How do I exit domU "xl console" session</span>
</span><span class="code-line line-number" line="80"><span class="token comment">#Press ctrl+] or if you're using Putty press ctrl+5.</span>
</span><span class="code-line line-number" line="81">
</span><span class="code-line line-number" line="82"><span class="token comment"># Poweroff domain</span>
</span><span class="code-line line-number" line="83">xl <span class="token function">shutdown</span> lpic3-pv-guest
</span><span class="code-line line-number" line="84">
</span><span class="code-line line-number" line="85"><span class="token comment"># destroy domain</span>
</span><span class="code-line line-number" line="86">xl destroy lpic3-pv-guest
</span><span class="code-line line-number" line="87">
</span><span class="code-line line-number" line="88"><span class="token comment"># reboot domain</span>
</span><span class="code-line line-number" line="89">xl <span class="token function">reboot</span> lpic3-pv-guest
</span><span class="code-line line-number" line="90">
</span><span class="code-line line-number" line="91"><span class="token comment"># list block devices</span>
</span><span class="code-line line-number" line="92">xl block-list <span class="token number">1</span>
</span><span class="code-line line-number" line="93">xl block-list lpic3-pv-guest
</span><span class="code-line line-number" line="94">
</span><span class="code-line line-number" line="95"><span class="token comment"># detach block devices</span>
</span><span class="code-line line-number" line="96">xl block-detach lpic3-hvm-guest hdc
</span><span class="code-line line-number" line="97">xl block-detach <span class="token number">2</span> xvdc
</span><span class="code-line line-number" line="98">
</span><span class="code-line line-number" line="99"><span class="token comment"># attach block devices</span>
</span><span class="code-line line-number" line="100">
</span><span class="code-line line-number" line="101"><span class="token comment">## hard disk devices</span>
</span><span class="code-line line-number" line="102">xl block-attach lpic3-hvm-guest-ubuntu <span class="token string">'phy:/dev/vg_xen/lpic3-hvm-guest-disk2,xvde,w'</span>
</span><span class="code-line line-number" line="103">
</span><span class="code-line line-number" line="104"><span class="token comment">## cdrom</span>
</span><span class="code-line line-number" line="105">xl block-attach lpic3-hvm-guest <span class="token string">'file:/home/vagrant/isos/ubuntu/seed.iso,xvdc:cdrom,r'</span>
</span><span class="code-line line-number" line="106">xl block-attach <span class="token number">2</span> <span class="token string">'file:/home/vagrant/isos/ubuntu/seed.iso,xvdc:cdrom,r'</span>
</span><span class="code-line line-number" line="107">
</span><span class="code-line line-number" line="108"><span class="token comment"># insert and eject cdrom devices</span>
</span><span class="code-line line-number" line="109">xl cd-insert lpic3-hvm-guest-ubuntu xvdb  /home/vagrant/isos/ubuntu/ubuntu-24.04.1-live-server-amd64.iso
</span><span class="code-line line-number" line="110">xl cd-eject lpic3-hvm-guest-ubuntu xvdb
</span></code><div onclick="copied(this)" data-code="# view xen information
xl infos

# list Domains
xl list
xl list lpic3-hvm-guest
xl list lpic3-hvm-guest -l

# uptime Domains
xl uptime

# pause Domain
xl pause 2
xl pause lpic3-hvm-guest

# save state Domains
xl -v save lpic3-hvm-guest ~root/image-lpic3-hvm-guest.save

# restore Domain
xl restore /root/image-lpic3-hvm-guest.save

# get Domain name
xl domname 2

# view dmesg information
xl dmesg

# monitoring domain
xl top
xentop
xen top

# Limit mem Dom0
xl mem-set 0 2048

# Limite cpu (not permanent after boot)
xl vcpu-set 0 2

# create DomainU - virtual machine
xl create /etc/xen/lpic3-pv-guest.cfg

# create DomainU virtual machine and connect to guest
xl create -c /etc/xen/lpic3-pv-guest.cfg

##----------------------------------------------
# create DomainU virtual machine HVM

## create logical volume
lvcreate -l +20%FREE -n lpic3-hvm-guest-disk  vg_xen

## create a ssh tunel for vnc
ssh -l vagrant -L 5900:localhost:5900  192.168.0.130

## configure /etc/xen/lpic3-hvm-guest.cfg
## set boot for cdrom: boot = &#x22;d&#x22;

## create domain hvm
xl create /etc/xen/lpic3-hvm-guest.cfg

## open vcn conection in your vnc client with localhost
## for view install details

## after installation finished, destroy domain: xl destroy <id_or_name>

## set /etc/xen/lpic3-hvm-guest.cfg: boot for hard disc: boot = &#x22;c&#x22;

## create domain hvm
xl create /etc/xen/lpic3-hvm-guest.cfg

## access domain hvm
xl console <id_or_name>
##----------------------------------------------

# connect in domain guest
xl console <id>|<name> (press enter)
xl console 1
xl console lpic3-pv-guest

#How do I exit domU &#x22;xl console&#x22; session
#Press ctrl+] or if you&#x27;re using Putty press ctrl+5.

# Poweroff domain
xl shutdown lpic3-pv-guest

# destroy domain
xl destroy lpic3-pv-guest

# reboot domain
xl reboot lpic3-pv-guest

# list block devices
xl block-list 1
xl block-list lpic3-pv-guest

# detach block devices
xl block-detach lpic3-hvm-guest hdc
xl block-detach 2 xvdc

# attach block devices

## hard disk devices
xl block-attach lpic3-hvm-guest-ubuntu &#x27;phy:/dev/vg_xen/lpic3-hvm-guest-disk2,xvde,w&#x27;

## cdrom
xl block-attach lpic3-hvm-guest &#x27;file:/home/vagrant/isos/ubuntu/seed.iso,xvdc:cdrom,r&#x27;
xl block-attach 2 &#x27;file:/home/vagrant/isos/ubuntu/seed.iso,xvdc:cdrom,r&#x27;

# insert and eject cdrom devices
xl cd-insert lpic3-hvm-guest-ubuntu xvdb  /home/vagrant/isos/ubuntu/ubuntu-24.04.1-live-server-amd64.iso
xl cd-eject lpic3-hvm-guest-ubuntu xvdb
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="2512-notes"><a class="anchor" aria-hidden="true" tabindex="-1" href="#2512-notes"><span class="octicon octicon-link"></span></a>251.2 Notes</h4>
    <h5 id="vif"><a class="anchor" aria-hidden="true" tabindex="-1" href="#vif"><span class="octicon octicon-link"></span></a>vif</h5>
    <p>In Xen, â€œvifâ€ stands for Virtual Interface and is used to configure networking for virtual machines (domains).</p>
    <p>By specifying â€œvifâ€ directives in the domain configuration files, administrators can define network interfaces, assign IP addresses, set up VLANs, and configure other networking parameters for virtual machines running on Xen hosts. For example: vif = [â€˜bridge=xenbr0â€™], in this case, it connects the VMâ€™s network interface to the Xen bridge named â€œxenbr0â€.</p>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">
</span><span class="code-line line-number" line="2"><span class="token operator">&#x3C;</span>p <span class="token assign-left variable">align</span><span class="token operator">=</span><span class="token string">"right"</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token operator">&#x3C;</span>a <span class="token assign-left variable">href</span><span class="token operator">=</span><span class="token string">"#topic-351.2"</span><span class="token operator">></span>back to sub Topic <span class="token number">351</span>.<span class="token operator"><span class="token file-descriptor important">2</span>&#x3C;</span>/a<span class="token operator">></span><span class="token punctuation">)</span><span class="token operator">&#x3C;</span>/p<span class="token operator">></span>
</span><span class="code-line line-number" line="3"><span class="token operator">&#x3C;</span>p <span class="token assign-left variable">align</span><span class="token operator">=</span><span class="token string">"right"</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token operator">&#x3C;</span>a <span class="token assign-left variable">href</span><span class="token operator">=</span><span class="token string">"#topic-351"</span><span class="token operator">></span>back to Topic <span class="token number">35</span><span class="token operator"><span class="token file-descriptor important">1</span>&#x3C;</span>/a<span class="token operator">></span><span class="token punctuation">)</span><span class="token operator">&#x3C;</span>/p<span class="token operator">></span>
</span><span class="code-line line-number" line="4"><span class="token operator">&#x3C;</span>p <span class="token assign-left variable">align</span><span class="token operator">=</span><span class="token string">"right"</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token operator">&#x3C;</span>a <span class="token assign-left variable">href</span><span class="token operator">=</span><span class="token string">"#readme-top"</span><span class="token operator">></span>back to top<span class="token operator">&#x3C;</span>/a<span class="token operator">></span><span class="token punctuation">)</span><span class="token operator">&#x3C;</span>/p<span class="token operator">></span>
</span><span class="code-line line-number" line="5">
</span><span class="code-line line-number" line="6">---
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8"><span class="token operator">&#x3C;</span>a <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">"topic-351.3"</span><span class="token operator">></span><span class="token operator">&#x3C;</span>/a<span class="token operator">></span>
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10"><span class="token comment">### 351.3 QEMU</span>
</span><span class="code-line line-number" line="11">
</span><span class="code-line line-number" line="12"><span class="token operator">!</span><span class="token punctuation">[</span>xen-kvm-qemu<span class="token punctuation">]</span><span class="token punctuation">(</span>/images/xen-kvm-qemu.png<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="13">
</span><span class="code-line line-number" line="14">**Weight:** <span class="token number">4</span>
</span><span class="code-line line-number" line="15">
</span><span class="code-line line-number" line="16">**Description:** Candidates should be able to install, configure, maintain, migrate and troubleshoot QEMU installations.
</span><span class="code-line line-number" line="17">
</span><span class="code-line line-number" line="18">**Key Knowledge Areas:**
</span><span class="code-line line-number" line="19">
</span><span class="code-line line-number" line="20">* Understand the architecture of QEMU, including KVM, networking and storage
</span><span class="code-line line-number" line="21">* Start QEMU instances from the <span class="token builtin class-name">command</span> line
</span><span class="code-line line-number" line="22">* Manage snapshots using the QEMU monitor
</span><span class="code-line line-number" line="23">* Install the QEMU Guest Agent and VirtIO device drivers
</span><span class="code-line line-number" line="24">* Troubleshoot QEMU installations, including networking and storage
</span><span class="code-line line-number" line="25">* Awareness of important QEMU configuration parameters
</span><span class="code-line line-number" line="26">
</span><span class="code-line line-number" line="27"><span class="token comment">#### 351.3 Cited Objects</span>
</span><span class="code-line line-number" line="28">
</span><span class="code-line line-number" line="29">```sh
</span><span class="code-line line-number" line="30">Kernel modules: kvm, kvm-intel and kvm-amd
</span><span class="code-line line-number" line="31">/dev/kvm
</span><span class="code-line line-number" line="32">QEMU monitor
</span><span class="code-line line-number" line="33">qemu
</span><span class="code-line line-number" line="34">qemu-system-x86_64
</span><span class="code-line line-number" line="35"><span class="token function">ip</span>
</span><span class="code-line line-number" line="36">brctl
</span><span class="code-line line-number" line="37">tunctl
</span></code><div onclick="copied(this)" data-code="
<p align=&#x22;right&#x22;>(<a href=&#x22;#topic-351.2&#x22;>back to sub Topic 351.2</a>)</p>
<p align=&#x22;right&#x22;>(<a href=&#x22;#topic-351&#x22;>back to Topic 351</a>)</p>
<p align=&#x22;right&#x22;>(<a href=&#x22;#readme-top&#x22;>back to top</a>)</p>

---

<a name=&#x22;topic-351.3&#x22;></a>

### 351.3 QEMU

![xen-kvm-qemu](/images/xen-kvm-qemu.png)

**Weight:** 4

**Description:** Candidates should be able to install, configure, maintain, migrate and troubleshoot QEMU installations.

**Key Knowledge Areas:**

* Understand the architecture of QEMU, including KVM, networking and storage
* Start QEMU instances from the command line
* Manage snapshots using the QEMU monitor
* Install the QEMU Guest Agent and VirtIO device drivers
* Troubleshoot QEMU installations, including networking and storage
* Awareness of important QEMU configuration parameters

#### 351.3 Cited Objects

&#x60;&#x60;&#x60;sh
Kernel modules: kvm, kvm-intel and kvm-amd
/dev/kvm
QEMU monitor
qemu
qemu-system-x86_64
ip
brctl
tunctl
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="3513-important-commands"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3513-important-commands"><span class="octicon octicon-link"></span></a>351.3 Important Commands</h4>
    <h5 id="3513-others-commands"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3513-others-commands"><span class="octicon octicon-link"></span></a>351.3 Others Commands</h5>
    <h5 id="check-kvm-module"><a class="anchor" aria-hidden="true" tabindex="-1" href="#check-kvm-module"><span class="octicon octicon-link"></span></a>check kvm module</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># check if kvm is enabled</span>
</span><span class="code-line line-number" line="2"><span class="token function">egrep</span> <span class="token parameter variable">-o</span> <span class="token string">'(vmx|svm)'</span> /proc/cpuinfo
</span><span class="code-line line-number" line="3">lscpu <span class="token operator">|</span><span class="token function">grep</span> Virtualization
</span><span class="code-line line-number" line="4">lsmod<span class="token operator">|</span><span class="token function">grep</span> kvm
</span><span class="code-line line-number" line="5"><span class="token function">ls</span> <span class="token parameter variable">-l</span> /dev/kvm
</span><span class="code-line line-number" line="6">hostnamectl
</span><span class="code-line line-number" line="7">systemd-detect-virt
</span></code><div onclick="copied(this)" data-code="# check if kvm is enabled
egrep -o &#x27;(vmx|svm)&#x27; /proc/cpuinfo
lscpu |grep Virtualization
lsmod|grep kvm
ls -l /dev/kvm
hostnamectl
systemd-detect-virt
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># check if kvm is enabled</span>
</span><span class="code-line line-number" line="2"><span class="token function">egrep</span> <span class="token parameter variable">-o</span> <span class="token string">'(vmx|svm)'</span> /proc/cpuinfo
</span><span class="code-line line-number" line="3">lscpu <span class="token operator">|</span><span class="token function">grep</span> Virtualization
</span><span class="code-line line-number" line="4">lsmod<span class="token operator">|</span><span class="token function">grep</span> kvm
</span><span class="code-line line-number" line="5"><span class="token function">ls</span> <span class="token parameter variable">-l</span> /dev/kvm
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token comment"># check kernel infos</span>
</span><span class="code-line line-number" line="8"><span class="token function">uname</span> <span class="token parameter variable">-a</span>
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10"><span class="token comment"># check root device</span>
</span><span class="code-line line-number" line="11">findmnt /
</span><span class="code-line line-number" line="12">
</span><span class="code-line line-number" line="13"><span class="token comment"># mount a qcow2 image</span>
</span><span class="code-line line-number" line="14"><span class="token comment">## Example 1:</span>
</span><span class="code-line line-number" line="15"><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /mnt/qemu
</span><span class="code-line line-number" line="16">guestmount <span class="token parameter variable">-a</span> os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2 <span class="token parameter variable">-i</span> /mnt/qemu/
</span><span class="code-line line-number" line="17">
</span><span class="code-line line-number" line="18"><span class="token comment">## Example 2:</span>
</span><span class="code-line line-number" line="19"><span class="token function">sudo</span> guestfish <span class="token parameter variable">--rw</span> <span class="token parameter variable">-a</span> os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2
</span><span class="code-line line-number" line="20">run
</span><span class="code-line line-number" line="21">list-filesystems
</span><span class="code-line line-number" line="22">
</span><span class="code-line line-number" line="23"><span class="token comment"># run commands in qcow2 images</span>
</span><span class="code-line line-number" line="24"><span class="token comment">## Example 1:</span>
</span><span class="code-line line-number" line="25">virt-customize <span class="token parameter variable">-a</span>  os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2  --run-command <span class="token string">'echo hello >/root/hello.txt'</span>
</span><span class="code-line line-number" line="26"><span class="token comment">## Example 2:</span>
</span><span class="code-line line-number" line="27"><span class="token function">sudo</span> virt-customize <span class="token parameter variable">-a</span> os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="28">  --run-command <span class="token string">'echo -e "auto ens3\niface ens3 inet dhcp" > /etc/network/interfaces.d/ens3.cfg'</span>
</span><span class="code-line line-number" line="29">
</span><span class="code-line line-number" line="30"><span class="token comment"># generate mac </span>
</span><span class="code-line line-number" line="31"><span class="token builtin class-name">printf</span> <span class="token string">'DE:AD:BE:EF:%02X:%02X\n'</span> <span class="token variable"><span class="token variable">$((</span>RANDOM<span class="token operator">%</span><span class="token number">256</span><span class="token variable">))</span></span> <span class="token variable"><span class="token variable">$((</span>RANDOM<span class="token operator">%</span><span class="token number">256</span><span class="token variable">))</span></span>
</span></code><div onclick="copied(this)" data-code="# check if kvm is enabled
egrep -o &#x27;(vmx|svm)&#x27; /proc/cpuinfo
lscpu |grep Virtualization
lsmod|grep kvm
ls -l /dev/kvm

# check kernel infos
uname -a

# check root device
findmnt /

# mount a qcow2 image
## Example 1:
mkdir -p /mnt/qemu
guestmount -a os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2 -i /mnt/qemu/

## Example 2:
sudo guestfish --rw -a os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2
run
list-filesystems

# run commands in qcow2 images
## Example 1:
virt-customize -a  os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2  --run-command &#x27;echo hello >/root/hello.txt&#x27;
## Example 2:
sudo virt-customize -a os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2 \
  --run-command &#x27;echo -e &#x22;auto ens3\niface ens3 inet dhcp&#x22; > /etc/network/interfaces.d/ens3.cfg&#x27;

# generate mac 
printf &#x27;DE:AD:BE:EF:%02X:%02X\n&#x27; $((RANDOM%256)) $((RANDOM%256))
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="ip"><a class="anchor" aria-hidden="true" tabindex="-1" href="#ip"><span class="octicon octicon-link"></span></a>ip</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># list links</span>
</span><span class="code-line line-number" line="2"><span class="token function">ip</span> <span class="token function">link</span> show
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># create bridge</span>
</span><span class="code-line line-number" line="5"><span class="token function">ip</span> <span class="token function">link</span> <span class="token function">add</span> br0 <span class="token builtin class-name">type</span> bridge
</span></code><div onclick="copied(this)" data-code="# list links
ip link show

# create bridge
ip link add br0 type bridge
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="brctl"><a class="anchor" aria-hidden="true" tabindex="-1" href="#brctl"><span class="octicon octicon-link"></span></a>brctl</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># list links</span>
</span><span class="code-line line-number" line="2"><span class="token function">ip</span> <span class="token function">link</span> show
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># create bridge</span>
</span><span class="code-line line-number" line="5"><span class="token function">ip</span> <span class="token function">link</span> <span class="token function">add</span> br0 <span class="token builtin class-name">type</span> bridge
</span></code><div onclick="copied(this)" data-code="# list links
ip link show

# create bridge
ip link add br0 type bridge
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="qemu-img"><a class="anchor" aria-hidden="true" tabindex="-1" href="#qemu-img"><span class="octicon octicon-link"></span></a>qemu-img</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># create image</span>
</span><span class="code-line line-number" line="2">qemu-img create <span class="token parameter variable">-f</span> qcow2 vm-disk-debian-12.qcow2 20G
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># convert vmdk to qcow2 image</span>
</span><span class="code-line line-number" line="5">qemu-img convert <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="6">  <span class="token parameter variable">-f</span> vmdk <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="7">  <span class="token parameter variable">-O</span> qcow2 os-images/Debian_12.0.0_VMM/Debian_12.0.0_VMM_LinuxVMImages.COM.vmdk os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="8">  <span class="token parameter variable">-p</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="9">  <span class="token parameter variable">-m16</span>
</span><span class="code-line line-number" line="10">
</span><span class="code-line line-number" line="11"><span class="token comment"># check image</span>
</span><span class="code-line line-number" line="12">qemu-img info os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2
</span></code><div onclick="copied(this)" data-code="# create image
qemu-img create -f qcow2 vm-disk-debian-12.qcow2 20G

# convert vmdk to qcow2 image
qemu-img convert \
  -f vmdk \
  -O qcow2 os-images/Debian_12.0.0_VMM/Debian_12.0.0_VMM_LinuxVMImages.COM.vmdk os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2 \
  -p \
  -m16

# check image
qemu-img info os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="qemu-system-x86_64"><a class="anchor" aria-hidden="true" tabindex="-1" href="#qemu-system-x86_64"><span class="octicon octicon-link"></span></a>qemu-system-x86_64</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># create vm with ISO</span>
</span><span class="code-line line-number" line="2">qemu-system-x86_64 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="3">  <span class="token parameter variable">-name</span> lpic3-debian-12 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="4">  -enable-kvm <span class="token parameter variable">-hda</span> vm-disk-debian-12.qcow2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="5">  <span class="token parameter variable">-cdrom</span> /home/vagrant/isos/debian/debian-12.8.0-amd64-DVD-1.iso  <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="6">  <span class="token parameter variable">-boot</span> d <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="7">  <span class="token parameter variable">-m</span> <span class="token number">2048</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="8">  <span class="token parameter variable">-smp</span> <span class="token assign-left variable">cpus</span><span class="token operator">=</span><span class="token number">2</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="9">  <span class="token parameter variable">-k</span> pt-br
</span><span class="code-line line-number" line="10">
</span><span class="code-line line-number" line="11"><span class="token comment"># create vm with ISO using vnc in no gui servers \ ssh connections</span>
</span><span class="code-line line-number" line="12">
</span><span class="code-line line-number" line="13"><span class="token comment">## create ssh tunel in host</span>
</span><span class="code-line line-number" line="14"> <span class="token function">ssh</span> <span class="token parameter variable">-l</span> vagrant <span class="token parameter variable">-L</span> <span class="token number">5902</span>:localhost:5902  <span class="token number">192.168</span>.0.131
</span><span class="code-line line-number" line="15">
</span><span class="code-line line-number" line="16"><span class="token comment">## create vm </span>
</span><span class="code-line line-number" line="17">qemu-system-x86_64 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="18">  <span class="token parameter variable">-name</span> lpic3-debian-12 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="19">  -enable-kvm <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="20">  <span class="token parameter variable">-m</span> <span class="token number">2048</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="21">  <span class="token parameter variable">-smp</span> <span class="token assign-left variable">cpus</span><span class="token operator">=</span><span class="token number">2</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="22">  <span class="token parameter variable">-k</span> pt-br <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="23">  <span class="token parameter variable">-vnc</span> :2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="24">  <span class="token parameter variable">-device</span> qemu-xhci <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="25">  <span class="token parameter variable">-device</span> usb-tablet <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="26">  <span class="token parameter variable">-device</span> ide-cd,bus<span class="token operator">=</span>ide.1,drive<span class="token operator">=</span>cdrom,bootindex<span class="token operator">=</span><span class="token number">1</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="27">  <span class="token parameter variable">-drive</span> <span class="token assign-left variable">id</span><span class="token operator">=</span>cdrom,media<span class="token operator">=</span>cdrom,if<span class="token operator">=</span>none,file<span class="token operator">=</span>/home/vagrant/isos/debian/debian-12.8.0-amd64-DVD-1.iso <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="28">  <span class="token parameter variable">-hda</span> vm-disk-debian-12.qcow2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="29">  <span class="token parameter variable">-boot</span> <span class="token assign-left variable">order</span><span class="token operator">=</span>d <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="30">  <span class="token parameter variable">-vga</span> std <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="31">  <span class="token parameter variable">-display</span> none <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="32">  <span class="token parameter variable">-monitor</span> stdio
</span><span class="code-line line-number" line="33">
</span><span class="code-line line-number" line="34"><span class="token comment"># create vm with OS Image - qcow2</span>
</span><span class="code-line line-number" line="35">
</span><span class="code-line line-number" line="36"><span class="token comment">## create vm</span>
</span><span class="code-line line-number" line="37">qemu-system-x86_64 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="38">  <span class="token parameter variable">-name</span> lpic3-debian-12 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="39">  -enable-kvm <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="40">  <span class="token parameter variable">-m</span> <span class="token number">2048</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="41">  <span class="token parameter variable">-smp</span> <span class="token assign-left variable">cpus</span><span class="token operator">=</span><span class="token number">2</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="42">  <span class="token parameter variable">-k</span> pt-br <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="43">  <span class="token parameter variable">-vnc</span> :2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="44">  <span class="token parameter variable">-hda</span> os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2
</span><span class="code-line line-number" line="45">
</span><span class="code-line line-number" line="46"><span class="token comment">## create vm with custom kernel params</span>
</span><span class="code-line line-number" line="47">qemu-system-x86_64 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="48">  <span class="token parameter variable">-name</span> lpic3-debian-12 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="49">  <span class="token parameter variable">-kernel</span> /vmlinuz <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="50">  <span class="token parameter variable">-initrd</span> /initrd.img <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="51">  <span class="token parameter variable">-append</span> <span class="token string">"root=/dev/mapper/debian--vg-root ro fastboot console=ttyS0"</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="52">  -enable-kvm <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="53">  <span class="token parameter variable">-m</span> <span class="token number">2048</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="54">  <span class="token parameter variable">-smp</span> <span class="token assign-left variable">cpus</span><span class="token operator">=</span><span class="token number">2</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="55">  <span class="token parameter variable">-k</span> pt-br <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="56">  <span class="token parameter variable">-vnc</span> :2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="57">  <span class="token parameter variable">-hda</span> os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2
</span><span class="code-line line-number" line="58">
</span><span class="code-line line-number" line="59"><span class="token comment">## create vm with and attach disk</span>
</span><span class="code-line line-number" line="60">qemu-system-x86_64 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="61">  <span class="token parameter variable">-name</span> lpic3-debian-12 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="62">  -enable-kvm <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="63">  <span class="token parameter variable">-m</span> <span class="token number">2048</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="64">  <span class="token parameter variable">-smp</span> <span class="token assign-left variable">cpus</span><span class="token operator">=</span><span class="token number">2</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="65">  <span class="token parameter variable">-vnc</span> :2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="66">  <span class="token parameter variable">-hda</span> os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="67">  <span class="token parameter variable">-hdb</span> vmdisk-debian12.qcow2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="68">  <span class="token parameter variable">-drive</span> <span class="token assign-left variable">file</span><span class="token operator">=</span>vmdisk-extra-debian12.qcow2,index<span class="token operator">=</span><span class="token number">2</span>,media<span class="token operator">=</span>disk,if<span class="token operator">=</span>ide <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="69">  <span class="token parameter variable">-netdev</span> bridge,id<span class="token operator">=</span>net0,br<span class="token operator">=</span>qemubr0 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="70">  <span class="token parameter variable">-device</span> virtio-net-pci,netdev<span class="token operator">=</span>net0
</span><span class="code-line line-number" line="71">  
</span><span class="code-line line-number" line="72"><span class="token comment">## create vm network netdev user</span>
</span><span class="code-line line-number" line="73">qemu-system-x86_64 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="74">  <span class="token parameter variable">-name</span> lpic3-debian-12 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="75">  -enable-kvm <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="76">  <span class="token parameter variable">-m</span> <span class="token number">2048</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="77">  <span class="token parameter variable">-smp</span> <span class="token assign-left variable">cpus</span><span class="token operator">=</span><span class="token number">2</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="78">  <span class="token parameter variable">-vnc</span> :2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="79">  <span class="token parameter variable">-hda</span> os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="80">  <span class="token parameter variable">-netdev</span> user,id<span class="token operator">=</span>mynet0,net<span class="token operator">=</span><span class="token number">192.168</span>.0.150/24,dhcpstart<span class="token operator">=</span><span class="token number">192.168</span>.0.155,hostfwd<span class="token operator">=</span>tcp::2222-:22 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="81">  <span class="token parameter variable">-device</span> virtio-net-pci,netdev<span class="token operator">=</span>mynet0
</span><span class="code-line line-number" line="82">
</span><span class="code-line line-number" line="83"><span class="token comment">## create vm network netdev tap (Private Network)</span>
</span><span class="code-line line-number" line="84"><span class="token function">ip</span> <span class="token function">link</span> <span class="token function">add</span> br0 <span class="token builtin class-name">type</span> bridge <span class="token punctuation">;</span> <span class="token function">ifconfig</span> br0 up
</span><span class="code-line line-number" line="85">qemu-system-x86_64 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="86">  <span class="token parameter variable">-name</span> lpic3-debian-12 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="87">  -enable-kvm <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="88">  <span class="token parameter variable">-m</span> <span class="token number">2048</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="89">  <span class="token parameter variable">-smp</span> <span class="token assign-left variable">cpus</span><span class="token operator">=</span><span class="token number">2</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="90">  <span class="token parameter variable">-vnc</span> :2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="91">  <span class="token parameter variable">-hda</span> os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="92">  <span class="token parameter variable">-netdev</span> tap,id<span class="token operator">=</span>br0 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="93">  <span class="token parameter variable">-device</span> e1000,netdev<span class="token operator">=</span>br0,mac<span class="token operator">=</span>DE:AD:BE:EF:1A:24
</span><span class="code-line line-number" line="94">
</span><span class="code-line line-number" line="95"><span class="token comment">## create vm with public bridge</span>
</span><span class="code-line line-number" line="96"><span class="token comment">#create a public bridge : https://www.linux-kvm.org/page/Networking</span>
</span><span class="code-line line-number" line="97">
</span><span class="code-line line-number" line="98">qemu-system-x86_64 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="99">  <span class="token parameter variable">-name</span> lpic3-debian-12 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="100">  -enable-kvm <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="101">  <span class="token parameter variable">-m</span> <span class="token number">2048</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="102">  <span class="token parameter variable">-smp</span> <span class="token assign-left variable">cpus</span><span class="token operator">=</span><span class="token number">2</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="103">  <span class="token parameter variable">-hda</span> os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="104">  <span class="token parameter variable">-k</span> pt-br <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="105">  <span class="token parameter variable">-vnc</span> :2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="106">  <span class="token parameter variable">-device</span> qemu-xhci <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="107">  <span class="token parameter variable">-device</span> usb-tablet <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="108">  <span class="token parameter variable">-vga</span> std <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="109">  <span class="token parameter variable">-display</span> none <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="110">  <span class="token parameter variable">-netdev</span> bridge,id<span class="token operator">=</span>net0,br<span class="token operator">=</span>qemubr0 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="111">  <span class="token parameter variable">-device</span> virtio-net-pci,netdev<span class="token operator">=</span>net0
</span><span class="code-line line-number" line="112">
</span><span class="code-line line-number" line="113"><span class="token comment">## get a ipv4 ip - open ssh in vm and:</span>
</span><span class="code-line line-number" line="114">dhcpclient ens4
</span></code><div onclick="copied(this)" data-code="# create vm with ISO
qemu-system-x86_64 \
  -name lpic3-debian-12 \
  -enable-kvm -hda vm-disk-debian-12.qcow2 \
  -cdrom /home/vagrant/isos/debian/debian-12.8.0-amd64-DVD-1.iso  \
  -boot d \
  -m 2048 \
  -smp cpus=2 \
  -k pt-br

# create vm with ISO using vnc in no gui servers \ ssh connections

## create ssh tunel in host
 ssh -l vagrant -L 5902:localhost:5902  192.168.0.131

## create vm 
qemu-system-x86_64 \
  -name lpic3-debian-12 \
  -enable-kvm \
  -m 2048 \
  -smp cpus=2 \
  -k pt-br \
  -vnc :2 \
  -device qemu-xhci \
  -device usb-tablet \
  -device ide-cd,bus=ide.1,drive=cdrom,bootindex=1 \
  -drive id=cdrom,media=cdrom,if=none,file=/home/vagrant/isos/debian/debian-12.8.0-amd64-DVD-1.iso \
  -hda vm-disk-debian-12.qcow2 \
  -boot order=d \
  -vga std \
  -display none \
  -monitor stdio

# create vm with OS Image - qcow2

## create vm
qemu-system-x86_64 \
  -name lpic3-debian-12 \
  -enable-kvm \
  -m 2048 \
  -smp cpus=2 \
  -k pt-br \
  -vnc :2 \
  -hda os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2

## create vm with custom kernel params
qemu-system-x86_64 \
  -name lpic3-debian-12 \
  -kernel /vmlinuz \
  -initrd /initrd.img \
  -append &#x22;root=/dev/mapper/debian--vg-root ro fastboot console=ttyS0&#x22; \
  -enable-kvm \
  -m 2048 \
  -smp cpus=2 \
  -k pt-br \
  -vnc :2 \
  -hda os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2

## create vm with and attach disk
qemu-system-x86_64 \
  -name lpic3-debian-12 \
  -enable-kvm \
  -m 2048 \
  -smp cpus=2 \
  -vnc :2 \
  -hda os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2 \
  -hdb vmdisk-debian12.qcow2 \
  -drive file=vmdisk-extra-debian12.qcow2,index=2,media=disk,if=ide \
  -netdev bridge,id=net0,br=qemubr0 \
  -device virtio-net-pci,netdev=net0
  
## create vm network netdev user
qemu-system-x86_64 \
  -name lpic3-debian-12 \
  -enable-kvm \
  -m 2048 \
  -smp cpus=2 \
  -vnc :2 \
  -hda os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2 \
  -netdev user,id=mynet0,net=192.168.0.150/24,dhcpstart=192.168.0.155,hostfwd=tcp::2222-:22 \
  -device virtio-net-pci,netdev=mynet0

## create vm network netdev tap (Private Network)
ip link add br0 type bridge ; ifconfig br0 up
qemu-system-x86_64 \
  -name lpic3-debian-12 \
  -enable-kvm \
  -m 2048 \
  -smp cpus=2 \
  -vnc :2 \
  -hda os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2 \
  -netdev tap,id=br0 \
  -device e1000,netdev=br0,mac=DE:AD:BE:EF:1A:24

## create vm with public bridge
#create a public bridge : https://www.linux-kvm.org/page/Networking

qemu-system-x86_64 \
  -name lpic3-debian-12 \
  -enable-kvm \
  -m 2048 \
  -smp cpus=2 \
  -hda os-images/Debian_12.0.0_VMM/Debian_12.0.0.qcow2 \
  -k pt-br \
  -vnc :2 \
  -device qemu-xhci \
  -device usb-tablet \
  -vga std \
  -display none \
  -netdev bridge,id=net0,br=qemubr0 \
  -device virtio-net-pci,netdev=net0

## get a ipv4 ip - open ssh in vm and:
dhcpclient ens4
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="qemu-monitor"><a class="anchor" aria-hidden="true" tabindex="-1" href="#qemu-monitor"><span class="octicon octicon-link"></span></a>QEMU Monitor</h4>
    <p>For initiate QEMU monitor in commandline use <strong>-monitor stdio</strong> param in <strong>qemu-system-x86_64</strong></p>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">qemu-system-x86_64 <span class="token parameter variable">-monitor</span> stdio
</span></code><div onclick="copied(this)" data-code="qemu-system-x86_64 -monitor stdio
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p>Exit qemu-monitor:</p>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">ctrl+alt+2
</span></code><div onclick="copied(this)" data-code="ctrl+alt+2
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Managment</span>
</span><span class="code-line line-number" line="2">info status <span class="token comment"># vm info</span>
</span><span class="code-line line-number" line="3">info cpus <span class="token comment"># cpu information</span>
</span><span class="code-line line-number" line="4">info network <span class="token comment"># network informations</span>
</span><span class="code-line line-number" line="5">stop <span class="token comment"># pause vm</span>
</span><span class="code-line line-number" line="6">cont <span class="token comment"># start vm in status pause</span>
</span><span class="code-line line-number" line="7">system_powerdown <span class="token comment"># poweroff vm</span>
</span><span class="code-line line-number" line="8">system_reset <span class="token comment"># restart monitor</span>
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10">
</span><span class="code-line line-number" line="11"><span class="token comment"># Blocks</span>
</span><span class="code-line line-number" line="12">info block <span class="token comment"># block info</span>
</span><span class="code-line line-number" line="13">boot_set d <span class="token comment"># force boot iso</span>
</span><span class="code-line line-number" line="14">change ide1-cd0  /home/vagrant/isos/debian/debian-12.8.0-amd64-DVD-1.iso  <span class="token comment"># attach cdrom</span>
</span><span class="code-line line-number" line="15"><span class="token function">eject</span> ide1-cd0 <span class="token comment"># detach cdrom</span>
</span><span class="code-line line-number" line="16">
</span><span class="code-line line-number" line="17"><span class="token comment"># Snapshots</span>
</span><span class="code-line line-number" line="18">info snapshots <span class="token comment"># list snapshots</span>
</span><span class="code-line line-number" line="19">savevm snapshot-01  <span class="token comment"># create snapshot</span>
</span><span class="code-line line-number" line="20">loadvm snapshot-01 <span class="token comment"># restore snapshot</span>
</span><span class="code-line line-number" line="21">delvm snapshot-01
</span></code><div onclick="copied(this)" data-code="# Managment
info status # vm info
info cpus # cpu information
info network # network informations
stop # pause vm
cont # start vm in status pause
system_powerdown # poweroff vm
system_reset # restart monitor


# Blocks
info block # block info
boot_set d # force boot iso
change ide1-cd0  /home/vagrant/isos/debian/debian-12.8.0-amd64-DVD-1.iso  # attach cdrom
eject ide1-cd0 # detach cdrom

# Snapshots
info snapshots # list snapshots
savevm snapshot-01  # create snapshot
loadvm snapshot-01 # restore snapshot
delvm snapshot-01
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="guest-agent"><a class="anchor" aria-hidden="true" tabindex="-1" href="#guest-agent"><span class="octicon octicon-link"></span></a>Guest Agent</h4>
    <p>For enable, use:</p>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">qemu-system-x86_x64
</span><span class="code-line line-number" line="2"> <span class="token parameter variable">-chardev</span> socket,path<span class="token operator">=</span>/tmp/qga.sock,server<span class="token operator">=</span>on,wait<span class="token operator">=</span>off,id<span class="token operator">=</span>qga0 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="3"> <span class="token parameter variable">-device</span> virtio-serial <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="4"> <span class="token parameter variable">-device</span> virtserialport,chardev<span class="token operator">=</span>qga0,name<span class="token operator">=</span>org.qemu.guest_agent.0
</span></code><div onclick="copied(this)" data-code="qemu-system-x86_x64
 -chardev socket,path=/tmp/qga.sock,server=on,wait=off,id=qga0 \
 -device virtio-serial \
 -device virtserialport,chardev=qga0,name=org.qemu.guest_agent.0
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p align="right">(<a href="#topic-351.3">back to sub Topic 351.3</a>)</p>
    <p align="right">(<a href="#topic-351">back to Topic 351</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr>
    <p><a name="topic-351.4"></a></p>
    <h3 id="3514-libvirt-virtual-machine-management"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3514-libvirt-virtual-machine-management"><span class="octicon octicon-link"></span></a>351.4 Libvirt Virtual Machine Management</h3>
    <p>
      <img src="images/libvirt.png" alt="libvirt">
    </p>
    <p>
      <img src="images/libvirt-default-network.jpg" alt="libvirt-network">
    </p>
    <p><strong>Weight:</strong> 9</p>
    <p><strong>Description:</strong> Candidates should be able to manage virtualization hosts and virtual machines (â€˜libvirt domainsâ€™) using libvirt and related tools.</p>
    <p><strong>Key Knowledge Areas:</strong></p>
    <ul>
      <li>Understand the architecture of libvirt</li>
      <li>Manage libvirt connections and nodes</li>
      <li>Create and manage QEMU and Xen domains, including snapshots</li>
      <li>Manage and analyze resource consumption of domains</li>
      <li>Create and manage storage pools and volumes</li>
      <li>Create and manage virtual networks</li>
      <li>Migrate domains between nodes</li>
      <li>Understand how libvirt interacts with Xen and QEMU</li>
      <li>Understand how libvirt interacts with network services such as dnsmasq and radvd</li>
      <li>Understand libvirt XML configuration files</li>
      <li>Awareness of virtlogd and virtlockd</li>
    </ul>
    <h4 id="3514-cited-objects"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3514-cited-objects"><span class="octicon octicon-link"></span></a>351.4 Cited Objects</h4>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">libvirtd
</span><span class="code-line line-number" line="2">/etc/libvirt/
</span><span class="code-line line-number" line="3">/var/lib/libvirt
</span><span class="code-line line-number" line="4">/var/log/libvirt
</span><span class="code-line line-number" line="5"><span class="token function">virsh</span> <span class="token punctuation">(</span>including relevant subcommands<span class="token punctuation">)</span> 
</span></code><div onclick="copied(this)" data-code="libvirtd
/etc/libvirt/
/var/lib/libvirt
/var/log/libvirt
virsh (including relevant subcommands) 
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="3514-important-commands"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3514-important-commands"><span class="octicon octicon-link"></span></a>351.4 Important Commands</h4>
    <h5 id="virsh"><a class="anchor" aria-hidden="true" tabindex="-1" href="#virsh"><span class="octicon octicon-link"></span></a>virsh</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># using env variable for set virsh uri (local or remotly)</span>
</span><span class="code-line line-number" line="2"><span class="token builtin class-name">export</span> <span class="token assign-left variable">LIBVIRT_DEFAULT_URI</span><span class="token operator">=</span>qemu:///system
</span><span class="code-line line-number" line="3"><span class="token builtin class-name">export</span> <span class="token assign-left variable">LIBVIRT_DEFAULT_URI</span><span class="token operator">=</span>xen+ssh://vagrant@192.168.0.130
</span><span class="code-line line-number" line="4"><span class="token builtin class-name">export</span> <span class="token assign-left variable">LIBVIRT_DEFAULT_URI</span><span class="token operator">=</span><span class="token string">'xen+ssh://vagrant@192.168.0.130?keyfile=/home/vagrant/.ssh/skynet-key-ecdsa'</span>
</span><span class="code-line line-number" line="5">
</span><span class="code-line line-number" line="6"><span class="token comment"># COMMONS</span>
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8"><span class="token comment"># get helps</span>
</span><span class="code-line line-number" line="9"><span class="token function">virsh</span> <span class="token builtin class-name">help</span>
</span><span class="code-line line-number" line="10"><span class="token function">virsh</span> <span class="token builtin class-name">help</span> pool-create
</span><span class="code-line line-number" line="11">
</span><span class="code-line line-number" line="12"><span class="token comment"># view version</span>
</span><span class="code-line line-number" line="13"><span class="token function">virsh</span> version
</span><span class="code-line line-number" line="14">
</span><span class="code-line line-number" line="15"><span class="token comment"># view system info</span>
</span><span class="code-line line-number" line="16"><span class="token function">sudo</span> <span class="token function">virsh</span> sysinfo
</span><span class="code-line line-number" line="17">
</span><span class="code-line line-number" line="18"><span class="token comment"># view node info</span>
</span><span class="code-line line-number" line="19"><span class="token function">virsh</span> nodeinfo
</span><span class="code-line line-number" line="20">
</span><span class="code-line line-number" line="21"><span class="token comment"># hostname</span>
</span><span class="code-line line-number" line="22"><span class="token function">virsh</span> <span class="token function">hostname</span>
</span><span class="code-line line-number" line="23">
</span><span class="code-line line-number" line="24"><span class="token comment"># check vcn allocated port</span>
</span><span class="code-line line-number" line="25"><span class="token function">virsh</span> vncdisplay <span class="token operator">&#x3C;</span>domain_id<span class="token operator">></span>
</span><span class="code-line line-number" line="26"><span class="token function">virsh</span> vncdisplay <span class="token operator">&#x3C;</span>domain_name<span class="token operator">></span>
</span><span class="code-line line-number" line="27"><span class="token function">virsh</span> vncdisplay rocky9-server01 
</span><span class="code-line line-number" line="28">
</span><span class="code-line line-number" line="29"><span class="token comment"># HYPERVISIONER</span>
</span><span class="code-line line-number" line="30">
</span><span class="code-line line-number" line="31"><span class="token comment"># view libvirt hypervisioner connection</span>
</span><span class="code-line line-number" line="32"><span class="token function">virsh</span> uri
</span><span class="code-line line-number" line="33">
</span><span class="code-line line-number" line="34"><span class="token comment"># list valid hypervisioners</span>
</span><span class="code-line line-number" line="35">virt-host-validate
</span><span class="code-line line-number" line="36">virt-host-validate qemu
</span><span class="code-line line-number" line="37">
</span><span class="code-line line-number" line="38"><span class="token comment"># test connetion uri(vm test)</span>
</span><span class="code-line line-number" line="39"><span class="token function">virsh</span> <span class="token parameter variable">-c</span> test:///default list
</span><span class="code-line line-number" line="40">
</span><span class="code-line line-number" line="41"><span class="token comment"># connect remotly</span>
</span><span class="code-line line-number" line="42"><span class="token function">virsh</span> <span class="token parameter variable">-c</span> xen+ssh://vagrant@192.168.0.130
</span><span class="code-line line-number" line="43"><span class="token function">virsh</span> <span class="token parameter variable">-c</span> xen+ssh://vagrant@192.168.0.130 list
</span><span class="code-line line-number" line="44"><span class="token function">virsh</span> <span class="token parameter variable">-c</span> qemu+ssh://vagrant@192.168.0.130/system list
</span><span class="code-line line-number" line="45">
</span><span class="code-line line-number" line="46"><span class="token comment"># connect remotly without enter password</span>
</span><span class="code-line line-number" line="47"><span class="token function">virsh</span> <span class="token parameter variable">-c</span> <span class="token string">'xen+ssh://vagrant@192.168.0.130?keyfile=/home/vagrant/.ssh/skynet-key-ecdsa'</span>
</span><span class="code-line line-number" line="48">
</span><span class="code-line line-number" line="49"><span class="token comment"># STORAGE</span>
</span><span class="code-line line-number" line="50">
</span><span class="code-line line-number" line="51"><span class="token comment"># list storage pools</span>
</span><span class="code-line line-number" line="52"><span class="token function">virsh</span> pool-list <span class="token parameter variable">--details</span>
</span><span class="code-line line-number" line="53">
</span><span class="code-line line-number" line="54"><span class="token comment"># list all storage pool</span>
</span><span class="code-line line-number" line="55"><span class="token function">virsh</span> pool-list <span class="token parameter variable">--all</span> <span class="token parameter variable">--details</span>
</span><span class="code-line line-number" line="56">
</span><span class="code-line line-number" line="57"><span class="token comment"># get a pool configuration</span>
</span><span class="code-line line-number" line="58"><span class="token function">virsh</span> pool-dumpxml default
</span><span class="code-line line-number" line="59">
</span><span class="code-line line-number" line="60"><span class="token comment"># get pool info</span>
</span><span class="code-line line-number" line="61"><span class="token function">virsh</span> pool-info default
</span><span class="code-line line-number" line="62">
</span><span class="code-line line-number" line="63"><span class="token comment"># create a storage pool</span>
</span><span class="code-line line-number" line="64"><span class="token function">virsh</span> pool-define-as <span class="token parameter variable">--name</span> default <span class="token parameter variable">--type</span> <span class="token function">dir</span> <span class="token parameter variable">--target</span> /var/lib/libvirt/images
</span><span class="code-line line-number" line="65">
</span><span class="code-line line-number" line="66"><span class="token comment"># create a storage pool with dumpxml</span>
</span><span class="code-line line-number" line="67"><span class="token function">virsh</span> pool-create <span class="token parameter variable">--overwrite</span> <span class="token parameter variable">--file</span> configs/kvm/libvirt/pool.xml
</span><span class="code-line line-number" line="68">
</span><span class="code-line line-number" line="69"><span class="token comment"># start storage pool</span>
</span><span class="code-line line-number" line="70"><span class="token function">virsh</span> pool-start default
</span><span class="code-line line-number" line="71">
</span><span class="code-line line-number" line="72"><span class="token comment"># set storage pool for autostart</span>
</span><span class="code-line line-number" line="73"><span class="token function">virsh</span> pool-autostart default
</span><span class="code-line line-number" line="74">
</span><span class="code-line line-number" line="75"><span class="token comment"># stop storage pool</span>
</span><span class="code-line line-number" line="76"><span class="token function">virsh</span> pool-destroy linux
</span><span class="code-line line-number" line="77">
</span><span class="code-line line-number" line="78"><span class="token comment"># delete xml storage pool file</span>
</span><span class="code-line line-number" line="79"><span class="token function">virsh</span> pool-undefine linux
</span><span class="code-line line-number" line="80">
</span><span class="code-line line-number" line="81"><span class="token comment"># edit storage pool</span>
</span><span class="code-line line-number" line="82"><span class="token function">virsh</span> pool-edit linux
</span><span class="code-line line-number" line="83">
</span><span class="code-line line-number" line="84"><span class="token comment"># list volumes</span>
</span><span class="code-line line-number" line="85"><span class="token function">virsh</span> vol-list linux
</span><span class="code-line line-number" line="86">
</span><span class="code-line line-number" line="87"><span class="token comment"># get volume infos</span>
</span><span class="code-line line-number" line="88"><span class="token function">virsh</span> vol-info Debian_12.0.0.qcow2 os-images
</span><span class="code-line line-number" line="89"><span class="token function">virsh</span> vol-info <span class="token parameter variable">--pool</span> os-images Debian_12.0.0.qcow2 
</span><span class="code-line line-number" line="90">
</span><span class="code-line line-number" line="91"><span class="token comment"># get volume xml</span>
</span><span class="code-line line-number" line="92"><span class="token function">virsh</span> vol-dumpxml rocky9-disk1 default
</span><span class="code-line line-number" line="93">
</span><span class="code-line line-number" line="94"><span class="token comment"># create volume</span>
</span><span class="code-line line-number" line="95"><span class="token function">virsh</span> vol-create-as default <span class="token parameter variable">--format</span> qcow2 disk1 10G
</span><span class="code-line line-number" line="96">
</span><span class="code-line line-number" line="97"><span class="token comment"># delete volume</span>
</span><span class="code-line line-number" line="98"><span class="token function">virsh</span> vol-delete  disk1 default
</span><span class="code-line line-number" line="99">
</span><span class="code-line line-number" line="100"><span class="token comment"># DOMAINS \ INSTANCES \ VIRTUAL MACHINES</span>
</span><span class="code-line line-number" line="101">
</span><span class="code-line line-number" line="102"><span class="token comment"># list domain\instance\vm</span>
</span><span class="code-line line-number" line="103"><span class="token function">virsh</span> list
</span><span class="code-line line-number" line="104"><span class="token function">virsh</span> list <span class="token parameter variable">--all</span>
</span><span class="code-line line-number" line="105">
</span><span class="code-line line-number" line="106"><span class="token comment"># create domain\instance\vm</span>
</span><span class="code-line line-number" line="107"><span class="token function">virsh</span> create configs/kvm/libvirt/rocky9-server03.xml
</span><span class="code-line line-number" line="108">
</span><span class="code-line line-number" line="109"><span class="token comment"># view domain\instance\vm info</span>
</span><span class="code-line line-number" line="110"><span class="token function">virsh</span> dominfo rocky9-server01
</span><span class="code-line line-number" line="111">
</span><span class="code-line line-number" line="112"><span class="token comment"># view domain\instance\vm xml</span>
</span><span class="code-line line-number" line="113"><span class="token function">virsh</span> dumpxml rocky9-server01
</span><span class="code-line line-number" line="114">
</span><span class="code-line line-number" line="115"><span class="token comment"># edit domain\instance\vm xml</span>
</span><span class="code-line line-number" line="116"><span class="token function">virsh</span> edit rocky9-server01
</span><span class="code-line line-number" line="117">
</span><span class="code-line line-number" line="118"><span class="token comment"># stop domain\instance\vm</span>
</span><span class="code-line line-number" line="119"><span class="token function">virsh</span> <span class="token function">shutdown</span> rocky9-server01 <span class="token comment"># gracefully</span>
</span><span class="code-line line-number" line="120"><span class="token function">virsh</span> destroy <span class="token number">1</span>
</span><span class="code-line line-number" line="121"><span class="token function">virsh</span> destroy rocky9-server01
</span><span class="code-line line-number" line="122">
</span><span class="code-line line-number" line="123"><span class="token comment"># suspend domain\instance\vm</span>
</span><span class="code-line line-number" line="124"><span class="token function">virsh</span> <span class="token function">suspend</span> rocky9-server01
</span><span class="code-line line-number" line="125">
</span><span class="code-line line-number" line="126"><span class="token comment"># resume domain\instance\vm</span>
</span><span class="code-line line-number" line="127"><span class="token function">virsh</span> resume rocky9-server01
</span><span class="code-line line-number" line="128">
</span><span class="code-line line-number" line="129"><span class="token comment"># start domain\instance\vm</span>
</span><span class="code-line line-number" line="130"><span class="token function">virsh</span> start rocky9-server01
</span><span class="code-line line-number" line="131">
</span><span class="code-line line-number" line="132"><span class="token comment"># remove domain\instance\vm</span>
</span><span class="code-line line-number" line="133"><span class="token function">virsh</span> undefine rocky9-server01
</span><span class="code-line line-number" line="134">
</span><span class="code-line line-number" line="135"><span class="token comment"># remove domain\instance\vm and storage volumes</span>
</span><span class="code-line line-number" line="136"><span class="token function">virsh</span> undefine rocky9-server01 --remove-all-storage
</span><span class="code-line line-number" line="137">
</span><span class="code-line line-number" line="138"><span class="token comment"># save domain\instance\vm</span>
</span><span class="code-line line-number" line="139"><span class="token function">virsh</span> save rocky9-server01 rocky9-server01.qcow2
</span><span class="code-line line-number" line="140">
</span><span class="code-line line-number" line="141"><span class="token comment"># restore domain\instance\vm</span>
</span><span class="code-line line-number" line="142"><span class="token function">virsh</span> restore rocky9-server01.qcow2
</span><span class="code-line line-number" line="143">
</span><span class="code-line line-number" line="144"><span class="token comment"># list snapshots</span>
</span><span class="code-line line-number" line="145"><span class="token function">virsh</span> snapshot-list rocky9-server01
</span><span class="code-line line-number" line="146">
</span><span class="code-line line-number" line="147"><span class="token comment"># create snapshot</span>
</span><span class="code-line line-number" line="148"><span class="token function">virsh</span> snapshot-create rocky9-server01
</span><span class="code-line line-number" line="149">
</span><span class="code-line line-number" line="150"><span class="token comment"># restore snapshot</span>
</span><span class="code-line line-number" line="151"><span class="token function">virsh</span> snapshot-revert rocky9-server01 <span class="token number">1748983520</span>
</span><span class="code-line line-number" line="152">
</span><span class="code-line line-number" line="153"><span class="token comment"># view snapshot xml</span>
</span><span class="code-line line-number" line="154"><span class="token function">virsh</span> snapshot-info rocky9-server01 <span class="token number">1748983520</span>
</span><span class="code-line line-number" line="155">
</span><span class="code-line line-number" line="156"><span class="token comment"># dumpxml snapshot</span>
</span><span class="code-line line-number" line="157"><span class="token function">virsh</span> snapshot-dumpxml rocky9-server01 <span class="token number">1748983520</span>
</span><span class="code-line line-number" line="158">
</span><span class="code-line line-number" line="159"><span class="token comment"># xml snapshot path</span>
</span><span class="code-line line-number" line="160">/var/lib/libvirt/qemu/snapshot/rocky9-server01/
</span><span class="code-line line-number" line="161">
</span><span class="code-line line-number" line="162"><span class="token comment"># view snapshot info</span>
</span><span class="code-line line-number" line="163"><span class="token function">virsh</span> snapshot-info rocky9-server01 <span class="token number">1748983671</span>
</span><span class="code-line line-number" line="164">
</span><span class="code-line line-number" line="165"><span class="token comment"># edit snapshot</span>
</span><span class="code-line line-number" line="166"><span class="token function">virsh</span> snapshot-edit rocky9-server01 <span class="token number">1748983520</span>
</span><span class="code-line line-number" line="167">
</span><span class="code-line line-number" line="168"><span class="token comment"># delete snapshot</span>
</span><span class="code-line line-number" line="169"><span class="token function">virsh</span> snapshot-delete rocky9-server01 <span class="token number">1748983520</span>
</span><span class="code-line line-number" line="170">
</span><span class="code-line line-number" line="171"><span class="token comment"># DEVICES</span>
</span><span class="code-line line-number" line="172">
</span><span class="code-line line-number" line="173"><span class="token comment"># list block devices</span>
</span><span class="code-line line-number" line="174"><span class="token function">virsh</span> domblklist rocky9-server01 <span class="token parameter variable">--details</span>
</span><span class="code-line line-number" line="175">
</span><span class="code-line line-number" line="176"><span class="token comment"># add cdrom media </span>
</span><span class="code-line line-number" line="177"><span class="token function">virsh</span> change-media rocky9-server01 sda /home/vagrant/isos/rocky/Rocky-9.5-x86_64-minimal.iso
</span><span class="code-line line-number" line="178"><span class="token function">virsh</span> attach-disk rocky9-server01 /home/vagrant/isos/rocky/Rocky-9.5-x86_64-minimal.iso sda <span class="token parameter variable">--type</span> cdrom <span class="token parameter variable">--mode</span> <span class="token builtin class-name">readonly</span>
</span><span class="code-line line-number" line="179">
</span><span class="code-line line-number" line="180"><span class="token comment"># remove cdrom media</span>
</span><span class="code-line line-number" line="181"><span class="token function">virsh</span> change-media rocky9-server01 sda <span class="token parameter variable">--eject</span>
</span><span class="code-line line-number" line="182">
</span><span class="code-line line-number" line="183"><span class="token comment"># add new disk</span>
</span><span class="code-line line-number" line="184"><span class="token function">virsh</span> attach-disk rocky9-server01  /var/lib/libvirt/images/rocky9-disk2  vdb <span class="token parameter variable">--persistent</span>
</span><span class="code-line line-number" line="185">
</span><span class="code-line line-number" line="186"><span class="token comment"># remove disk</span>
</span><span class="code-line line-number" line="187"><span class="token function">virsh</span> detach-disk rocky9-server01 vdb <span class="token parameter variable">--persistent</span>
</span><span class="code-line line-number" line="188">
</span><span class="code-line line-number" line="189"><span class="token comment"># RESOURCES (CPU and Memory)</span>
</span><span class="code-line line-number" line="190">
</span><span class="code-line line-number" line="191"><span class="token comment"># get cpu infos</span>
</span><span class="code-line line-number" line="192"><span class="token function">virsh</span> vcpuinfo rocky9-server01 <span class="token parameter variable">--pretty</span>
</span><span class="code-line line-number" line="193"><span class="token function">virsh</span> dominfo rocky9-server01 <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">'CPU'</span>
</span><span class="code-line line-number" line="194">
</span><span class="code-line line-number" line="195"><span class="token comment"># get vcpu count</span>
</span><span class="code-line line-number" line="196"><span class="token function">virsh</span> vcpucount rocky9-server01
</span><span class="code-line line-number" line="197">
</span><span class="code-line line-number" line="198"><span class="token comment"># set vcpus maximum config</span>
</span><span class="code-line line-number" line="199"><span class="token function">virsh</span> setvcpus rocky9-server01 <span class="token parameter variable">--count</span> <span class="token number">4</span> <span class="token parameter variable">--maximum</span> <span class="token parameter variable">--config</span>
</span><span class="code-line line-number" line="200"><span class="token function">virsh</span> <span class="token function">shutdown</span> rocky9-server01
</span><span class="code-line line-number" line="201"><span class="token function">virsh</span> start rocky9-server01
</span><span class="code-line line-number" line="202">
</span><span class="code-line line-number" line="203"><span class="token comment"># set vcpu current config</span>
</span><span class="code-line line-number" line="204"><span class="token function">virsh</span> setvcpus rocky9-server01 <span class="token parameter variable">--count</span> <span class="token number">4</span> <span class="token parameter variable">--config</span>
</span><span class="code-line line-number" line="205">
</span><span class="code-line line-number" line="206"><span class="token comment"># set vcpu current live</span>
</span><span class="code-line line-number" line="207"><span class="token function">virsh</span> setvcpus rocky9-server01 <span class="token parameter variable">--count</span> <span class="token number">3</span> <span class="token parameter variable">--current</span>
</span><span class="code-line line-number" line="208"><span class="token function">virsh</span> setvcpus rocky9-server01 <span class="token parameter variable">--count</span> <span class="token number">3</span> <span class="token parameter variable">--live</span>
</span><span class="code-line line-number" line="209">
</span><span class="code-line line-number" line="210"><span class="token comment"># configure vcpu afinity config</span>
</span><span class="code-line line-number" line="211"><span class="token function">virsh</span> vcpupin rocky9-server01 <span class="token number">0</span> <span class="token number">7</span> <span class="token parameter variable">--config</span>
</span><span class="code-line line-number" line="212"><span class="token function">virsh</span> vcpupin rocky9-server01 <span class="token number">1</span> <span class="token number">5</span>-6 <span class="token parameter variable">--config</span>
</span><span class="code-line line-number" line="213">
</span><span class="code-line line-number" line="214"><span class="token comment"># configure vcpu afinity current</span>
</span><span class="code-line line-number" line="215"><span class="token function">virsh</span> vcpupin rocky9-server01 <span class="token number">0</span> <span class="token number">7</span>
</span><span class="code-line line-number" line="216"><span class="token function">virsh</span> vcpupin rocky9-server01 <span class="token number">1</span> <span class="token number">5</span>-6
</span><span class="code-line line-number" line="217">
</span><span class="code-line line-number" line="218"><span class="token comment"># set maximum memory config</span>
</span><span class="code-line line-number" line="219"><span class="token function">virsh</span> setmaxmem rocky9-server01 <span class="token number">3000000</span> <span class="token parameter variable">--config</span>
</span><span class="code-line line-number" line="220"><span class="token function">virsh</span> <span class="token function">shutdown</span> rocky9-server01
</span><span class="code-line line-number" line="221"><span class="token function">virsh</span> start rocky9-server01
</span><span class="code-line line-number" line="222">
</span><span class="code-line line-number" line="223"><span class="token comment"># set current memory config</span>
</span><span class="code-line line-number" line="224"><span class="token function">virsh</span> setmem rocky9-server01 <span class="token number">2500000</span> <span class="token parameter variable">--current</span>
</span><span class="code-line line-number" line="225">
</span><span class="code-line line-number" line="226"><span class="token comment"># NETWORK</span>
</span><span class="code-line line-number" line="227">
</span><span class="code-line line-number" line="228"><span class="token comment"># get netwwork bridges</span>
</span><span class="code-line line-number" line="229">brctl show
</span><span class="code-line line-number" line="230">
</span><span class="code-line line-number" line="231"><span class="token comment"># get iptables rules for libvirt</span>
</span><span class="code-line line-number" line="232"><span class="token function">sudo</span> iptables <span class="token parameter variable">-L</span> <span class="token parameter variable">-n</span> <span class="token parameter variable">-t</span>  nat
</span><span class="code-line line-number" line="233">
</span><span class="code-line line-number" line="234"><span class="token comment"># list network</span>
</span><span class="code-line line-number" line="235"><span class="token function">virsh</span> net-list <span class="token parameter variable">--all</span>
</span><span class="code-line line-number" line="236">
</span><span class="code-line line-number" line="237"><span class="token comment"># set default network</span>
</span><span class="code-line line-number" line="238"><span class="token function">virsh</span> net-define /etc/libvirt/qemu/networks/default.xml
</span><span class="code-line line-number" line="239">
</span><span class="code-line line-number" line="240"><span class="token comment"># get network infos</span>
</span><span class="code-line line-number" line="241"><span class="token function">virsh</span> net-info default
</span><span class="code-line line-number" line="242">
</span><span class="code-line line-number" line="243"><span class="token comment"># get xml network</span>
</span><span class="code-line line-number" line="244"><span class="token function">virsh</span> net-dumpxml default
</span><span class="code-line line-number" line="245">
</span><span class="code-line line-number" line="246"><span class="token comment"># xml file</span>
</span><span class="code-line line-number" line="247"><span class="token function">cat</span> /etc/libvirt/qemu/networks/default.xml
</span><span class="code-line line-number" line="248">
</span><span class="code-line line-number" line="249"><span class="token comment"># dhcp config</span>
</span><span class="code-line line-number" line="250"><span class="token function">sudo</span> <span class="token function">cat</span> /etc/libvirt/qemu/networks/default.xml <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-A</span> <span class="token number">10</span> dhcp
</span><span class="code-line line-number" line="251"><span class="token function">sudo</span> <span class="token function">cat</span> /var/lib/libvirt/dnsmasq/default.conf
</span><span class="code-line line-number" line="252">
</span><span class="code-line line-number" line="253"><span class="token comment"># get domain ipp address</span>
</span><span class="code-line line-number" line="254"><span class="token function">virsh</span> net-dhcp-leases default
</span><span class="code-line line-number" line="255"><span class="token function">virsh</span> net-dhcp-leases default <span class="token parameter variable">--mac</span> <span class="token number">52</span><span class="token punctuation">\</span>:54<span class="token punctuation">\</span>:00<span class="token punctuation">\</span>:89<span class="token punctuation">\</span>:19<span class="token punctuation">\</span>:86
</span><span class="code-line line-number" line="256">
</span><span class="code-line line-number" line="257"><span class="token comment"># edit network</span>
</span><span class="code-line line-number" line="258"><span class="token function">virsh</span> net-edit default
</span><span class="code-line line-number" line="259">
</span><span class="code-line line-number" line="260"><span class="token comment"># get domain network detais</span>
</span><span class="code-line line-number" line="261"><span class="token function">virsh</span> domiflist debian-server01
</span><span class="code-line line-number" line="262">
</span><span class="code-line line-number" line="263"><span class="token comment"># path for network filter files</span>
</span><span class="code-line line-number" line="264">/etc/libvirt/nwfilter/
</span><span class="code-line line-number" line="265">
</span><span class="code-line line-number" line="266"><span class="token comment"># list network filters</span>
</span><span class="code-line line-number" line="267"><span class="token function">virsh</span> nwfilter-list
</span><span class="code-line line-number" line="268">
</span><span class="code-line line-number" line="269"><span class="token comment"># create network filter - block icmp traffic</span>
</span><span class="code-line line-number" line="270"><span class="token function">virsh</span> nwfilter-define block-icmp.xml
</span><span class="code-line line-number" line="271"><span class="token comment"># virsh edit Debian-Server</span>
</span><span class="code-line line-number" line="272">    <span class="token comment">#  &#x3C;interface type='network'></span>
</span><span class="code-line line-number" line="273">    <span class="token comment">#        ...</span>
</span><span class="code-line line-number" line="274">    <span class="token comment">#        &#x3C;filterref filter='block-icmp'/></span>
</span><span class="code-line line-number" line="275">    <span class="token comment">#        ...</span>
</span><span class="code-line line-number" line="276">    <span class="token comment"># &#x3C;/interface></span>
</span><span class="code-line line-number" line="277"><span class="token comment"># virsh destroy debian-server01</span>
</span><span class="code-line line-number" line="278"><span class="token comment"># virsh start debian-server01</span>
</span><span class="code-line line-number" line="279">
</span><span class="code-line line-number" line="280"><span class="token comment"># delete network filter</span>
</span><span class="code-line line-number" line="281"><span class="token function">virsh</span> nwfilter-undefine block-icmp
</span><span class="code-line line-number" line="282">
</span><span class="code-line line-number" line="283"><span class="token comment"># get xml network filter</span>
</span><span class="code-line line-number" line="284"><span class="token function">virsh</span> nwfilter-dumpxml block-icmp
</span></code><div onclick="copied(this)" data-code="# using env variable for set virsh uri (local or remotly)
export LIBVIRT_DEFAULT_URI=qemu:///system
export LIBVIRT_DEFAULT_URI=xen+ssh://vagrant@192.168.0.130
export LIBVIRT_DEFAULT_URI=&#x27;xen+ssh://vagrant@192.168.0.130?keyfile=/home/vagrant/.ssh/skynet-key-ecdsa&#x27;

# COMMONS

# get helps
virsh help
virsh help pool-create

# view version
virsh version

# view system info
sudo virsh sysinfo

# view node info
virsh nodeinfo

# hostname
virsh hostname

# check vcn allocated port
virsh vncdisplay <domain_id>
virsh vncdisplay <domain_name>
virsh vncdisplay rocky9-server01 

# HYPERVISIONER

# view libvirt hypervisioner connection
virsh uri

# list valid hypervisioners
virt-host-validate
virt-host-validate qemu

# test connetion uri(vm test)
virsh -c test:///default list

# connect remotly
virsh -c xen+ssh://vagrant@192.168.0.130
virsh -c xen+ssh://vagrant@192.168.0.130 list
virsh -c qemu+ssh://vagrant@192.168.0.130/system list

# connect remotly without enter password
virsh -c &#x27;xen+ssh://vagrant@192.168.0.130?keyfile=/home/vagrant/.ssh/skynet-key-ecdsa&#x27;

# STORAGE

# list storage pools
virsh pool-list --details

# list all storage pool
virsh pool-list --all --details

# get a pool configuration
virsh pool-dumpxml default

# get pool info
virsh pool-info default

# create a storage pool
virsh pool-define-as --name default --type dir --target /var/lib/libvirt/images

# create a storage pool with dumpxml
virsh pool-create --overwrite --file configs/kvm/libvirt/pool.xml

# start storage pool
virsh pool-start default

# set storage pool for autostart
virsh pool-autostart default

# stop storage pool
virsh pool-destroy linux

# delete xml storage pool file
virsh pool-undefine linux

# edit storage pool
virsh pool-edit linux

# list volumes
virsh vol-list linux

# get volume infos
virsh vol-info Debian_12.0.0.qcow2 os-images
virsh vol-info --pool os-images Debian_12.0.0.qcow2 

# get volume xml
virsh vol-dumpxml rocky9-disk1 default

# create volume
virsh vol-create-as default --format qcow2 disk1 10G

# delete volume
virsh vol-delete  disk1 default

# DOMAINS \ INSTANCES \ VIRTUAL MACHINES

# list domain\instance\vm
virsh list
virsh list --all

# create domain\instance\vm
virsh create configs/kvm/libvirt/rocky9-server03.xml

# view domain\instance\vm info
virsh dominfo rocky9-server01

# view domain\instance\vm xml
virsh dumpxml rocky9-server01

# edit domain\instance\vm xml
virsh edit rocky9-server01

# stop domain\instance\vm
virsh shutdown rocky9-server01 # gracefully
virsh destroy 1
virsh destroy rocky9-server01

# suspend domain\instance\vm
virsh suspend rocky9-server01

# resume domain\instance\vm
virsh resume rocky9-server01

# start domain\instance\vm
virsh start rocky9-server01

# remove domain\instance\vm
virsh undefine rocky9-server01

# remove domain\instance\vm and storage volumes
virsh undefine rocky9-server01 --remove-all-storage

# save domain\instance\vm
virsh save rocky9-server01 rocky9-server01.qcow2

# restore domain\instance\vm
virsh restore rocky9-server01.qcow2

# list snapshots
virsh snapshot-list rocky9-server01

# create snapshot
virsh snapshot-create rocky9-server01

# restore snapshot
virsh snapshot-revert rocky9-server01 1748983520

# view snapshot xml
virsh snapshot-info rocky9-server01 1748983520

# dumpxml snapshot
virsh snapshot-dumpxml rocky9-server01 1748983520

# xml snapshot path
/var/lib/libvirt/qemu/snapshot/rocky9-server01/

# view snapshot info
virsh snapshot-info rocky9-server01 1748983671

# edit snapshot
virsh snapshot-edit rocky9-server01 1748983520

# delete snapshot
virsh snapshot-delete rocky9-server01 1748983520

# DEVICES

# list block devices
virsh domblklist rocky9-server01 --details

# add cdrom media 
virsh change-media rocky9-server01 sda /home/vagrant/isos/rocky/Rocky-9.5-x86_64-minimal.iso
virsh attach-disk rocky9-server01 /home/vagrant/isos/rocky/Rocky-9.5-x86_64-minimal.iso sda --type cdrom --mode readonly

# remove cdrom media
virsh change-media rocky9-server01 sda --eject

# add new disk
virsh attach-disk rocky9-server01  /var/lib/libvirt/images/rocky9-disk2  vdb --persistent

# remove disk
virsh detach-disk rocky9-server01 vdb --persistent

# RESOURCES (CPU and Memory)

# get cpu infos
virsh vcpuinfo rocky9-server01 --pretty
virsh dominfo rocky9-server01 | grep &#x27;CPU&#x27;

# get vcpu count
virsh vcpucount rocky9-server01

# set vcpus maximum config
virsh setvcpus rocky9-server01 --count 4 --maximum --config
virsh shutdown rocky9-server01
virsh start rocky9-server01

# set vcpu current config
virsh setvcpus rocky9-server01 --count 4 --config

# set vcpu current live
virsh setvcpus rocky9-server01 --count 3 --current
virsh setvcpus rocky9-server01 --count 3 --live

# configure vcpu afinity config
virsh vcpupin rocky9-server01 0 7 --config
virsh vcpupin rocky9-server01 1 5-6 --config

# configure vcpu afinity current
virsh vcpupin rocky9-server01 0 7
virsh vcpupin rocky9-server01 1 5-6

# set maximum memory config
virsh setmaxmem rocky9-server01 3000000 --config
virsh shutdown rocky9-server01
virsh start rocky9-server01

# set current memory config
virsh setmem rocky9-server01 2500000 --current

# NETWORK

# get netwwork bridges
brctl show

# get iptables rules for libvirt
sudo iptables -L -n -t  nat

# list network
virsh net-list --all

# set default network
virsh net-define /etc/libvirt/qemu/networks/default.xml

# get network infos
virsh net-info default

# get xml network
virsh net-dumpxml default

# xml file
cat /etc/libvirt/qemu/networks/default.xml

# dhcp config
sudo cat /etc/libvirt/qemu/networks/default.xml | grep -A 10 dhcp
sudo cat /var/lib/libvirt/dnsmasq/default.conf

# get domain ipp address
virsh net-dhcp-leases default
virsh net-dhcp-leases default --mac 52\:54\:00\:89\:19\:86

# edit network
virsh net-edit default

# get domain network detais
virsh domiflist debian-server01

# path for network filter files
/etc/libvirt/nwfilter/

# list network filters
virsh nwfilter-list

# create network filter - block icmp traffic
virsh nwfilter-define block-icmp.xml
# virsh edit Debian-Server
    #  <interface type=&#x27;network&#x27;>
    #        ...
    #        <filterref filter=&#x27;block-icmp&#x27;/>
    #        ...
    # </interface>
# virsh destroy debian-server01
# virsh start debian-server01

# delete network filter
virsh nwfilter-undefine block-icmp

# get xml network filter
virsh nwfilter-dumpxml block-icmp
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h6 id="virt-install"><a class="anchor" aria-hidden="true" tabindex="-1" href="#virt-install"><span class="octicon octicon-link"></span></a>virt-install</h6>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># list os variants</span>
</span><span class="code-line line-number" line="2">virt-install --os-variant list
</span><span class="code-line line-number" line="3">osinfo-query os
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token comment"># create domain\instance\vm with iso file</span>
</span><span class="code-line line-number" line="6"><span class="token function">virsh</span> vol-create-as default <span class="token parameter variable">--format</span> qcow2 rocky9-disk1 20G
</span><span class="code-line line-number" line="7">virt-install <span class="token parameter variable">--name</span> rocky9-server01 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="8"><span class="token parameter variable">--vcpus</span> <span class="token number">2</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="9"><span class="token parameter variable">--cpu</span> <span class="token function">host</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="10"><span class="token parameter variable">--memory</span> <span class="token number">2048</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="11"><span class="token parameter variable">--disk</span> <span class="token assign-left variable">vol</span><span class="token operator">=</span>default/rocky9-disk1 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="12"><span class="token parameter variable">--cdrom</span> /home/vagrant/isos/rocky/Rocky-9.5-x86_64-minimal.iso <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="13">--os-variant<span class="token operator">=</span>rocky9 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="14"><span class="token parameter variable">--graphics</span> vnc,listen<span class="token operator">=</span><span class="token number">0.0</span>.0.0,port<span class="token operator">=</span><span class="token number">5905</span>
</span><span class="code-line line-number" line="15">
</span><span class="code-line line-number" line="16"><span class="token comment"># create debian domain\instance\vm with qcow2 file</span>
</span><span class="code-line line-number" line="17">virt-install <span class="token parameter variable">--name</span> debian-server01 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="18"><span class="token parameter variable">--vcpus</span> <span class="token number">2</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="19"><span class="token parameter variable">--ram</span> <span class="token number">2048</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="20"><span class="token parameter variable">--disk</span> <span class="token assign-left variable">vol</span><span class="token operator">=</span>os-images/Debian_12.0.0.qcow2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="21"><span class="token parameter variable">--import</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="22"><span class="token parameter variable">--osinfo</span> <span class="token assign-left variable">detect</span><span class="token operator">=</span>on <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="23"><span class="token parameter variable">--graphics</span> vnc,listen<span class="token operator">=</span><span class="token number">0.0</span>.0.0,port<span class="token operator">=</span><span class="token number">5906</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="24"><span class="token parameter variable">--network</span> <span class="token assign-left variable">network</span><span class="token operator">=</span>default <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="25"><span class="token parameter variable">--noautoconsole</span>
</span><span class="code-line line-number" line="26">
</span><span class="code-line line-number" line="27"><span class="token comment"># create rocky9 domain\instance\vm with qcow2 file</span>
</span><span class="code-line line-number" line="28">virt-install <span class="token parameter variable">--name</span> rocky9-server02 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="29"><span class="token parameter variable">--vcpus</span> <span class="token number">2</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="30"><span class="token parameter variable">--ram</span> <span class="token number">2048</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="31"><span class="token parameter variable">--disk</span> <span class="token assign-left variable">path</span><span class="token operator">=</span>os-images/RockyLinux_9.4_VMG/RockyLinux_9.4.qcow2,format<span class="token operator">=</span>qcow2,bus<span class="token operator">=</span>virtio <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="32"><span class="token parameter variable">--import</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="33"><span class="token parameter variable">--osinfo</span> <span class="token assign-left variable">detect</span><span class="token operator">=</span>on <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="34"><span class="token parameter variable">--graphics</span> vnc,listen<span class="token operator">=</span><span class="token number">0.0</span>.0.0,port<span class="token operator">=</span><span class="token number">5907</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="35"><span class="token parameter variable">--network</span> <span class="token assign-left variable">bridge</span><span class="token operator">=</span>qemubr0,model<span class="token operator">=</span>virtio <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="36"><span class="token parameter variable">--noautoconsole</span>
</span><span class="code-line line-number" line="37">
</span><span class="code-line line-number" line="38"><span class="token comment"># open domain\instance\vm gui console</span>
</span><span class="code-line line-number" line="39">virt-viewer debian-server01
</span><span class="code-line line-number" line="40">
</span><span class="code-line line-number" line="41"><span class="token comment"># check metadata domain\instance\vm file (if uri is qemu:////system)</span>
</span><span class="code-line line-number" line="42"><span class="token function">less</span> /etc/libvirt/qemu/debian-server01.xml
</span></code><div onclick="copied(this)" data-code="# list os variants
virt-install --os-variant list
osinfo-query os

# create domain\instance\vm with iso file
virsh vol-create-as default --format qcow2 rocky9-disk1 20G
virt-install --name rocky9-server01 \
--vcpus 2 \
--cpu host \
--memory 2048 \
--disk vol=default/rocky9-disk1 \
--cdrom /home/vagrant/isos/rocky/Rocky-9.5-x86_64-minimal.iso \
--os-variant=rocky9 \
--graphics vnc,listen=0.0.0.0,port=5905

# create debian domain\instance\vm with qcow2 file
virt-install --name debian-server01 \
--vcpus 2 \
--ram 2048 \
--disk vol=os-images/Debian_12.0.0.qcow2 \
--import \
--osinfo detect=on \
--graphics vnc,listen=0.0.0.0,port=5906 \
--network network=default \
--noautoconsole

# create rocky9 domain\instance\vm with qcow2 file
virt-install --name rocky9-server02 \
--vcpus 2 \
--ram 2048 \
--disk path=os-images/RockyLinux_9.4_VMG/RockyLinux_9.4.qcow2,format=qcow2,bus=virtio \
--import \
--osinfo detect=on \
--graphics vnc,listen=0.0.0.0,port=5907 \
--network bridge=qemubr0,model=virtio \
--noautoconsole

# open domain\instance\vm gui console
virt-viewer debian-server01

# check metadata domain\instance\vm file (if uri is qemu:////system)
less /etc/libvirt/qemu/debian-server01.xml
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p align="right">(<a href="#topic-351.4">back to sub Topic 351.4</a>)</p>
    <p align="right">(<a href="#topic-351">back to Topic 351</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr>
    <p><a name="topic-351.5"></a></p>
    <h3 id="3515-virtual-machine-disk-image-management"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3515-virtual-machine-disk-image-management"><span class="octicon octicon-link"></span></a>351.5 Virtual Machine Disk Image Management</h3>
    <p>
      <img src="images/virtual-machine-disk.png" alt="disk-managment">
    </p>
    <p><strong>Weight:</strong> 3</p>
    <p><strong>Description:</strong> Candidates should be able to manage virtual machines disk images. This includes converting disk images between various formats and hypervisors and accessing data stored within an image.</p>
    <p><strong>Key Knowledge Areas:</strong></p>
    <ul>
      <li>Understand features of various virtual disk image formats, such as raw images, qcow2 and VMDK</li>
      <li>Manage virtual machine disk images using qemu-img</li>
      <li>Mount partitions and access files contained in virtual machine disk images using libguestfish</li>
      <li>Copy physical disk content to a virtual machine disk image</li>
      <li>Migrate disk content between various virtual machine disk image formats</li>
      <li>Awareness of Open Virtualization Format (OVF)</li>
    </ul>
    <h4 id="3515-cited-objects"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3515-cited-objects"><span class="octicon octicon-link"></span></a>351.5 Cited Objects</h4>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">qemu-img
</span><span class="code-line line-number" line="2">guestfish <span class="token punctuation">(</span>including relevant subcommands<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="3">guestmount
</span><span class="code-line line-number" line="4">guestumount
</span><span class="code-line line-number" line="5">virt-cat
</span><span class="code-line line-number" line="6">virt-copy-in
</span><span class="code-line line-number" line="7">virt-copy-out
</span><span class="code-line line-number" line="8">virt-diff
</span><span class="code-line line-number" line="9">virt-inspector
</span><span class="code-line line-number" line="10">virt-filesystems
</span><span class="code-line line-number" line="11">virt-rescue
</span><span class="code-line line-number" line="12">virt-df
</span><span class="code-line line-number" line="13">virt-sparsify
</span><span class="code-line line-number" line="14">virt-p2v
</span><span class="code-line line-number" line="15">virt-p2v-make-disk
</span><span class="code-line line-number" line="16">virt-v2v
</span></code><div onclick="copied(this)" data-code="qemu-img
guestfish (including relevant subcommands)
guestmount
guestumount
virt-cat
virt-copy-in
virt-copy-out
virt-diff
virt-inspector
virt-filesystems
virt-rescue
virt-df
virt-sparsify
virt-p2v
virt-p2v-make-disk
virt-v2v
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="3515-important-commands"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3515-important-commands"><span class="octicon octicon-link"></span></a>351.5 Important Commands</h4>
    <h5 id="35151-qemu-img"><a class="anchor" aria-hidden="true" tabindex="-1" href="#35151-qemu-img"><span class="octicon octicon-link"></span></a>351.5.1 qemu-img</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Display detailed information about a disk image</span>
</span><span class="code-line line-number" line="2">qemu-img info UbuntuServer_24.04.qcow2
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># Create a new 22G raw disk image (default format is raw)</span>
</span><span class="code-line line-number" line="5">qemu-img create new-disk 22G
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token comment"># Create a new 22G disk image in qcow2 format</span>
</span><span class="code-line line-number" line="8">qemu-img create <span class="token parameter variable">-f</span> qcow2 new-disk2 22G
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10"><span class="token comment"># Convert a VDI image to raw format using 5 threads and show progress</span>
</span><span class="code-line line-number" line="11">qemu-img convert <span class="token parameter variable">-f</span> vdi <span class="token parameter variable">-O</span> raw Ubuntu-Server.vdk new-Ubuntu.raw <span class="token parameter variable">-m5</span> <span class="token parameter variable">-p</span>
</span><span class="code-line line-number" line="12">
</span><span class="code-line line-number" line="13"><span class="token comment"># Convert vmdk to qcow2 image</span>
</span><span class="code-line line-number" line="14">qemu-img convert <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="15"><span class="token parameter variable">-f</span> vmdk <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="16"><span class="token parameter variable">-O</span> qcow2 os-images/UbuntuServer_24.04_VM/UbuntuServer_24.04_VM_LinuxVMImages.COM.vmdk <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="17">os-images/UbuntuServer_24.04_VM/UbuntuServer_24.04.qcow2 <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="18"><span class="token parameter variable">-p</span> <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="19"><span class="token parameter variable">-m16</span>
</span><span class="code-line line-number" line="20">
</span><span class="code-line line-number" line="21"><span class="token comment"># Resize a raw image to 30G</span>
</span><span class="code-line line-number" line="22">qemu-img resize <span class="token parameter variable">-f</span> raw new-disk 30G
</span><span class="code-line line-number" line="23">
</span><span class="code-line line-number" line="24"><span class="token comment"># Resize a qcow2 image to 15G(actual size 30Gdisk 30G)</span>
</span><span class="code-line line-number" line="25">qemu-img resize <span class="token parameter variable">-f</span> raw <span class="token parameter variable">--shrink</span> new-disk 15G
</span><span class="code-line line-number" line="26">
</span><span class="code-line line-number" line="27"><span class="token comment"># Snapshots</span>
</span><span class="code-line line-number" line="28">
</span><span class="code-line line-number" line="29"><span class="token comment"># List all snapshots in the image</span>
</span><span class="code-line line-number" line="30">qemu-img snapshot <span class="token parameter variable">-l</span> new-disk2.qcow2
</span><span class="code-line line-number" line="31">
</span><span class="code-line line-number" line="32"><span class="token comment"># Create a snapshot named SNAP1</span>
</span><span class="code-line line-number" line="33">qemu-img snapshot <span class="token parameter variable">-c</span> SNAP1 disk
</span><span class="code-line line-number" line="34">
</span><span class="code-line line-number" line="35"><span class="token comment"># Apply a snapshot by ID or name</span>
</span><span class="code-line line-number" line="36">qemu-img snapshot <span class="token parameter variable">-a</span> <span class="token number">123456789</span> disk
</span><span class="code-line line-number" line="37">
</span><span class="code-line line-number" line="38"><span class="token comment"># Delete the snapshot named SNAP1</span>
</span><span class="code-line line-number" line="39">qemu-img snapshot <span class="token parameter variable">-d</span> SNAP1 disk
</span></code><div onclick="copied(this)" data-code="# Display detailed information about a disk image
qemu-img info UbuntuServer_24.04.qcow2

# Create a new 22G raw disk image (default format is raw)
qemu-img create new-disk 22G

# Create a new 22G disk image in qcow2 format
qemu-img create -f qcow2 new-disk2 22G

# Convert a VDI image to raw format using 5 threads and show progress
qemu-img convert -f vdi -O raw Ubuntu-Server.vdk new-Ubuntu.raw -m5 -p

# Convert vmdk to qcow2 image
qemu-img convert \
-f vmdk \
-O qcow2 os-images/UbuntuServer_24.04_VM/UbuntuServer_24.04_VM_LinuxVMImages.COM.vmdk \
os-images/UbuntuServer_24.04_VM/UbuntuServer_24.04.qcow2 \
-p \
-m16

# Resize a raw image to 30G
qemu-img resize -f raw new-disk 30G

# Resize a qcow2 image to 15G(actual size 30Gdisk 30G)
qemu-img resize -f raw --shrink new-disk 15G

# Snapshots

# List all snapshots in the image
qemu-img snapshot -l new-disk2.qcow2

# Create a snapshot named SNAP1
qemu-img snapshot -c SNAP1 disk

# Apply a snapshot by ID or name
qemu-img snapshot -a 123456789 disk

# Delete the snapshot named SNAP1
qemu-img snapshot -d SNAP1 disk
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="guestfish"><a class="anchor" aria-hidden="true" tabindex="-1" href="#guestfish"><span class="octicon octicon-link"></span></a>guestfish</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># set enviroment variables for guestfish</span>
</span><span class="code-line line-number" line="2"><span class="token builtin class-name">export</span> <span class="token assign-left variable">LIBGUESTFS_BACKEND_SETTINGS</span><span class="token operator">=</span>force_tcg
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># Launch guestfish with a disk image</span>
</span><span class="code-line line-number" line="5">guestfish <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2
</span><span class="code-line line-number" line="6"><span class="token comment">#run</span>
</span><span class="code-line line-number" line="7"><span class="token comment">#list-partitions</span>
</span><span class="code-line line-number" line="8">
</span><span class="code-line line-number" line="9"><span class="token comment"># Run the commands in a script file</span>
</span><span class="code-line line-number" line="10">guestfish <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 <span class="token parameter variable">-m</span> /dev/sda <span class="token parameter variable">-i</span> <span class="token operator">&#x3C;</span> script.ssh
</span><span class="code-line line-number" line="11">
</span><span class="code-line line-number" line="12"><span class="token comment"># Interactively run commands</span>
</span><span class="code-line line-number" line="13">guestfish <span class="token parameter variable">--rw</span> <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 <span class="token operator">&#x3C;&#x3C;</span><span class="token string">'EOF'
</span></span><span class="code-line line-number" line="14"><span class="token string">run
</span></span><span class="code-line line-number" line="15"><span class="token string">list-filesystems
</span></span><span class="code-line line-number" line="16"><span class="token string">EOF</span>
</span><span class="code-line line-number" line="17">
</span><span class="code-line line-number" line="18"><span class="token comment"># Copy a file from the guest image to the host</span>
</span><span class="code-line line-number" line="19"><span class="token builtin class-name">export</span> <span class="token assign-left variable">LIBGUESTFS_BACKEND_SETTINGS</span><span class="token operator">=</span>force_tcg
</span><span class="code-line line-number" line="20"><span class="token function">sudo</span> guestfish <span class="token parameter variable">--rw</span> <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 <span class="token parameter variable">-i</span> <span class="token operator">&#x3C;&#x3C;</span><span class="token string">'EOF'
</span></span><span class="code-line line-number" line="21"><span class="token string">copy-out /etc/hostname /tmp/
</span></span><span class="code-line line-number" line="22"><span class="token string">EOF</span>
</span><span class="code-line line-number" line="23">
</span><span class="code-line line-number" line="24"><span class="token comment"># Copy a file from the host into the guest image</span>
</span><span class="code-line line-number" line="25"><span class="token builtin class-name">echo</span> <span class="token string">"new-hostname"</span> <span class="token operator">></span> /tmp/hostname
</span><span class="code-line line-number" line="26"><span class="token builtin class-name">export</span> <span class="token assign-left variable">LIBGUESTFS_BACKEND_SETTINGS</span><span class="token operator">=</span>force_tcg
</span><span class="code-line line-number" line="27"><span class="token function">sudo</span> guestfish <span class="token parameter variable">--rw</span> <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 <span class="token parameter variable">-i</span> <span class="token operator">&#x3C;&#x3C;</span><span class="token string">'EOF'
</span></span><span class="code-line line-number" line="28"><span class="token string">copy-in /tmp/hostname /etc/
</span></span><span class="code-line line-number" line="29"><span class="token string">EOF</span>
</span><span class="code-line line-number" line="30">
</span><span class="code-line line-number" line="31"><span class="token comment"># View contents of a file in the guest image</span>
</span><span class="code-line line-number" line="32">guestfish <span class="token parameter variable">--ro</span> <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 <span class="token parameter variable">-i</span> <span class="token operator">&#x3C;&#x3C;</span><span class="token string">'EOF'
</span></span><span class="code-line line-number" line="33"><span class="token string">cat /etc/hostname
</span></span><span class="code-line line-number" line="34"><span class="token string">EOF</span>
</span><span class="code-line line-number" line="35">
</span><span class="code-line line-number" line="36"><span class="token comment"># List files in the guest image</span>
</span><span class="code-line line-number" line="37"><span class="token builtin class-name">export</span> <span class="token assign-left variable">LIBGUESTFS_BACKEND_SETTINGS</span><span class="token operator">=</span>force_tcg
</span><span class="code-line line-number" line="38">guestfish <span class="token parameter variable">--rw</span> <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 <span class="token parameter variable">-i</span> <span class="token operator">&#x3C;&#x3C;</span><span class="token string">'EOF'
</span></span><span class="code-line line-number" line="39"><span class="token string">ls /home/ubuntu
</span></span><span class="code-line line-number" line="40"><span class="token string">EOF</span>
</span><span class="code-line line-number" line="41">
</span><span class="code-line line-number" line="42"><span class="token comment"># Edit a file in the guest image</span>
</span><span class="code-line line-number" line="43"><span class="token builtin class-name">export</span> <span class="token assign-left variable">LIBGUESTFS_BACKEND_SETTINGS</span><span class="token operator">=</span>force_tcg
</span><span class="code-line line-number" line="44">guestfish <span class="token parameter variable">--rw</span> <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 <span class="token parameter variable">-i</span> <span class="token operator">&#x3C;&#x3C;</span><span class="token string">'EOF'
</span></span><span class="code-line line-number" line="45"><span class="token string">edit /etc/hosts
</span></span><span class="code-line line-number" line="46"><span class="token string">EOF</span>
</span></code><div onclick="copied(this)" data-code="# set enviroment variables for guestfish
export LIBGUESTFS_BACKEND_SETTINGS=force_tcg

# Launch guestfish with a disk image
guestfish -a UbuntuServer_24.04.qcow2
#run
#list-partitions

# Run the commands in a script file
guestfish -a UbuntuServer_24.04.qcow2 -m /dev/sda -i < script.ssh

# Interactively run commands
guestfish --rw -a UbuntuServer_24.04.qcow2 <<&#x27;EOF&#x27;
run
list-filesystems
EOF

# Copy a file from the guest image to the host
export LIBGUESTFS_BACKEND_SETTINGS=force_tcg
sudo guestfish --rw -a UbuntuServer_24.04.qcow2 -i <<&#x27;EOF&#x27;
copy-out /etc/hostname /tmp/
EOF

# Copy a file from the host into the guest image
echo &#x22;new-hostname&#x22; > /tmp/hostname
export LIBGUESTFS_BACKEND_SETTINGS=force_tcg
sudo guestfish --rw -a UbuntuServer_24.04.qcow2 -i <<&#x27;EOF&#x27;
copy-in /tmp/hostname /etc/
EOF

# View contents of a file in the guest image
guestfish --ro -a UbuntuServer_24.04.qcow2 -i <<&#x27;EOF&#x27;
cat /etc/hostname
EOF

# List files in the guest image
export LIBGUESTFS_BACKEND_SETTINGS=force_tcg
guestfish --rw -a UbuntuServer_24.04.qcow2 -i <<&#x27;EOF&#x27;
ls /home/ubuntu
EOF

# Edit a file in the guest image
export LIBGUESTFS_BACKEND_SETTINGS=force_tcg
guestfish --rw -a UbuntuServer_24.04.qcow2 -i <<&#x27;EOF&#x27;
edit /etc/hosts
EOF
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h6 id="guestmount"><a class="anchor" aria-hidden="true" tabindex="-1" href="#guestmount"><span class="octicon octicon-link"></span></a>guestmount</h6>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Mount a disk image to a directory</span>
</span><span class="code-line line-number" line="2">guestmount <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 <span class="token parameter variable">-m</span> /dev/ubuntu-vg/ubuntu-lv /mnt/ubuntu
</span><span class="code-line line-number" line="3"><span class="token comment"># domain</span>
</span><span class="code-line line-number" line="4">guestmount <span class="token parameter variable">-d</span> rocky9-server02 <span class="token parameter variable">-m</span> /dev/ubuntu-vg/ubuntu-lv /mnt/ubuntu 
</span><span class="code-line line-number" line="5">
</span><span class="code-line line-number" line="6"><span class="token comment"># Mount a specific partition from a disk image</span>
</span><span class="code-line line-number" line="7">guestmount <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 <span class="token parameter variable">-m</span> /dev/sda2 /mnt/ubuntu
</span><span class="code-line line-number" line="8"><span class="token comment"># domain</span>
</span><span class="code-line line-number" line="9">guestmount <span class="token parameter variable">-d</span> debian-server01 <span class="token parameter variable">--ro</span> <span class="token parameter variable">-m</span>  /dev/debian-vg/root /mnt/debian
</span></code><div onclick="copied(this)" data-code="# Mount a disk image to a directory
guestmount -a UbuntuServer_24.04.qcow2 -m /dev/ubuntu-vg/ubuntu-lv /mnt/ubuntu
# domain
guestmount -d rocky9-server02 -m /dev/ubuntu-vg/ubuntu-lv /mnt/ubuntu 

# Mount a specific partition from a disk image
guestmount -a UbuntuServer_24.04.qcow2 -m /dev/sda2 /mnt/ubuntu
# domain
guestmount -d debian-server01 --ro -m  /dev/debian-vg/root /mnt/debian
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h6 id="guestumount"><a class="anchor" aria-hidden="true" tabindex="-1" href="#guestumount"><span class="octicon octicon-link"></span></a>guestumount</h6>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Umount a disk image to a directory</span>
</span><span class="code-line line-number" line="2"><span class="token function">sudo</span> guestunmount /mnt/ubuntu
</span></code><div onclick="copied(this)" data-code="# Umount a disk image to a directory
sudo guestunmount /mnt/ubuntu
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="virt-df"><a class="anchor" aria-hidden="true" tabindex="-1" href="#virt-df"><span class="octicon octicon-link"></span></a>virt-df</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Show free and used space on virtual machine filesystems</span>
</span><span class="code-line line-number" line="2">virt-df UbuntuServer_24.04.qcow2 <span class="token parameter variable">-h</span>
</span><span class="code-line line-number" line="3">virt-df <span class="token parameter variable">-d</span> rocky9-server02 <span class="token parameter variable">-h</span>
</span></code><div onclick="copied(this)" data-code="# Show free and used space on virtual machine filesystems
virt-df UbuntuServer_24.04.qcow2 -h
virt-df -d rocky9-server02 -h
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="virt-filesystems"><a class="anchor" aria-hidden="true" tabindex="-1" href="#virt-filesystems"><span class="octicon octicon-link"></span></a>virt-filesystems</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># List filesystems, partitions, and logical volumes in a VM disk image (disk image)</span>
</span><span class="code-line line-number" line="2">virt-filesystems <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 <span class="token parameter variable">--all</span> <span class="token parameter variable">--long</span> <span class="token parameter variable">-h</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># List filesystems, partitions, and logical volumes in a VM disk image (domain)</span>
</span><span class="code-line line-number" line="5">virt-filesystems <span class="token parameter variable">-d</span> debian-server01 <span class="token parameter variable">--all</span> <span class="token parameter variable">--long</span> <span class="token parameter variable">-h</span>
</span></code><div onclick="copied(this)" data-code="# List filesystems, partitions, and logical volumes in a VM disk image (disk image)
virt-filesystems -a UbuntuServer_24.04.qcow2 --all --long -h

# List filesystems, partitions, and logical volumes in a VM disk image (domain)
virt-filesystems -d debian-server01 --all --long -h
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="virt-inspector"><a class="anchor" aria-hidden="true" tabindex="-1" href="#virt-inspector"><span class="octicon octicon-link"></span></a>virt-inspector</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Inspect and report on the operating system in a VM disk image</span>
</span><span class="code-line line-number" line="2">virt-inspector <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 <span class="token comment">#(disk)</span>
</span><span class="code-line line-number" line="3">virt-inspector <span class="token parameter variable">-d</span> debian-server01 <span class="token comment">#(domain) </span>
</span></code><div onclick="copied(this)" data-code="# Inspect and report on the operating system in a VM disk image
virt-inspector -a UbuntuServer_24.04.qcow2 #(disk)
virt-inspector -d debian-server01 #(domain) 
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="virt-cat"><a class="anchor" aria-hidden="true" tabindex="-1" href="#virt-cat"><span class="octicon octicon-link"></span></a>virt-cat</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Display the contents of a file inside a VM disk image</span>
</span><span class="code-line line-number" line="2">virt-cat <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 /etc/hosts
</span><span class="code-line line-number" line="3">virt-cat <span class="token parameter variable">-d</span> debian-server01 /etc/hosts <span class="token comment">#(domain)</span>
</span></code><div onclick="copied(this)" data-code="# Display the contents of a file inside a VM disk image
virt-cat -a UbuntuServer_24.04.qcow2 /etc/hosts
virt-cat -d debian-server01 /etc/hosts #(domain)
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="virt-diff"><a class="anchor" aria-hidden="true" tabindex="-1" href="#virt-diff"><span class="octicon octicon-link"></span></a>virt-diff</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Show differences between two VM disk images</span>
</span><span class="code-line line-number" line="2">virt-diff <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 <span class="token parameter variable">-A</span> Rocky-Linux.qcow2
</span></code><div onclick="copied(this)" data-code="# Show differences between two VM disk images
virt-diff -a UbuntuServer_24.04.qcow2 -A Rocky-Linux.qcow2
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="virt-sparsify"><a class="anchor" aria-hidden="true" tabindex="-1" href="#virt-sparsify"><span class="octicon octicon-link"></span></a>virt-sparsify</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Make a VM disk image smaller by removing unused space</span>
</span><span class="code-line line-number" line="2">virt-sparsify UbuntuServer_24.04.qcow2 UbuntuServer_24.04-sparse.qcow2
</span></code><div onclick="copied(this)" data-code="# Make a VM disk image smaller by removing unused space
virt-sparsify UbuntuServer_24.04.qcow2 UbuntuServer_24.04-sparse.qcow2
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="virt-resize"><a class="anchor" aria-hidden="true" tabindex="-1" href="#virt-resize"><span class="octicon octicon-link"></span></a>virt-resize</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Resize a VM disk image or its partitions</span>
</span><span class="code-line line-number" line="2">virt-filesystems <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 <span class="token parameter variable">--all</span> <span class="token parameter variable">--long</span> <span class="token parameter variable">-h</span> <span class="token comment">#(check size of partitions)</span>
</span><span class="code-line line-number" line="3">qemu-img create <span class="token parameter variable">-f</span> qcow2 UbuntuServer_24.04-expanded.qcow2 100G <span class="token comment">#(create new disk image with 100G)</span>
</span><span class="code-line line-number" line="4">virt-resize <span class="token parameter variable">--expand</span> /dev/ubuntu-vg/ubuntu-lv <span class="token punctuation">\</span>
</span><span class="code-line line-number" line="5">UbuntuServer_24.04.qcow2 UbuntuServer_24.04-expanded.qcow2
</span><span class="code-line line-number" line="6">
</span></code><div onclick="copied(this)" data-code="# Resize a VM disk image or its partitions
virt-filesystems -a UbuntuServer_24.04.qcow2 --all --long -h #(check size of partitions)
qemu-img create -f qcow2 UbuntuServer_24.04-expanded.qcow2 100G #(create new disk image with 100G)
virt-resize --expand /dev/ubuntu-vg/ubuntu-lv \
UbuntuServer_24.04.qcow2 UbuntuServer_24.04-expanded.qcow2

" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="virt-copy-in"><a class="anchor" aria-hidden="true" tabindex="-1" href="#virt-copy-in"><span class="octicon octicon-link"></span></a>virt-copy-in</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Copy files from the host into a VM disk image</span>
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3">virt-copy-in <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 ~vagrant/test-virt-copy-in.txt /home/ubuntu
</span></code><div onclick="copied(this)" data-code="# Copy files from the host into a VM disk image

virt-copy-in -a UbuntuServer_24.04.qcow2 ~vagrant/test-virt-copy-in.txt /home/ubuntu
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="virt-copy-out"><a class="anchor" aria-hidden="true" tabindex="-1" href="#virt-copy-out"><span class="octicon octicon-link"></span></a>virt-copy-out</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Copy files from a VM disk image to the host</span>
</span><span class="code-line line-number" line="2">virt-copy-out <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 /home/ubuntu/.bashrc /tmp
</span></code><div onclick="copied(this)" data-code="# Copy files from a VM disk image to the host
virt-copy-out -a UbuntuServer_24.04.qcow2 /home/ubuntu/.bashrc /tmp
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="virt-ls"><a class="anchor" aria-hidden="true" tabindex="-1" href="#virt-ls"><span class="octicon octicon-link"></span></a>virt-ls</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># List files and directories inside a VM disk image</span>
</span><span class="code-line line-number" line="2">virt-ls <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2 /home/ubuntu
</span></code><div onclick="copied(this)" data-code="# List files and directories inside a VM disk image
virt-ls -a UbuntuServer_24.04.qcow2 /home/ubuntu
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="virt-rescue"><a class="anchor" aria-hidden="true" tabindex="-1" href="#virt-rescue"><span class="octicon octicon-link"></span></a>virt-rescue</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Launch a rescue shell on a VM disk image for recovery</span>
</span><span class="code-line line-number" line="2">virt-rescue <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2
</span></code><div onclick="copied(this)" data-code="# Launch a rescue shell on a VM disk image for recovery
virt-rescue -a UbuntuServer_24.04.qcow2
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="virt-sysprep"><a class="anchor" aria-hidden="true" tabindex="-1" href="#virt-sysprep"><span class="octicon octicon-link"></span></a>virt-sysprep</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Prepare a VM disk image for cloning by removing system-specific data</span>
</span><span class="code-line line-number" line="2">virt-sysprep <span class="token parameter variable">-a</span> UbuntuServer_24.04.qcow2
</span></code><div onclick="copied(this)" data-code="# Prepare a VM disk image for cloning by removing system-specific data
virt-sysprep -a UbuntuServer_24.04.qcow2
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="virt-v2v"><a class="anchor" aria-hidden="true" tabindex="-1" href="#virt-v2v"><span class="octicon octicon-link"></span></a>virt-v2v</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Convert a VM from a foreign hypervisor to run on KVM</span>
</span><span class="code-line line-number" line="2">virt-v2v <span class="token parameter variable">-i</span> disk input-disk.img <span class="token parameter variable">-o</span> <span class="token builtin class-name">local</span> <span class="token parameter variable">-os</span> /var/tmp
</span></code><div onclick="copied(this)" data-code="# Convert a VM from a foreign hypervisor to run on KVM
virt-v2v -i disk input-disk.img -o local -os /var/tmp
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="virt-p2v"><a class="anchor" aria-hidden="true" tabindex="-1" href="#virt-p2v"><span class="octicon octicon-link"></span></a>virt-p2v</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Convert a physical machine to use KVM</span>
</span></code><div onclick="copied(this)" data-code="# Convert a physical machine to use KVM
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="virt-p2v-make-disk"><a class="anchor" aria-hidden="true" tabindex="-1" href="#virt-p2v-make-disk"><span class="octicon octicon-link"></span></a>virt-p2v-make-disk</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Create a bootable disk image for physical to virtual conversion</span>
</span><span class="code-line line-number" line="2"><span class="token function">sudo</span> virt-p2v-make-disk <span class="token parameter variable">-o</span> output.img
</span></code><div onclick="copied(this)" data-code="# Create a bootable disk image for physical to virtual conversion
sudo virt-p2v-make-disk -o output.img
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="3515-notes"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3515-notes"><span class="octicon octicon-link"></span></a>351.5 Notes</h4>
    <h5 id="ovf-open-virtualization-format"><a class="anchor" aria-hidden="true" tabindex="-1" href="#ovf-open-virtualization-format"><span class="octicon octicon-link"></span></a>OVF: Open Virtualization Format</h5>
    <p>OVF: An open format that defines a standard for packaging and distributing virtual machines across different environments.</p>
    <p>The generated package has the .ova extension and contains the following files:</p>
    <ul>
      <li>.ovf: XML file with metadata defining the virtual machine environment</li>
      <li>Image files: .vmdk, .vhd, .vhdx, .qcow2, .raw</li>
      <li>Additional files: metadata, snapshots, configuration, hash</li>
    </ul>
    <p align="right">(<a href="#topic-351.5">back to sub Topic 351.5</a>)</p>
    <p align="right">(<a href="#topic-351">back to Topic 351</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr>
    <p><a name="topic-352"></a></p>
    <h2 id="topic-352-container-virtualization"><a class="anchor" aria-hidden="true" tabindex="-1" href="#topic-352-container-virtualization"><span class="octicon octicon-link"></span></a>Topic 352: Container Virtualization</h2>
    <hr>
    <p><a name="topic-352.1"></a></p>
    <h3 id="3521--container-virtualization-concepts"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3521--container-virtualization-concepts"><span class="octicon octicon-link"></span></a>352.1 Container Virtualization Concepts</h3>
    <p>
      <img src="images/virtualization-container.png" alt="virtualization-container">
    </p>
    <pre class="language-mermaid"><code class="language-mermaid code-highlight"><span class="code-line line-number" line="1">timeline
</span><span class="code-line line-number" line="2">    title Time Line Containers Evolution
</span><span class="code-line line-number" line="3">    1979 <span class="token operator">:</span> chroot
</span><span class="code-line line-number" line="4">    2000 <span class="token operator">:</span> FreeBSD Jails
</span><span class="code-line line-number" line="5">    2002 <span class="token operator">:</span> Linux Namespaces
</span><span class="code-line line-number" line="6">    2005 <span class="token operator">:</span> Solaris Containers
</span><span class="code-line line-number" line="7">    2007 <span class="token operator">:</span> cgroups
</span><span class="code-line line-number" line="8">    2008 <span class="token operator">:</span> LXC
</span><span class="code-line line-number" line="9">    2013 <span class="token operator">:</span> Docker
</span><span class="code-line line-number" line="10">    2015 <span class="token operator">:</span> Kubernetes
</span></code><div onclick="copied(this)" data-code="timeline
    title Time Line Containers Evolution
    1979 : chroot
    2000 : FreeBSD Jails
    2002 : Linux Namespaces
    2005 : Solaris Containers
    2007 : cgroups
    2008 : LXC
    2013 : Docker
    2015 : Kubernetes
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <hr>
    <p><strong>Weight:</strong> 7</p>
    <p><strong>Description:</strong> Candidates should understand the concept of container virtualization. This includes understanding the Linux components used to implement container virtualization as well as using standard Linux tools to troubleshoot these components.</p>
    <p><strong>Key Knowledge Areas:</strong></p>
    <ul>
      <li>Understand the concepts of system and application container</li>
      <li>Understand and analyze kernel namespaces</li>
      <li>Understand and analyze control groups</li>
      <li>Understand and analyze capabilities</li>
      <li>Understand the role of seccomp, SELinux and AppArmor for container virtualization</li>
      <li>Understand how LXC and Docker leverage namespaces, cgroups, capabilities, seccomp and MAC</li>
      <li>Understand the principle of runc</li>
      <li>Understand the principle of CRI-O and containerd</li>
      <li>Awareness of the OCI runtime and image specifications</li>
      <li>Awareness of the Kubernetes Container Runtime Interface (CRI)</li>
      <li>Awareness of podman, buildah and skopeo</li>
      <li>Awareness of other container virtualization approaches in Linux and other free operating systems, such as rkt, OpenVZ, systemd-nspawn or BSD Jails</li>
    </ul>
    <hr>
    <h4 id="3521-cited-objects"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3521-cited-objects"><span class="octicon octicon-link"></span></a>352.1 Cited Objects</h4>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">nsenter
</span><span class="code-line line-number" line="2">unshare
</span><span class="code-line line-number" line="3"><span class="token function">ip</span> <span class="token punctuation">(</span>including relevant subcommands<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="4">capsh
</span><span class="code-line line-number" line="5">/sys/fs/cgroups
</span><span class="code-line line-number" line="6">/proc/<span class="token punctuation">[</span><span class="token number">0</span>-9<span class="token punctuation">]</span>+/ns
</span><span class="code-line line-number" line="7">/proc/<span class="token punctuation">[</span><span class="token number">0</span>-9<span class="token punctuation">]</span>+/status
</span></code><div onclick="copied(this)" data-code="nsenter
unshare
ip (including relevant subcommands)
capsh
/sys/fs/cgroups
/proc/[0-9]+/ns
/proc/[0-9]+/status
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <hr>
    <h4 id="understanding-containers"><a class="anchor" aria-hidden="true" tabindex="-1" href="#understanding-containers"><span class="octicon octicon-link"></span></a>Understanding Containers</h4>
    <p>Containers are a virtualization technology that packages applications with all their dependenciesâ€”code, libraries, and configurationsâ€”into isolated, executable units.</p>
    <p>This approach ensures that software runs consistently in any environment, whether on desktops, traditional IT infrastructure, or the cloud.</p>
    <p>
      What Are Containers?
      At their core, containers virtualize the operating system, allowing applications to<br>share the underlying server's OS kernel while running as isolated, self-contained processes.<br>Unlike virtual machines (VMs), which include a complete operating system for each instance, containers are lighter and more resource-efficient.
    </p>
    <hr>
    <h4 id="key-aspects-of-containers"><a class="anchor" aria-hidden="true" tabindex="-1" href="#key-aspects-of-containers"><span class="octicon octicon-link"></span></a>Key Aspects of Containers</h4>
    <ul>
      <li><strong>Lightweight</strong>: They share the host operating system's kernel, making them much lighter and faster to start and stop compared to VMs.</li>
      <li><strong>Portability</strong>: Since they include all their dependencies, containers can be moved and run across different environments (development, testing, production, public, private, or hybrid clouds) without needing reconfiguration, ensuring consistent behavior.</li>
      <li><strong>Isolation</strong>: Each container operates as a separate, isolated process, which provides security by encapsulating the application and its dependencies. This allows for detailed control over CPU and memory usage.</li>
      <li><strong>Resource Efficiency</strong>: They promote better utilization of the CPU and memory of physical machines, optimizing infrastructure use.</li>
    </ul>
    <hr>
    <h4 id="type-of-containers"><a class="anchor" aria-hidden="true" tabindex="-1" href="#type-of-containers"><span class="octicon octicon-link"></span></a>Type of Containers</h4>
    <p>There are primarily two types of containers in computing, categorized by their approach and focus:</p>
    <ul>
      <li>System Containers: These are an older form of containers that resemble virtual machines in their approach.They focus on the operating system and allow the execution of multiple processes. They're suitable for traditional or monolithic applications that require environments and configurations similar to those of virtual machines.</li>
      <li>Application Containers: This is a more recent approach, designed to run a single process. They're centered around stateless microservices, being highly scalable horizontally and ideal for immutable and ephemeral infrastructures. If an application or service needs to be updated, a new container is created from the appropriate image to replace the existing instance.</li>
    </ul>
    <p>Besides these types, there are several popular container implementations and runtimes:</p>
    <ul>
      <li>Docker: This is the most popular and widely used container runtime, offering a platform to create, package, and distribute applications in containers.</li>
      <li>RKT (Rocket): A container system focused on security.</li>
      <li>Linux Containers (LXC): An open-source Linux container runtime system, used to isolate processes at the operating system level.</li>
      <li>CRI-O: An implementation of the Kubernetes Container Runtime Interface (CRI) that allows the use of Open Container Initiative (OCI)-compatible runtimes.</li>
    </ul>
    <hr>
    <h4 id="key-containers-elements"><a class="anchor" aria-hidden="true" tabindex="-1" href="#key-containers-elements"><span class="octicon octicon-link"></span></a>Key Containers Elements</h4>
    <ul>
      <li>Namespaces: Creation of isolated environments for groups of processes.</li>
      <li>Cgroups (Control Groups): Control and manage the use of system resources for groups of processes.</li>
      <li>Capabilities: Control of specific permissions granted to processes within a container.</li>
      <li>seccomp, SELinux, AppArmor: Additional layers of security.</li>
    </ul>
    <hr>
    <h4 id="chroot"><a class="anchor" aria-hidden="true" tabindex="-1" href="#chroot"><span class="octicon octicon-link"></span></a>chroot</h4>
    <p>
      <img src="images/chroot.png" alt="chroot">
    </p>
    <p>Test chroot</p>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># download debain files</span>
</span><span class="code-line line-number" line="2"><span class="token function">sudo</span> <span class="token function">debootstrap</span> stable ~vagrant/debian http://deb.debian.org/debian
</span><span class="code-line line-number" line="3"><span class="token function">sudo</span> <span class="token function">chroot</span> ~vagrant/debian <span class="token function">bash</span>
</span></code><div onclick="copied(this)" data-code="# download debain files
sudo debootstrap stable ~vagrant/debian http://deb.debian.org/debian
sudo chroot ~vagrant/debian bash
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <hr>
    <h4 id="namespaces"><a class="anchor" aria-hidden="true" tabindex="-1" href="#namespaces"><span class="octicon octicon-link"></span></a>Namespaces</h4>
    <p>Namespaces are a fundamental Linux kernel feature that provides isolation for processes. They allow a container to have its own independent view of the system resources. Essentially, namespaces partition global system resources into isolated subsets that processes within a specific namespace can access. This gives each container its own isolated set of:</p>
    <ul>
      <li>PID namespace: Isolated process IDs, meaning a process in one container sees a different set of PIDs than a process in another container or on the host.</li>
      <li>Mount namespace: Isolated view of the filesystem mount points. Each container has its own root filesystem.</li>
      <li>Network namespace: Isolated network interfaces, IP addresses, routing tables, etc. Each container can have its own network stack.</li>
      <li>UTS namespace: Isolated hostname and domain name.</li>
      <li>IPC namespace: Isolated inter-process communication resources.</li>
      <li>User namespace: Isolated user and group IDs. This allows a user to be root inside a container without being root on the host system.</li>
    </ul>
    <p>Namespaces are crucial for creating the illusion that a container is a self-contained system.</p>
    <hr>
    <h4 id="cgroups-control-groups"><a class="anchor" aria-hidden="true" tabindex="-1" href="#cgroups-control-groups"><span class="octicon octicon-link"></span></a>Cgroups (Control Groups)</h4>
    <p>Cgroups, or Control Groups, are another vital Linux kernel feature that allows for the allocation, prioritization, and isolation of system resources such as CPU, memory, I/O, and network bandwidth among groups of processes. While namespaces provide isolation for visibility of resources, cgroups provide isolation for resource consumption.</p>
    <p>With cgroups, you can:</p>
    <ul>
      <li>Limit resources: For example, restrict a container to use only a certain percentage of CPU or a specific amount of RAM.</li>
      <li>Prioritize tasks: Give certain containers more CPU time or I/O access than others.</li>
      <li>Monitor usage: Track how much of a given resource a group of processes is consuming.</li>
    </ul>
    <p>Cgroups ensure that one container doesn't consume all available resources on the host, preventing a "noisy neighbor" problem and ensuring fair resource distribution.</p>
    <hr>
    <h4 id="capabilities"><a class="anchor" aria-hidden="true" tabindex="-1" href="#capabilities"><span class="octicon octicon-link"></span></a>Capabilities</h4>
    <p>In traditional Linux security, a process is either "root" (has all privileges) or "non-root" (has limited privileges). This "all or nothing" approach was often too coarse-grained for containers. Capabilities address this by breaking down the traditional "root" privilege into a set of distinct units.</p>
    <p>Instead of running a container as a full root user, you can grant it only the specific capabilities it needs. For example:</p>
    <ul>
      <li>CAP_NET_BIND_SERVICE: Allows binding to privileged network ports (e.g., ports below 1024).</li>
      <li>CAP_SYS_ADMIN: Allows performing a range of system administration operations.</li>
      <li>CAP_KILL: Allows sending signals to any process.</li>
    </ul>
    <p>By dropping unnecessary capabilities, you significantly reduce the attack surface of a container, enhancing its security.</p>
    <hr>
    <h4 id="security-seccomp-selinux-apparmor"><a class="anchor" aria-hidden="true" tabindex="-1" href="#security-seccomp-selinux-apparmor"><span class="octicon octicon-link"></span></a>Security (seccomp, SELinux, AppArmor)</h4>
    <p>Beyond namespaces, cgroups, and capabilities, several other security mechanisms are commonly used with containers to provide additional layers of protection:</p>
    <ul>
      <li>seccomp (Secure Computing Mode): A Linux kernel feature that allows a process to restrict the system calls (syscalls) it can make to the kernel. By applying a seccomp profile, you can define a whitelist or blacklist of syscalls a container is allowed to execute, preventing it from performing potentially dangerous operations.</li>
      <li>SELinux (Security-Enhanced Linux): A mandatory access control (MAC) security module for the Linux kernel. It provides a flexible and fine-grained security policy that can strictly control what programs, users, and processes can do on a system, including within containers.</li>
      <li>AppArmor (Application Armor): Another MAC system for Linux that works by loading security profiles into the kernel. These profiles restrict the capabilities of programs (e.g., file access, network access, and other system calls) to a defined set, often easier to configure than SELinux for specific application confinement.</li>
    </ul>
    <hr>
    <h4 id="3521-important-commands"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3521-important-commands"><span class="octicon octicon-link"></span></a>352.1 Important Commands</h4>
    <h5 id="unshare"><a class="anchor" aria-hidden="true" tabindex="-1" href="#unshare"><span class="octicon octicon-link"></span></a>unshare</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># create a new namespaces and run a command in it</span>
</span><span class="code-line line-number" line="2">unshare <span class="token parameter variable">--mount</span> <span class="token parameter variable">--uts</span> <span class="token parameter variable">--ipc</span> <span class="token parameter variable">--user</span> <span class="token parameter variable">--pid</span> <span class="token parameter variable">--net</span>  --map-root-user --mount-proc <span class="token parameter variable">--fork</span> <span class="token function">chroot</span> ~vagrant/debian <span class="token function">bash</span>
</span><span class="code-line line-number" line="3"><span class="token comment"># mount /proc for test</span>
</span><span class="code-line line-number" line="4"><span class="token comment">#mount -t proc proc /proc</span>
</span><span class="code-line line-number" line="5"><span class="token comment">#ps -aux</span>
</span><span class="code-line line-number" line="6"><span class="token comment">#ip addr show</span>
</span><span class="code-line line-number" line="7"><span class="token comment">#umount /proc</span>
</span><span class="code-line line-number" line="8"><span class="token function">umount</span> /proc
</span></code><div onclick="copied(this)" data-code="# create a new namespaces and run a command in it
unshare --mount --uts --ipc --user --pid --net  --map-root-user --mount-proc --fork chroot ~vagrant/debian bash
# mount /proc for test
#mount -t proc proc /proc
#ps -aux
#ip addr show
#umount /proc
umount /proc
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="lsns"><a class="anchor" aria-hidden="true" tabindex="-1" href="#lsns"><span class="octicon octicon-link"></span></a>lsns</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># show all namespaces</span>
</span><span class="code-line line-number" line="2">lsns
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># show only pid namespace</span>
</span><span class="code-line line-number" line="5">lsns <span class="token parameter variable">-s</span> <span class="token operator">&#x3C;</span>pid<span class="token operator">></span>
</span><span class="code-line line-number" line="6">lsns <span class="token parameter variable">-p</span> <span class="token number">3669</span>
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8"><span class="token function">ls</span> <span class="token parameter variable">-l</span> /proc/<span class="token operator">&#x3C;</span>pid<span class="token operator">></span>/ns
</span><span class="code-line line-number" line="9"><span class="token function">ls</span> <span class="token parameter variable">-l</span> /proc/3669/ns
</span><span class="code-line line-number" line="10">
</span><span class="code-line line-number" line="11"><span class="token function">ps</span> <span class="token parameter variable">-o</span> pid,pidns,netns,ipcns,utsns,userns,args <span class="token parameter variable">-p</span> <span class="token operator">&#x3C;</span>PID<span class="token operator">></span>
</span><span class="code-line line-number" line="12"><span class="token function">ps</span> <span class="token parameter variable">-o</span> pid,pidns,netns,ipcns,utsns,userns,args <span class="token parameter variable">-p</span> <span class="token number">3669</span>
</span><span class="code-line line-number" line="13">
</span></code><div onclick="copied(this)" data-code="# show all namespaces
lsns

# show only pid namespace
lsns -s <pid>
lsns -p 3669

ls -l /proc/<pid>/ns
ls -l /proc/3669/ns

ps -o pid,pidns,netns,ipcns,utsns,userns,args -p <PID>
ps -o pid,pidns,netns,ipcns,utsns,userns,args -p 3669

" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="nsenter"><a class="anchor" aria-hidden="true" tabindex="-1" href="#nsenter"><span class="octicon octicon-link"></span></a>nsenter</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># execute a command in namespace</span>
</span><span class="code-line line-number" line="2"><span class="token function">sudo</span> nsenter <span class="token parameter variable">-t</span> <span class="token operator">&#x3C;</span>PID<span class="token operator">></span> <span class="token parameter variable">-n</span>  <span class="token function">ip</span> <span class="token function">link</span> show
</span><span class="code-line line-number" line="3"><span class="token function">sudo</span> nsenter <span class="token parameter variable">-t</span> <span class="token number">3669</span> <span class="token parameter variable">-n</span> <span class="token function">ip</span> <span class="token function">link</span> show
</span></code><div onclick="copied(this)" data-code="# execute a command in namespace
sudo nsenter -t <PID> -n  ip link show
sudo nsenter -t 3669 -n ip link show
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h5 id="2521-ip"><a class="anchor" aria-hidden="true" tabindex="-1" href="#2521-ip"><span class="octicon octicon-link"></span></a>252.1 ip</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># create a new network namespace</span>
</span><span class="code-line line-number" line="2"><span class="token function">sudo</span> <span class="token function">ip</span> netns <span class="token function">add</span> lxc1
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token comment"># list network list</span>
</span><span class="code-line line-number" line="5"><span class="token function">ip</span> netns list
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token comment"># exec command in network namespace</span>
</span><span class="code-line line-number" line="8"><span class="token function">sudo</span> <span class="token function">ip</span> netns <span class="token builtin class-name">exec</span> lxc1 <span class="token function">ip</span> addr show
</span></code><div onclick="copied(this)" data-code="# create a new network namespace
sudo ip netns add lxc1

# list network list
ip netns list

# exec command in network namespace
sudo ip netns exec lxc1 ip addr show
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <hr>
    <p align="right">(<a href="#topic-352.1">back to sub topic 352.1</a>)</p>
    <p align="right">(<a href="#topic-352">back to topic 352</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr>
    <p><a name="topic-352.2"></a></p>
    <h3 id="3522-lxc"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3522-lxc"><span class="octicon octicon-link"></span></a>352.2 LXC</h3>
    <p><strong>Weight:</strong> 6</p>
    <p><strong>Description:</strong> Candidates should be able to use system containers using LXC and LXD. The version of LXC covered is 3.0 or higher.</p>
    <p><strong>Key Knowledge Areas:</strong></p>
    <ul>
      <li>Understand the architecture of LXC and LXD</li>
      <li>Manage LXC containers based on existing images using LXD, including networking and storage</li>
      <li>Configure LXC container properties</li>
      <li>Limit LXC container resource usage</li>
      <li>Use LXD profiles</li>
      <li>Understand LXC images</li>
      <li>Awareness of traditional LXC tools</li>
    </ul>
    <h4 id="3522-cited-objects"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3522-cited-objects"><span class="octicon octicon-link"></span></a>352.2 Cited Objects</h4>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">lxd
</span><span class="code-line line-number" line="2">lxc <span class="token punctuation">(</span>including relevant subcommands<span class="token punctuation">)</span>
</span></code><div onclick="copied(this)" data-code="lxd
lxc (including relevant subcommands)
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="3522-important-commands"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3522-important-commands"><span class="octicon octicon-link"></span></a>352.2 Important Commands</h4>
    <h5 id="foo"><a class="anchor" aria-hidden="true" tabindex="-1" href="#foo"><span class="octicon octicon-link"></span></a>foo</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">foo
</span></code><div onclick="copied(this)" data-code="foo
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p align="right">(<a href="#topic-352.2">back to sub topic 352.2</a>)</p>
    <p align="right">(<a href="#topic-352">back to topic 352</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr>
    <p><a name="topic-352.3"></a></p>
    <h3 id="3523-docker"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3523-docker"><span class="octicon octicon-link"></span></a>352.3 Docker</h3>
    <p><strong>Weight:</strong> 9</p>
    <p><strong>Description:</strong> Candidate should be able to manage Docker nodes and Docker containers. This include understand the architecture of Docker as well as understanding how Docker interacts with the nodeâ€™s Linux system.</p>
    <p><strong>Key Knowledge Areas:</strong></p>
    <ul>
      <li>Understand the architecture and components of Docker</li>
      <li>Manage Docker containers by using images from a Docker registry</li>
      <li>Understand and manage images and volumes for Docker containers</li>
      <li>Understand and manage logging for Docker containers</li>
      <li>Understand and manage networking for Docker</li>
      <li>Use Dockerfiles to create container images</li>
      <li>Run a Docker registry using the registry Docker image</li>
    </ul>
    <h4 id="3523-cited-objects"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3523-cited-objects"><span class="octicon octicon-link"></span></a>352.3 Cited Objects</h4>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">dockerd
</span><span class="code-line line-number" line="2">/etc/docker/daemon.json
</span><span class="code-line line-number" line="3">/var/lib/docker/
</span><span class="code-line line-number" line="4"><span class="token function">docker</span>
</span><span class="code-line line-number" line="5">Dockerfile
</span></code><div onclick="copied(this)" data-code="dockerd
/etc/docker/daemon.json
/var/lib/docker/
docker
Dockerfile
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="3523-important-commands"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3523-important-commands"><span class="octicon octicon-link"></span></a>352.3 Important Commands</h4>
    <h5 id="docker"><a class="anchor" aria-hidden="true" tabindex="-1" href="#docker"><span class="octicon octicon-link"></span></a>docker</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># Examples of docker</span>
</span></code><div onclick="copied(this)" data-code="# Examples of docker
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p align="right">(<a href="#topic-352.3">back to sub topic 352.3</a>)</p>
    <p align="right">(<a href="#topic-352">back to topic 352</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr>
    <p><a name="topic-352.4"></a></p>
    <h3 id="3524-container-orchestration-platforms"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3524-container-orchestration-platforms"><span class="octicon octicon-link"></span></a>352.4 Container Orchestration Platforms</h3>
    <p><strong>Weight:</strong> 3</p>
    <p><strong>Description:</strong> Candidates should understand the importance of container orchestration and the key concepts Docker Swarm and Kubernetes provide to implement container orchestration.</p>
    <p><strong>Key Knowledge Areas:</strong></p>
    <ul>
      <li>Understand the relevance of container orchestration</li>
      <li>Understand the key concepts of Docker Compose and Docker Swarm</li>
      <li>Understand the key concepts of Kubernetes and Helm</li>
      <li>Awareness of OpenShift, Rancher and Mesosphere DC/OS</li>
    </ul>
    <p align="right">(<a href="#topic-352.4">back to sub topic 352.4</a>)</p>
    <p align="right">(<a href="#topic-352">back to topic 352</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr>
    <p><a name="topic-353"></a></p>
    <h2 id="topic-353-vm-deployment-and-provisioning"><a class="anchor" aria-hidden="true" tabindex="-1" href="#topic-353-vm-deployment-and-provisioning"><span class="octicon octicon-link"></span></a>Topic 353: VM Deployment and Provisioning</h2>
    <hr>
    <p><a name="topic-353.1"></a></p>
    <h3 id="3531--cloud-management-tools"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3531--cloud-management-tools"><span class="octicon octicon-link"></span></a>353.1 Cloud Management Tools</h3>
    <p><strong>Weight:</strong> 2</p>
    <p><strong>Description:</strong> Candidates should understand common offerings in public clouds and have basic feature knowledge of commonly available cloud management tools.</p>
    <p><strong>Key Knowledge Areas:</strong></p>
    <ul>
      <li>Understand common offerings in public clouds</li>
      <li>Basic feature knowledge of OpenStack</li>
      <li>Basic feature knowledge of Terraform</li>
      <li>Awareness of CloudStack, Eucalyptus and OpenNebula</li>
    </ul>
    <h4 id="3531-cited-objects"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3531-cited-objects"><span class="octicon octicon-link"></span></a>353.1 Cited Objects</h4>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">IaaS, PaaS, SaaS
</span><span class="code-line line-number" line="2">OpenStack
</span><span class="code-line line-number" line="3">Terraform
</span></code><div onclick="copied(this)" data-code="IaaS, PaaS, SaaS
OpenStack
Terraform
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="3531-important-commands"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3531-important-commands"><span class="octicon octicon-link"></span></a>353.1 Important Commands</h4>
    <h5 id="foo-1"><a class="anchor" aria-hidden="true" tabindex="-1" href="#foo-1"><span class="octicon octicon-link"></span></a>foo</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># examples</span>
</span></code><div onclick="copied(this)" data-code="# examples
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p align="right">(<a href="#topic-353.1">back to sub topic 353.1</a>)</p>
    <p align="right">(<a href="#topic-353">back to topic 353</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr>
    <p><a name="topic-353.2"></a></p>
    <h3 id="3532-packer"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3532-packer"><span class="octicon octicon-link"></span></a>353.2 Packer</h3>
    <p><strong>Weight:</strong> 2</p>
    <p><strong>Description:</strong> Candidates should be able to use Packer to create system images. This includes running Packer in various public and private cloud environments as well as building container images for LXC/LXD.</p>
    <p><strong>Key Knowledge Areas:</strong></p>
    <ul>
      <li>Understand the functionality and features of Packer</li>
      <li>Create and maintain template files</li>
      <li>Build images from template files using different builders</li>
    </ul>
    <h4 id="3532-cited-objects"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3532-cited-objects"><span class="octicon octicon-link"></span></a>353.2 Cited Objects</h4>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">packer
</span></code><div onclick="copied(this)" data-code="packer
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="3532-important-commands"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3532-important-commands"><span class="octicon octicon-link"></span></a>353.2 Important Commands</h4>
    <h5 id="packer"><a class="anchor" aria-hidden="true" tabindex="-1" href="#packer"><span class="octicon octicon-link"></span></a>packer</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># examples</span>
</span></code><div onclick="copied(this)" data-code="# examples
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p align="right">(<a href="#topic-353.2">back to sub topic 353.2</a>)</p>
    <p align="right">(<a href="#topic%20353">back to topic 353</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr>
    <p><a name="topic-353.3"></a></p>
    <h3 id="3533-cloud-init"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3533-cloud-init"><span class="octicon octicon-link"></span></a>353.3 cloud-init</h3>
    <p><strong>Weight:</strong> 3</p>
    <p><strong>Description:</strong> Candidates should able to use cloud-init to configure virtual machines created from standardized images. This includes adjusting virtual machines to match their available hardware resources, specifically, disk space and volumes.<br>Additionally, candidates should be able to configure instances to allow secure SSH logins and install a specific set of software packages.<br>Furthermore, candidates should be able to create new system images with cloud-init support.</p>
    <p><strong>Key Knowledge Areas:</strong></p>
    <ul>
      <li>Understanding the features and concepts of cloud-init, including user-data, initializing and configuring cloud-init</li>
      <li>Use cloud-init to create, resize and mount file systems, configure user accounts, including login credentials such as SSH keys and install software packages from the distributionâ€™s repository</li>
      <li>Integrate cloud-init into system images</li>
      <li>Use config drive datasource for testing</li>
    </ul>
    <h4 id="3533-cited-objects"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3533-cited-objects"><span class="octicon octicon-link"></span></a>353.3 Cited Objects</h4>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">cloud-init
</span><span class="code-line line-number" line="2">user-data
</span><span class="code-line line-number" line="3">/var/lib/cloud/
</span></code><div onclick="copied(this)" data-code="cloud-init
user-data
/var/lib/cloud/
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="3533-important-commands"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3533-important-commands"><span class="octicon octicon-link"></span></a>353.3 Important Commands</h4>
    <h5 id="foo-2"><a class="anchor" aria-hidden="true" tabindex="-1" href="#foo-2"><span class="octicon octicon-link"></span></a>foo</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># examples</span>
</span></code><div onclick="copied(this)" data-code="# examples
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p align="right">(<a href="#topic-353.3">back to sub topic 353.3</a>)</p>
    <p align="right">(<a href="#topic%20353">back to topic 353</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr>
    <p><a name="topic-353.4"></a></p>
    <h3 id="3534-vagrant"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3534-vagrant"><span class="octicon octicon-link"></span></a>353.4 Vagrant</h3>
    <p><strong>Weight:</strong> 3</p>
    <p><strong>Description:</strong> Candidate should be able to use Vagrant to manage virtual machines, including provisioning of the virtual machine.</p>
    <p><strong>Key Knowledge Areas:</strong></p>
    <ul>
      <li>Understand Vagrant architecture and concepts, including storage and networking</li>
      <li>Retrieve and use boxes from Atlas</li>
      <li>Create and run Vagrantfiles</li>
      <li>Access Vagrant virtual machines</li>
      <li>Share and synchronize folder between a Vagrant virtual machine and the host system</li>
      <li>Understand Vagrant provisioning, i.e. File and Shell provisioners</li>
      <li>Understand multi-machine setup</li>
    </ul>
    <h4 id="3534-cited-objects"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3534-cited-objects"><span class="octicon octicon-link"></span></a>353.4 Cited Objects</h4>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1">vagrant
</span><span class="code-line line-number" line="2">Vagrantfile
</span></code><div onclick="copied(this)" data-code="vagrant
Vagrantfile
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <h4 id="3534-important-commands"><a class="anchor" aria-hidden="true" tabindex="-1" href="#3534-important-commands"><span class="octicon octicon-link"></span></a>353.4 Important Commands</h4>
    <h5 id="vagrant"><a class="anchor" aria-hidden="true" tabindex="-1" href="#vagrant"><span class="octicon octicon-link"></span></a>vagrant</h5>
    <pre class="language-sh"><code class="language-sh code-highlight"><span class="code-line line-number" line="1"><span class="token comment"># examples</span>
</span></code><div onclick="copied(this)" data-code="# examples
" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
    <p align="right">(<a href="#topic-353.4">back to sub topic 353.4</a>)</p>
    <p align="right">(<a href="#topic%20353">back to topic 353</a>)</p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr>
    <h2 id="contributing"><a class="anchor" aria-hidden="true" tabindex="-1" href="#contributing"><span class="octicon octicon-link"></span></a>Contributing</h2>
    <p>
      Contributions are what make the open source community such an amazing place to
      learn, inspire, and create. Any contributions you make are <strong>greatly appreciated</strong>.
    </p>
    <p>
      If you have a suggestion that would make this better, please fork the repo and
      create a pull request. You can also simply open an issue with the tag "enhancement".
      Don't forget to give the project a star! Thanks again!
    </p>
    <ol>
      <li>Fork the Project</li>
      <li>Create your Feature Branch (<code>git checkout -b feature/AmazingFeature</code>)</li>
      <li>Commit your Changes (<code>git commit -m 'Add some AmazingFeature'</code>)</li>
      <li>Push to the Branch (<code>git push origin feature/AmazingFeature</code>)</li>
      <li>Open a Pull Request</li>
    </ol>
    <hr>
    <h2 id="license"><a class="anchor" aria-hidden="true" tabindex="-1" href="#license"><span class="octicon octicon-link"></span></a>License</h2>
    <ul>
      <li>This project is licensed under the MIT License * see the LICENSE.md file for details</li>
    </ul>
    <hr>
    <h2 id="contact"><a class="anchor" aria-hidden="true" tabindex="-1" href="#contact"><span class="octicon octicon-link"></span></a>Contact</h2>
    <p>Marcos Silvestrini - <a href="mailto:marcos.silvestrini@gmail.com">marcos.silvestrini@gmail.com</a><br><a href="https://twitter.com/mrsilvestrini"><img src="https://img.shields.io/twitter/url/https/twitter.com/mrsilvestrini.svg?style=social&#x26;label=Follow%20%40mrsilvestrini" alt="Twitter"></a></p>
    <p>Project Link: <a href="https://github.com/marcossilvestrini/learning-lpic-3-305-300">https://github.com/marcossilvestrini/learning-lpic-3-305-300</a></p>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr>
    <h2 id="acknowledgments"><a class="anchor" aria-hidden="true" tabindex="-1" href="#acknowledgments"><span class="octicon octicon-link"></span></a>Acknowledgments</h2>
    <ul>
      <li><a href="http://www.stallman.org/">Richard Stallman's</a></li>
      <li><a href="">GNU</a>
        <ul>
          <li><a href="https://www.gnu.org/gnu/gnu-linux-faq.html">GNU/Linux FAQ by Richard Stallman</a></li>
          <li><a href="https://www.gnu.org/">GNU</a></li>
          <li><a href="https://www.gnu.org/gnu/thegnuproject.html">GNU Operating System</a></li>
          <li><a href="https://gcc.gnu.org/wiki/History">GCC Compiler</a></li>
          <li><a href="https://www.gnu.org/software/tar/">GNU Tar</a></li>
          <li><a href="https://www.gnu.org/software/make/">GNU Make</a></li>
          <li><a href="https://en.wikipedia.org/wiki/Emacs">GNU Emacs</a></li>
          <li><a href="https://www.gnu.org/software/">GNU Packages</a></li>
          <li><a href="https://directory.fsf.org/wiki/Collection:GNU/Linux">GNU/Linux Collection</a></li>
          <li><a href="https://www.gnu.org/software/grub/">GNU Grub Bootloader</a></li>
          <li><a href="https://www.gnu.org/software/hurd/hurd/what_is_the_gnu_hurd.html">GNU Hurd</a></li>
        </ul>
      </li>
      <li><a href="">Kernel</a>
        <ul>
          <li><a href="https://www.kernel.org/">Kernel</a></li>
          <li><a href="https://www.kernel.org/doc/man-pages/">Linux Kernel Man Pages</a></li>
          <li><a href="https://wiki.linuxquestions.org/wiki/How_to_build_and_install_your_own_Linux_kernel">Compile Your Kernel</a></li>
        </ul>
      </li>
      <li><a href="">Linux Standard Base</a>
        <ul>
          <li><a href="https://en.wikipedia.org/wiki/Linux_Standard_Base">Linux Standard Base</a></li>
          <li><a href="https://en.wikipedia.org/wiki/Filesystem_Hierarchy_Standard">Filesystem Hierarchy Standard</a></li>
          <li><a href="https://refspecs.linuxfoundation.org/FHS_3.0/fhs-3.0.pdf">File Hierarchy Structure</a></li>
        </ul>
      </li>
      <li><a href="">Free Software</a>
        <ul>
          <li><a href="https://www.fsf.org/">FSF</a></li>
          <li><a href="https://directory.fsf.org/wiki/Free_Software_Directory:Free_software_replacements">Free Software Directory</a></li>
        </ul>
      </li>
      <li><a href="">License</a>
        <ul>
          <li><a href="https://www.gnu.org/philosophy/free-sw.html">Free Software</a></li>
          <li><a href="https://www.gnu.org/licenses/copyleft.en.html">Copyleft</a></li>
          <li><a href="https://www.gnu.org/licenses/quick-guide-gplv3.html">GPL</a></li>
          <li><a href="https://www.gnu.org/licenses/lgpl-3.0.html">GNU Lesser General Public License</a></li>
          <li><a href="https://opensource.org/licenses/BSD-3-Clause">BSD</a></li>
          <li><a href="https://opensource.org/">Open Source Initiative</a></li>
          <li><a href="https://creativecommons.org/">Creative Commons</a></li>
          <li><a href="https://en.wikipedia.org/wiki/Long-term_support">License LTS</a></li>
        </ul>
      </li>
      <li><a href="">Distros</a>
        <ul>
          <li><a href="https://www.debian.org/social_contract#guidelines">Debian Free Software Guidelines</a></li>
          <li><a href="https://en.wikipedia.org/wiki/List_of_Linux_distributions">List Linux Distribution</a></li>
          <li><a href="https://distrowatch.com/">Distro Watch</a></li>
          <li><a href="https://en.wikipedia.org/wiki/Comparison_of_Linux_distributions">Comparison Linux Distributions</a></li>
        </ul>
      </li>
      <li><a href="">Desktop Environments</a>
        <ul>
          <li><a href="https://www.x.org/wiki/">X11 Org</a></li>
          <li><a href="https://wayland.freedesktop.org/">Wayland</a></li>
          <li><a href="https://www.gnu.org/press/gnome-1.0.html">GNU GNOME</a></li>
          <li><a href="https://www.gnome.org/">GNOME</a></li>
          <li><a href="https://xfce.org/">XFCE</a></li>
          <li><a href="https://kde.org/plasma-desktop/">KDE Plasma</a></li>
          <li><a href="https://en.wikipedia.org/wiki/Harmony_(toolkit)">Harmony</a></li>
        </ul>
      </li>
      <li><a href="">Protocols</a>
        <ul>
          <li><a href="">HTTP</a>
            <ul>
              <li><a href="https://w3techs.com/">W3Techs</a></li>
              <li><a href="https://www.apache.org/">Apache</a></li>
              <li><a href="https://httpd.apache.org/docs/2.4/mod/directives.html">Apache Directives</a></li>
              <li><a href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes">HTTP Status Codes</a></li>
              <li><a href="https://cipherlist.eu/">Strong Ciphers for Apache, nginx and Lighttpd</a></li>
              <li><a href="https://www.golinuxcloud.com/blog/">SSL Tutorials</a></li>
              <li><a href="https://ssl-config.mozilla.org/">SSL Config Mozilla</a></li>
            </ul>
          </li>
          <li><a href="https://bytexd.com/xrdp-centos/">xRDP</a></li>
          <li><a href="https://www.ntppool.org/en/">NTP</a></li>
        </ul>
      </li>
      <li><a href="">DNS</a>
        <ul>
          <li><a href="https://www.isc.org/bind/">Bind</a></li>
          <li><a href="https://www.zytrax.com/books/dns/ch7/logging.html">Bind Logging</a></li>
          <li><a href="https://en.wikipedia.org/wiki/List_of_DNS_record_types">List of DNS record types</a></li>
          <li><a href="https://en.wikipedia.org/wiki/List_of_DNS_record_types">List of DNS record types</a></li>
        </ul>
      </li>
      <li><a href="">Package Manager</a>
        <ul>
          <li><a href="https://pkgs.org/">Download Packages</a></li>
          <li><a href="https://installati.one/">Install Packages</a></li>
          <li><a href="https://installati.one/">Guide Install Packages</a></li>
        </ul>
      </li>
      <li><a href="">Shell Script</a>
        <ul>
          <li><a href="https://www.gnu.org/software/bash/manual/">Bourne Again Shell</a></li>
          <li><a href="https://bash.cyberciti.biz/guide/Shebang">Shebang</a></li>
          <li><a href="https://linuxize.com/post/how-to-set-and-list-environment-variables-in-linux/">Environment Variables</a></li>
          <li><a href="https://man7.org/linux/man-pages/man7/glob.7.html">GNU Globbing</a></li>
          <li><a href="https://linuxhint.com/bash_globbing_tutorial/">Globbing</a></li>
          <li><a href="https://www.gnu.org/software/bash/manual/html_node/Quoting.html">Quoting</a></li>
          <li><a href="https://www.gnu.org/software/grep/manual/html_node/Regular-Expressions.html">Regular Expressions</a></li>
          <li><a href="https://command-not-found.com/">Command Not Found</a></li>
          <li><a href="https://bash-prompt-generator.org/">Bash Prompt Generator</a></li>
          <li><a href="https://explainshell.com/">Explainshell</a></li>
          <li><a href="https://www.openvim.com/">Vim Tutorial</a></li>
          <li><a href="https://bash.cyberciti.biz/guide/Main_Page">Linux Shell Scripting Tutorial</a></li>
          <li><a href="https://www.geeksforgeeks.org/">Commands Examples</a></li>
        </ul>
      </li>
      <li><a href="">Others Tools</a>
        <ul>
          <li><a href="https://bugzilla.kernel.org/">Bugzila</a></li>
          <li><a href="https://github.com/alexandresanlim/Badges4-README.md-Profile">Github Badges</a></li>
        </ul>
      </li>
      <li><a href="">Virtualization Definitions</a>
        <ul>
          <li><a href="https://www.redhat.com/pt-br/topics/virtualization/what-is-virtualization">Red Hat</a></li>
          <li><a href="https://aws.amazon.com/pt/what-is/virtualization/">AWS</a></li>
          <li><a href="https://www.ibm.com/topics/virtualization">IBM</a></li>
          <li><a href="https://opensource.com/resources/virtualization">OpenSource.com</a></li>
        </ul>
      </li>
      <li><a href="">Xen</a>
        <ul>
          <li><a href="https://www.xenserver.com/">XenServer</a></li>
          <li><a href="https://wiki.xenproject.org/wiki/Main_Page">Wiki XenProject</a></li>
          <li><a href="https://wiki.xenproject.org/wiki/Xen_Networking#Virtual_Network_Interfaces">Network Interfaces</a></li>
          <li><a href="https://xen-tools.org/software/">Xen Tools</a></li>
          <li><a href="https://www.lpi.org/pt-br/blog/2020/10/01/xen-virtualization-and-cloud-computing-01-introduction/">LPI Blog: Xen Virtualization and Cloud Computing #01: Introduction</a></li>
          <li><a href="https://www.lpi.org/blog/2020/10/08/xen-virtualization-and-cloud-computing-02-how-xen-does-job/">LPI Blog: Xen Virtualization and Cloud Computing #02: How Xen Does the Job</a></li>
          <li><a href="https://www.lpi.org/pt-br/blog/2020/10/22/xen-virtualization-and-cloud-computing-04-containers-openstack-and-other-related/">LPI Blog: Xen Virtualization and Cloud Computing #04: Containers, OpenStack, and Other Related Platforms</a></li>
          <li><a href="https://www.lpi.org/pt-br/blog/2020/10/29/xen-virtualization-and-cloud-computing-05-xen-project-unikernels-and-future/">Xen Virtualization and Cloud Computing #05: The Xen Project, Unikernels, and the Future</a></li>
          <li><a href="https://wiki.xenproject.org/wiki/Xen_Project_Beginners_Guide#Installing_the_Xen_Project_Software">Xen Project Beginners Guide</a></li>
          <li><a href="https://wiki.xenproject.org/wiki/Book/HelloXenProject/0-Contents">Crazy Book</a></li>
        </ul>
      </li>
      <li><a href="https://www.lpi.org/blog/2020/10/29/xen-virtualization-and-cloud-computing-05-xen-project-unikernels-and-future/">Unikernels</a>
        <ul>
          <li><a href="https://github.com/unikraft/unikraft">Unikraft</a></li>
          <li><a href="https://mirage.io/docs/hello-world">MirageOS</a></li>
          <li><a href="https://galois.com/project/halvm/">HaLVM</a></li>
          <li><a href="https://github.com/solo-io/unik/blob/master/docs/providers/virtualbox.md">Unik</a></li>
        </ul>
      </li>
      <li><a href="">KVM</a>
        <ul>
          <li><a href="https://linux-kvm.org/page/Main_Page">Oficial Doc</a></li>
          <li><a href="https://www.redhat.com/pt-br/topics/virtualization/what-is-KVM">KVM(Kernel Virtual Machines by RedHat)</a></li>
          <li><a href="https://www.linux-kvm.org/page/Management_Tools">KVM Management Tools</a></li>
          <li><a href="https://www.linux-kvm.org/page/Networking">KVM Network</a></li>
        </ul>
      </li>
      <li><a href="">QEMU</a>
        <ul>
          <li><a href="https://www.qemu.org/">Oficial Doc</a></li>
          <li><a href="https://www.osboxes.org/">Download Images osboxes</a></li>
          <li><a href="https://www.linuxvmimages.com/">Download Images linuximages</a></li>
          <li><a href="https://en.wikibooks.org/wiki/QEMU/Devices/Virtio">Virtio</a></li>
          <li><a href="https://wiki.qemu.org/Features/GuestAgent">Guest Agent</a></li>
        </ul>
      </li>
      <li><a href="">Libvirt</a>
        <ul>
          <li><a href="https://libvirt.org/">Oficial Doc</a></li>
          <li><a href="https://libvirt.org/manpages/libvirtd.html#system-socket-activation">System Socket Activation</a></li>
          <li><a href="https://libvirt.org/uri.html">Conections</a></li>
          <li><a href="https://libvirt.org/storage.html">Storage</a></li>
          <li><a href="https://wiki.libvirt.org/Networking.html">Network</a></li>
          <li><a href="https://wiki.libvirt.org/VirtualNetworking.html">VirtualNetwork</a></li>
          <li><a href="https://libvirt.org/manpages/virtlogd.html">virtlogd</a></li>
          <li><a href="https://libvirt.org/manpages/virtlockd.html">virtlockd</a></li>
          <li><a href="https://virt-manager.org/">virt-manager</a></li>
        </ul>
      </li>
      <li><a href="">Disk Managment</a>
        <ul>
          <li><a href="https://qemu-project.gitlab.io/qemu/system/images.html">Disk Images</a></li>
          <li><a href="https://sempreupdate.com.br/linux/tutoriais/sistema-de-arquivos-copy-on-write-saiba-o-que-e-e-quais-as-vantagens-e-desvantagens/">copy-on-write</a></li>
          <li><a href="https://docs.redhat.com/en/documentation/red_hat_virtualization/4.3/html/technical_reference/qcow2">RAM x QCOW2</a></li>
          <li><a href="https://libguestfs.org/">Libguestfs</a></li>
        </ul>
      </li>
      <li><a href="">Virtualization and Containerization</a>
        <ul>
          <li><a href="https://aws.amazon.com/pt/containers/">AWS Doc Containers</a></li>
          <li><a href="https://cloud.google.com/learn/what-are-containers?hl=pt-br">GCP Doc Containers</a></li>
          <li><a href="https://www.ibm.com/br-pt/topics/containers">IBM Doc Container</a></li>
          <li><a href="https://www.redhat.com/en/topics/containers/whats-a-linux-container">Red Hat Docs Containers</a></li>
          <li><a href="https://manpages.ubuntu.com/manpages/noble/man7/namespaces.7.html">Namespaces</a></li>
          <li><a href="https://www.redhat.com/en/blog/7-linux-namespaces">Most important Namespaces</a></li>
        </ul>
      </li>
      <li><a href="">Openstack Docs</a>
        <ul>
          <li><a href="https://www.redhat.com/pt-br/topics/openstack">RedHat</a></li>
        </ul>
      </li>
      <li><a href="">Open vSwitch</a>
        <ul>
          <li><a href="https://blog.4linux.com.br/open-vswitch-o-que-e-o-que-come-onde-vive">OVS Doc 4Linux</a></li>
        </ul>
      </li>
      <li><a href="">LPIC-3 305-300 Exam</a>
        <ul>
          <li><a href="https://www.lpi.org/our-certifications/exam-305-objectives/">LPIC-3 305-300 Objectives</a></li>
          <li><a href="https://wiki.lpi.org/wiki/LPIC-305_Objectives_V3.0">LPIC-3 305-300 Wiki</a></li>
          <li><a href="https://cursos.linuxsemfronteiras.com.br/courses/preparatorio-para-certificacao-lpic-3-305/">LPIC-3 305-300 Learning Material</a></li>
          <li><a href="https://www.itexams.com/info/305-300">LPIC-3 305-300 Simulated Exam By ITexams</a></li>
        </ul>
      </li>
    </ul>
    <p align="right">(<a href="#readme-top">back to top</a>)</p>
    <hr><!-- MARKDOWN LINKS & IMAGES--><!-- https://www.markdownguide.org/basic-syntax/#reference-style-links -->
    <script>/*! @uiw/copy-to-clipboard v1.0.12 | MIT (c) 2021 Kenny Wang | https://github.com/uiwjs/copy-to-clipboard.git */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).copyTextToClipboard=t()}(this,(function(){"use strict";return function(e,t){const o=document.createElement("textarea");o.value=e,o.setAttribute("readonly",""),o.style={position:"absolute",left:"-9999px"},document.body.appendChild(o);const n=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);o.select();let c=!1;try{c=!!document.execCommand("copy")}catch(e){c=!1}document.body.removeChild(o),n&&document.getSelection&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n)),t&&t(c)}}));

function copied(target, str) {
  target.classList.add('active');
  copyTextToClipboard(target.dataset.code, function() {
    setTimeout(() => {
      target.classList.remove('active');
    }, 2000);
  });
}</script>
  </div></body>
</html>
